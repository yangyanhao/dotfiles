2012-07-25 09:14:00	-->	john_hamelink (~johnhamel@31.185.239.84) has joined #symble
2012-07-25 09:14:00	--	Nicks #symble: [alanhollis ArnaudFrugierBNC BenjaminMaugain john_hamelink johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-25 09:14:00	--	Channel #symble: 8 nicks (0 ops, 0 halfops, 0 voices, 8 normals)
2012-07-25 09:14:04	--	Mode #symble [+cnt]
2012-07-25 09:14:04	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-25 09:15:22	--	MaxGaudronBNC is now known as MaxGaudron
2012-07-25 09:15:26	MaxGaudron	Helloo
2012-07-25 09:15:36	MaxGaudron	development.illlo.eu john_hamelink
2012-07-25 09:15:45	MaxGaudron	or johnhamelink  i don't know
2012-07-25 09:15:46	MaxGaudron	:p
2012-07-25 09:15:54	john_hamelink	thanks MaxGaudron, what port? ^_^
2012-07-25 09:15:58	MaxGaudron	1337
2012-07-25 09:16:01	john_hamelink	cheers
2012-07-25 09:19:07	MaxGaudron	john_hamelink do we have a GIT repo for the corporate website ?
2012-07-25 09:20:12	MaxGaudron	ok yes we have cool
2012-07-25 09:20:36	MaxGaudron	why i didn't checked when i had to move this website :'( whyyy ? :D
2012-07-25 09:21:09	john_hamelink	aarg
2012-07-25 09:21:10	john_hamelink	:P
2012-07-25 09:34:05	john_hamelink	I think I just got banned from your BNC server ahah
2012-07-25 09:36:16	MaxGaudron	and the repo is not clean apparently -_-
2012-07-25 09:36:22	MaxGaudron	http://www.symble.net/ <-- okay
2012-07-25 09:36:32	MaxGaudron	every other page, no css
2012-07-25 09:36:54	--	BenjaminMaugain is now known as benjMaugain_AFK
2012-07-25 09:37:53	MaxGaudron	why ? what did you do ? :D
2012-07-25 09:38:44	--	benjMaugain_AFK is now known as BenjaminMaugain
2012-07-25 09:39:15	john_hamelink	oooh ouch MaxGaudron (and I was just temp banned for too many failed password attempts)
2012-07-25 09:39:55	john_hamelink	aah yeah
2012-07-25 09:40:05	john_hamelink	the problem is that the CSS path is relative
2012-07-25 09:40:09	john_hamelink	needs to have a / in it
2012-07-25 09:40:21	MaxGaudron	...
2012-07-25 09:40:23	MaxGaudron	grrrr
2012-07-25 09:40:24	john_hamelink	it works with symble.net because then it makes symble.net/css/style.css
2012-07-25 09:40:39	MaxGaudron	yeah but before i hadn't this issue
2012-07-25 09:40:53	MaxGaudron	somebody changed that on the live website but not on the git repository
2012-07-25 09:42:21	MaxGaudron	haha
2012-07-25 09:42:21	john_hamelink	>_>
2012-07-25 09:42:33	 *	john_hamelink gets his 12-bore out
2012-07-25 09:42:35	MaxGaudron	click on every links and look at the URL : http://cl.ly/image/0R3H2V472b2z
2012-07-25 09:43:16	john_hamelink	Oh jeez
2012-07-25 09:43:20	MaxGaudron	http://www.symble.net/the-symble-platform/images/about/contact/about/the-symble-platform/contact/the-symble-platform/about/about/about/contact/about/index.php
2012-07-25 09:43:25	MaxGaudron	and it's still working hahahaha
2012-07-25 09:43:29	john_hamelink	lol :P
2012-07-25 09:43:51	john_hamelink	Going to try to connect to your bouncer, brb
2012-07-25 09:43:57		irc: disconnected from server
2012-07-25 09:47:39	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-25 09:47:39	--	Nicks #symble: [alanhollis ArnaudFrugierBNC BenjaminMaugain johnhamelink MaxGaudron sylvainreiter SymbleJenkins]
2012-07-25 09:47:39	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-25 09:47:43	--	Mode #symble [+cnt]
2012-07-25 09:47:43	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-25 09:48:16	johnhamelink	Cool, I'm on ZNC now :)
2012-07-25 09:48:24	MaxGaudron	Wouhouuu
2012-07-25 09:48:32	johnhamelink	^.^
2012-07-25 09:52:58	alanhollis	morning all
2012-07-25 09:53:23	MaxGaudron	morning alanhollis :)
2012-07-25 09:55:04	johnhamelink	morning alanhollis :)
2012-07-25 09:56:05	alanhollis	so was looking through some of the wordage from yesterday
2012-07-25 09:56:05	alanhollis	johnhamelink, did you have a look at the validation branch on the front enmd
2012-07-25 09:56:05	alanhollis	there's no a neat little ->save() method
2012-07-25 09:56:05	alanhollis	that you'd find very useful
2012-07-25 09:56:05	alanhollis	also did you get change to look at the branch on the backend, and see if it's suitable for merge?
2012-07-25 09:56:31	johnhamelink	alanhollis: its my #1 priority today :)
2012-07-25 09:56:42	johnhamelink	i'll get to it asap :)
2012-07-25 09:56:58	alanhollis	awesome, I'm going to try and complete the validation stuff today
2012-07-25 09:57:08	alanhollis	then look at the bugs sylvainreiter assigned yesterday
2012-07-25 09:57:48	--	BenjaminMaugain is now known as benjMaugain_AFK
2012-07-25 09:57:49	johnhamelink	cool :)
2012-07-25 09:57:54	--	MaxGaudron is now known as MaxGaudronBNC
2012-07-25 09:59:46	sylvainreiter	just to let you all know that we have hired another superstar for Symble on a 3year contract through the KTP program with the university of Herts, Mark. He will start early September
2012-07-25 09:59:53	--	MaxGaudronBNC is now known as MaxGaudron
2012-07-25 10:00:20	johnhamelink	ha nice
2012-07-25 10:00:25	MaxGaudron	cool
2012-07-25 10:00:26	sylvainreiter	he is 24, finishing his MEng and with base of MVC, fast learner and very good attitute
2012-07-25 10:02:54	--	benjMaugain_AFK is now known as BenjaminMaugain
2012-07-25 10:09:02	alanhollis	MaxGaudron, I noticed briefly yesterday you mentioned we could clean a lot more code in the backend
2012-07-25 10:09:06	alanhollis	due to us missing something
2012-07-25 10:09:11	alanhollis	could you give me a recap on that please?
2012-07-25 10:09:17	MaxGaudron	Ok
2012-07-25 10:09:20	MaxGaudron	so
2012-07-25 10:09:21	alanhollis	It might be worth my doing that now as I'm removing code there?
2012-07-25 10:09:32	MaxGaudron	in app.js
2012-07-25 10:09:46	MaxGaudron	we loop on each folder in the vendor bundle
2012-07-25 10:09:53	MaxGaudron	load the index.js and call .init() on it
2012-07-25 10:10:19	MaxGaudron	this initialise the model controllers and routes
2012-07-25 10:10:38	MaxGaudron	and after that we hold this object (who holds the controllers / routes / model ) in an array
2012-07-25 10:10:58	MaxGaudron	because in CRUD.js we load the needed model from this global array
2012-07-25 10:11:25	MaxGaudron	the routes -> no need to keep that, express load the routes and we can forget about that in our modules
2012-07-25 10:11:37	alanhollis	that's done
2012-07-25 10:11:58	MaxGaudron	and the model -> the same, because we can call the mongoose.model('nameofthemodel') method
2012-07-25 10:12:04	alanhollis	ah
2012-07-25 10:12:06	MaxGaudron	so, what we can do is :
2012-07-25 10:12:07	alanhollis	mongoose is global?
2012-07-25 10:12:22	alanhollis	oh share
2012-07-25 10:12:29	MaxGaudron	so
2012-07-25 10:12:33	alanhollis	:)
2012-07-25 10:12:36	MaxGaudron	imagine we remove all our routes
2012-07-25 10:12:41	alanhollis	we have ;)
2012-07-25 10:13:08	MaxGaudron	and keep just one pack of routes like : /(:nameOfTheModel)/ at the beginning of our new pack
2012-07-25 10:13:11	MaxGaudron	shared routes :D
2012-07-25 10:13:23	alanhollis	Cool
2012-07-25 10:13:26	alanhollis	yeah that's all done
2012-07-25 10:13:42	MaxGaudron	add an event at the end of each CRUD function
2012-07-25 10:14:15	MaxGaudron	or a callback ( i prefer the callback )
2012-07-25 10:14:40	MaxGaudron	and add an if(callback -> function) then don't send the response but pass it to the callback
2012-07-25 10:14:46	MaxGaudron	like i did in the mobileRoute branch
2012-07-25 10:15:06	MaxGaudron	in this case, we can drop the whole module stuff, index.php the controllers and the routes
2012-07-25 10:15:26	MaxGaudron	and delete the part global.RESTmodules in the module loading
2012-07-25 10:15:43	MaxGaudron	and just have one tiny module loading who read the model.js file
2012-07-25 10:16:07	MaxGaudron	and an array of callback for specifics needs on a specific route
2012-07-25 10:16:22	alanhollis	Cool, most of this is exactly what I've done in the validation branch
2012-07-25 10:16:45	alanhollis	I've left the controllers in, because we might want to have specific functionality for certain "vendor" bundles
2012-07-25 10:16:55	SymbleJenkins	Project Symble 3 - AUT - Web frontend build #11: SUCCESS in 8.9 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Web%20frontend/11/
2012-07-25 10:16:55	SymbleJenkins	benjamin: Client View - style
2012-07-25 10:16:56	alanhollis	i.e with account updating the tier of clients
2012-07-25 10:17:35	alanhollis	and I;ll get rid of this RESTmodules stuff later today
2012-07-25 10:17:41	alanhollis	as I agree there's no point in that
2012-07-25 10:18:15	MaxGaudron	Yep, it was mainly because we didn't knew how to keep the model
2012-07-25 10:18:31	MaxGaudron	i took a closer look and yes there is no point :p
2012-07-25 10:18:46	alanhollis	cool thanks MaxGaudron ! :)
2012-07-25 10:23:12	alanhollis	Did you solve your nasty hack problem with the json to string and from string stuff?
2012-07-25 10:25:13	MaxGaudron	no but for the mobile stuff i need to create a custom JSON so i don't have to add properties to a mongoose query response
2012-07-25 10:25:42	MaxGaudron	alanhollis https://bitbucket.org/symble/symble-3-backend/changeset/d9ffaacd6b12 <-- take a look here
2012-07-25 10:25:52	MaxGaudron	it's the cleanest way i found to do that :p
2012-07-25 10:26:30	MaxGaudron	and you have that at the end : http://cl.ly/image/3g2h0l3E1S25
2012-07-25 10:27:16	alanhollis	I'm not keen on business logic in the controller
2012-07-25 10:27:51	MaxGaudron	where do you want to do that if not in the controller?
2012-07-25 10:27:56	alanhollis	that sync library is nice
2012-07-25 10:28:04	alanhollis	I was wondering how you'd handle callback hell
2012-07-25 10:28:07	MaxGaudron	yeah soooo usefull
2012-07-25 10:28:28	johnhamelink	MaxGaudron: I now understand why people use it ^_^
2012-07-25 10:28:36	MaxGaudron	haha
2012-07-25 10:28:36	alanhollis	good question about where to put that...
2012-07-25 10:28:45	MaxGaudron	for me it goes in the controller
2012-07-25 10:28:47	johnhamelink	I never really understood what the problem was before I saw you use it :)
2012-07-25 10:29:04	alanhollis	Tell me why MaxGaudron  :)
2012-07-25 10:29:35	MaxGaudron	the CRUD method handle the common request part, and if you have to build something more specific, it use a special route with a special method in the controller who take the result and build a custom json.
2012-07-25 10:30:12	MaxGaudron	it's the MVC pattern -> the controller have the logic, it call the model ( CRUD class in this case ) and build the view -> JSON array.
2012-07-25 10:30:26	alanhollis	the crud class isn't a model
2012-07-25 10:30:28	alanhollis	that's not mvc
2012-07-25 10:30:33	alanhollis	Model = Business logic
2012-07-25 10:30:40	alanhollis	Controller = Moving models around
2012-07-25 10:30:46	alanhollis	View = displaying models
2012-07-25 10:31:29	MaxGaudron	in this case the controller just move some models and create the correct response
2012-07-25 10:31:36	MaxGaudron	why is that wrong ?
2012-07-25 10:32:13	alanhollis	To be honest I'm not saying it's wrong. I don't know the right answer to the question
2012-07-25 10:32:23	alanhollis	what I don't like is much logic being done in the controller
2012-07-25 10:32:32	alanhollis	so*
2012-07-25 10:33:09	alanhollis	for instance MaxGaudron , in that controller
2012-07-25 10:33:25	alanhollis	you now have one single function with around 200 lines of code?
2012-07-25 10:33:38	alanhollis	Now we're all good programmers here, so we know functions should be small
2012-07-25 10:33:50	alanhollis	so let's say we want to break down our 200 line function into smaller functions
2012-07-25 10:33:57	alanhollis	should those functions be part of the controller?
2012-07-25 10:35:09	MaxGaudron	Hummm if we can reuse them somewhere else, no.
2012-07-25 10:35:47	MaxGaudron	in this case it would be better to continue my tiny symbleAPI js lib and add some business logic in it
2012-07-25 10:36:03	MaxGaudron	( and transform the library into a node module :) )
2012-07-25 10:37:17	alanhollis	sounds like it might be abetter plan and I think better code would fall out of it
2012-07-25 10:37:59	alanhollis	another point, the route is called search_mobile but that's not what the route is doing?
2012-07-25 10:38:50	alanhollis	there's no search parameters for that function, from what I can see the req isn't used
2012-07-25 10:38:52	MaxGaudron	it a temporary name for the mobile stuff because i really don't know how to name/where to write that
2012-07-25 10:39:14	alanhollis	Yeah, I can see exactly why the codes that way
2012-07-25 10:39:31	alanhollis	Just trying to justify my point further ;)
2012-07-25 10:39:44	MaxGaudron	and req ? it's used by the CRUD class
2012-07-25 10:39:46	alanhollis	all these little things would be resolved doing it another way
2012-07-25 10:40:27	alanhollis	ahh okay sorry that's my bad that bit :)
2012-07-25 10:40:42	alanhollis	missed the call to the CRUD at the top of the function
2012-07-25 10:41:08	alanhollis	What was this for displaying MaxGaudron ?
2012-07-25 10:41:13	alanhollis	callsheet?
2012-07-25 10:41:16	alanhollis	or events?
2012-07-25 10:41:38	MaxGaudron	it's for the mobile app, the client details page
2012-07-25 10:42:29	MaxGaudron	but one thing, i added a callback to some CRUD methods
2012-07-25 10:42:43	MaxGaudron	i think we can add a callback in every methods
2012-07-25 10:42:50	MaxGaudron	2sec i search the commit
2012-07-25 10:43:08	MaxGaudron	https://bitbucket.org/symble/symble-3-backend/changeset/f3a6770c1ce3
2012-07-25 10:44:04	MaxGaudron	if there is a callback -> don't send the response to the client and pass the result of the query and the error(s) as two parameters to the callback.
2012-07-25 10:44:17	alanhollis	Seems like a good idea
2012-07-25 10:44:27	MaxGaudron	with this it's so easy to add something else to a request
2012-07-25 10:49:33	johnhamelink	alanhollis: just merged develop into your branch, looks like nothing broke :)
2012-07-25 10:49:51	johnhamelink	about to run tests then merge your code back into develop
2012-07-25 10:51:34	alanhollis	hah yet :)
2012-07-25 10:52:30	alanhollis	key / value models make validation hard :(
2012-07-25 10:53:09	MaxGaudron	?
2012-07-25 10:53:16	alanhollis	in mongoose
2012-07-25 10:53:23	alanhollis	when required validation fails
2012-07-25 10:53:28	alanhollis	you get a message stating
2012-07-25 10:53:37	alanhollis	Validatior "required" for path value
2012-07-25 10:53:49	MaxGaudron	Ahh
2012-07-25 10:53:50	MaxGaudron	yeah :D
2012-07-25 10:54:00	alanhollis	because our object is {key:"ky",value,"asdsa"}
2012-07-25 10:54:11	alanhollis	but that error message doesn't make sense
2012-07-25 10:54:14	alanhollis	what you'd want to see is
2012-07-25 10:54:23	MaxGaudron	the good thing to do is to "tail -f /path/to/symble/storage/logs/logfile.log" ;)
2012-07-25 10:54:37	MaxGaudron	so you can see what is going out of the portal
2012-07-25 10:54:44	alanhollis	yeah I'm trying to make the error messages pretty for future developers
2012-07-25 10:54:47	alanhollis	and external developers
2012-07-25 10:55:01	alanhollis	or they'll all be like, wtf are these crazy validation errors all about
2012-07-25 10:55:23	MaxGaudron	:D
2012-07-25 10:56:46	alanhollis	ideally I want pretty validation messages passed all the way through from the backend
2012-07-25 10:56:56	alanhollis	to the front end, without having to have any laravel validation at all
2012-07-25 10:57:05	alanhollis	but, I'm not sure it's going to be possible.
2012-07-25 10:59:12	alanhollis	it gets worse if the error happens in mongo and not mongoose
2012-07-25 10:59:37	MaxGaudron	it will be difficult with the mongo/mongoose embedded documents
2012-07-25 10:59:38	alanhollis	you don't get the key back which caused the error
2012-07-25 10:59:43	MaxGaudron	like the key value stuff :)
2012-07-25 10:59:47	alanhollis	:(
2012-07-25 11:00:35	MaxGaudron	if we used mongo like a *pseudo relational database* without embedded documents and just with embedded array ( bybye ManyToMany relation with join tables :D ), it'll be easy
2012-07-25 11:00:42	MaxGaudron	but now, not really :D
2012-07-25 11:01:28	alanhollis	Yeah, I do think more and more than mongo is not the right tool for this type of job
2012-07-25 11:02:03	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #24: FAILURE in 16 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/24/
2012-07-25 11:02:03	SymbleJenkins	* maxxg57: Added "listing one" test
2012-07-25 11:02:04	SymbleJenkins	* maxxg57: bug fix : URL generation with params (limit / offset / sort )
2012-07-25 11:02:04	SymbleJenkins	* maxxg57: bug fix: wrong test ( emailtemplate tests were testing country ��� )
2012-07-25 11:02:16	MaxGaudron	Raah why failure again -_-
2012-07-25 11:02:45	MaxGaudron	it a jenkins error haha
2012-07-25 11:02:48	BenjaminMaugain	Hey alanhollis, I have a question about callSheet dataTable
2012-07-25 11:03:26	alanhollis	shoot
2012-07-25 11:03:27	BenjaminMaugain	Where do you populate de dates in the header ? I see some pagination function in the fnInitOnClicks() function
2012-07-25 11:03:38	alanhollis	dates come from the backend
2012-07-25 11:03:48	alanhollis	and are displayed in...
2012-07-25 11:03:51	BenjaminMaugain	But I'd like to change formato of date
2012-07-25 11:04:02	BenjaminMaugain	format*
2012-07-25 11:04:21	alanhollis	actually that's a lot of work that needs doing
2012-07-25 11:04:28	alanhollis	we need to convert to use UTC everywhere
2012-07-25 11:04:35	alanhollis	and just change the dateformat at the last point
2012-07-25 11:04:37	alanhollis	however...
2012-07-25 11:04:55	BenjaminMaugain	in the wireframe : "Mon 12th"
2012-07-25 11:05:03	BenjaminMaugain	"Tues 13th"
2012-07-25 11:05:13	alanhollis	aye
2012-07-25 11:05:13	BenjaminMaugain	and Sylvain asked me to add the month
2012-07-25 11:05:20	alanhollis	fnAjaxDataProp
2012-07-25 11:05:35	alanhollis	specifically in the for loop
2012-07-25 11:05:43	alanhollis	oData.headers[i] is the date
2012-07-25 11:05:56	alanhollis	but as stated previously, I think right now changing that will break a lot
2012-07-25 11:06:04	MaxGaudron	( and now the fix of the failed build )
2012-07-25 11:06:07	alanhollis	because we need to use UTC everywhere
2012-07-25 11:07:01	SymbleJenkins	Yippie, build fixed!
2012-07-25 11:07:01	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #25: FIXED in 15 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/25/
2012-07-25 11:07:02	SymbleJenkins	maxxg57: bug fix : lost console.log deleted
2012-07-25 11:07:08	MaxGaudron	-_-
2012-07-25 11:07:15	SymbleJenkins	Project Symble 3 - AUT - Backend build #10: SUCCESS in 9.4 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/10/
2012-07-25 11:07:16	SymbleJenkins	* maxxg57: Added "listing one" test
2012-07-25 11:07:16	BenjaminMaugain	IC, pagination won't work anymore if I modify the format
2012-07-25 11:07:16	SymbleJenkins	* maxxg57: bug fix : URL generation with params (limit / offset / sort )
2012-07-25 11:07:17	johnhamelink	lol :P
2012-07-25 11:07:17	SymbleJenkins	* maxxg57: bug fix: wrong test ( emailtemplate tests were testing country ��� )
2012-07-25 11:07:17	SymbleJenkins	* maxxg57: bug fix : lost console.log deleted
2012-07-25 11:07:26	alanhollis	I believe so BenjaminMaugain
2012-07-25 11:07:30	alanhollis	you could try it..
2012-07-25 11:07:36	johnhamelink	MaxGaudron: have you set a flood control on SymbleJenkins so that he doesn't get kicked by freenode?
2012-07-25 11:07:46	MaxGaudron	no
2012-07-25 11:07:52	MaxGaudron	good idea :D
2012-07-25 11:07:56	BenjaminMaugain	cause in pagination, we substr the date
2012-07-25 11:08:04	johnhamelink	i think you can do it in the settings MaxGaudron :)
2012-07-25 11:08:47	alanhollis	BenjaminMaugain, in fnServerParams
2012-07-25 11:09:12	alanhollis	you could do the conversion back to yyyy-mm-dd format for now
2012-07-25 11:09:25	alanhollis	sDateFrom would just need modifiying
2012-07-25 11:09:40	MaxGaudron	johnhamelink nop https://issues.jenkins-ci.org/browse/JENKINS-12221 -_-
2012-07-25 11:10:20	johnhamelink	MaxGaudron: you could give it a ZNC account and control it that way :D
2012-07-25 11:10:43	MaxGaudron	xD
2012-07-25 11:11:23	MaxGaudron	http://cl.ly/image/3u081i2y0Q1R :)
2012-07-25 11:12:16	johnhamelink	Nice! :D
2012-07-25 11:26:17	johnhamelink	MaxGaudron, alanhollis so I've merged the backend, but the test is failing now
2012-07-25 11:26:30	MaxGaudron	that's bad :p
2012-07-25 11:26:32	johnhamelink	looks like I've included a test that's not necessary anymore?
2012-07-25 11:26:47	johnhamelink	all errors are coming from creation.js
2012-07-25 11:26:54	johnhamelink	is that still used?
2012-07-25 11:27:02	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #26: FAILURE in 15 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/26/
2012-07-25 11:27:02	SymbleJenkins	* me: Change required for tier
2012-07-25 11:27:03	SymbleJenkins	* me: Tidy non DRY controllers
2012-07-25 11:27:03	SymbleJenkins	* me: Add errorHelper
2012-07-25 11:27:04	SymbleJenkins	* me: Add replaceEmbeddedRoutes
2012-07-25 11:27:04	SymbleJenkins	* me: Tidy routes
2012-07-25 11:27:05	SymbleJenkins	* me: Fix typo
2012-07-25 11:27:05	SymbleJenkins	* me: Fix typo
2012-07-25 11:27:06	SymbleJenkins	* me: Fix copy and paste blunders
2012-07-25 11:27:06	SymbleJenkins	* john: Merged validation branch with develop
2012-07-25 11:27:29	MaxGaudron	yes johnhamelink
2012-07-25 11:27:36	alanhollis	ha I like the fact that commit headers get spit out there
2012-07-25 11:27:42	alanhollis	really makes you want to keep them clean
2012-07-25 11:27:51	johnhamelink	alanhollis: yeah it's v nice
2012-07-25 11:28:01	johnhamelink	MaxGaudron: OK looks like there's a validation error
2012-07-25 11:28:01	MaxGaudron	who is me ?
2012-07-25 11:28:06	johnhamelink	will look further into it MaxGaudron 
2012-07-25 11:29:14	alanhollis	is it in the client controller by any chance?
2012-07-25 11:29:23	johnhamelink	MaxGaudron: looks like staff validation is failing
2012-07-25 11:29:29	johnhamelink	alanhollis: staff :)
2012-07-25 11:29:33	MaxGaudron	jo http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/26/testReport/?
2012-07-25 11:29:37	MaxGaudron	johnhamelink*
2012-07-25 11:29:56	johnhamelink	umm, what's that awkward password you gave jenkins again? ;P
2012-07-25 11:30:03	MaxGaudron	The password !
2012-07-25 11:30:08	johnhamelink	that's the one!@
2012-07-25 11:30:09	johnhamelink	:D
2012-07-25 11:30:11	MaxGaudron	haha
2012-07-25 11:30:14	MaxGaudron	john
2012-07-25 11:30:26	MaxGaudron	ah no, nothing
2012-07-25 11:30:43	johnhamelink	I just registered instead
2012-07-25 11:30:43	johnhamelink	:P
2012-07-25 11:30:53	johnhamelink	aah crap, no permissions
2012-07-25 11:30:59	MaxGaudron	yeah but you can't do anything haha
2012-07-25 11:31:42	MaxGaudron	symble/The password !
2012-07-25 11:32:57	MaxGaudron	it's funny john, because i pulled the latest modification
2012-07-25 11:33:02	MaxGaudron	and everything is working :)
2012-07-25 11:33:27	johnhamelink	just gave myself a password based on my git account so i have access now :)
2012-07-25 11:33:53	johnhamelink	or not >_>
2012-07-25 11:33:54	johnhamelink	nvm
2012-07-25 11:34:17	MaxGaudron	:)
2012-07-25 11:34:36	johnhamelink	looks like there are 2 bugs: 'create' of object is not a function
2012-07-25 11:34:41	johnhamelink	and validation errors
2012-07-25 11:34:57	alanhollis	there's an error in the client controller
2012-07-25 11:35:02	alanhollis	I'm fixing now
2012-07-25 11:35:06	johnhamelink	ok thanks alanhollis :)
2012-07-25 11:35:08	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #27: STILL FAILING in 15 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/27/
2012-07-25 11:35:18	BenjaminMaugain	alanhollis, I tried to change date format in CallSheet.js. Display is working, but pagination is buggy. I wont't commit since we will use UTC dates later
2012-07-25 11:35:36	BenjaminMaugain	At least I know where to change this now
2012-07-25 11:36:13	alanhollis	did you try swapping for format back
2012-07-25 11:36:16	alanhollis	in fnServerParams?
2012-07-25 11:36:56	BenjaminMaugain	fnAjaxDataProp()
2012-07-25 11:37:19	alanhollis	yeah that's where you change the date format returned from the server
2012-07-25 11:37:24	alanhollis	and then in fnServerParams
2012-07-25 11:37:30	alanhollis	you can change it back to what the server requires
2012-07-25 11:39:10	BenjaminMaugain	Yup, that's where we update DateFrom
2012-07-25 11:39:59	alanhollis	johnhamelink, pushed client change
2012-07-25 11:42:39	johnhamelink	thanks alanhollis :)
2012-07-25 11:44:14	MaxGaudron	alanhollis did you fixed this error : http://cl.ly/image/2V2F2K3b093T ?
2012-07-25 11:44:44	johnhamelink	alanhollis: which branch? testingOnValidationChanges?
2012-07-25 11:44:57	MaxGaudron	johnhamelink validationChanges
2012-07-25 11:45:33	johnhamelink	got it
2012-07-25 11:47:34	johnhamelink	ok that's better alanhollis, just one error now :)
2012-07-25 11:47:47	johnhamelink	oh actually hold on, i didn't test properly
2012-07-25 11:48:12	alanhollis	yes I did MaxGaudron
2012-07-25 11:49:10	alanhollis	maybe not actually
2012-07-25 11:49:11	alanhollis	2 secs
2012-07-25 11:49:50	alanhollis	in research?
2012-07-25 11:51:32	johnhamelink	yep alanhollis i'm getting all the same bugs now that i've re-merged
2012-07-25 11:51:57	MaxGaudron	same here :p
2012-07-25 11:52:18	johnhamelink	alanhollis: do you want me to push to your branch?
2012-07-25 11:52:58	alanhollis	what errors are you getting
2012-07-25 11:53:04	MaxGaudron	http://cl.ly/image/2V2F2K3b093T <-- this
2012-07-25 11:53:22	johnhamelink	all the same ones as here: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/27/
2012-07-25 11:53:42	alanhollis	should be fixed
2012-07-25 11:53:52	johnhamelink	:(
2012-07-25 11:53:58	alanhollis	i assume was in research
2012-07-25 11:54:01	alanhollis	i just pushed
2012-07-25 11:54:47	johnhamelink	alanhollis: for sanity, can you send me your research.js ?
2012-07-25 11:55:12	MaxGaudron	( and there is a validator error for the client bundle :) )
2012-07-25 11:55:15	alanhollis	it was controller.js
2012-07-25 11:55:24	MaxGaudron	(somebody added/removed a required column :p )
2012-07-25 11:55:24	alanhollis	don't know what validation error is for client bundle
2012-07-25 11:55:28	alanhollis	but that should be easy
2012-07-25 11:55:28	johnhamelink	alanhollis: ahh, for me the errors seem to be bad validation
2012-07-25 11:55:45	johnhamelink	well all but one are
2012-07-25 11:56:04	alanhollis	bad merge?
2012-07-25 11:56:09	alanhollis	things being added back that were deleted
2012-07-25 11:56:24	johnhamelink	alanhollis: yeah i think i regressed by accident... sorry hold on
2012-07-25 11:56:46	MaxGaudron	johnhamelink it's not you it's sourcetree, i have the same regression :p
2012-07-25 11:56:58	johnhamelink	MaxGaudron: im not using sourcetree :P
2012-07-25 11:59:59	johnhamelink	MaxGaudron: I was busy last night :D http://i.imgur.com/FnTBV.png
2012-07-25 12:00:22	MaxGaudron	there is no VIM, it's not your computer, it's a fake !
2012-07-25 12:00:40	johnhamelink	hahaha actually vim is in that screen :D
2012-07-25 12:00:54	MaxGaudron	what's the tiny notification popup for the failed tests ?
2012-07-25 12:00:54	alanhollis	that's getting rediculous
2012-07-25 12:00:58	johnhamelink	bottom left pane :D
2012-07-25 12:00:58	MaxGaudron	it's cool :o
2012-07-25 12:01:04	alanhollis	i'd be constantly distracted ;)
2012-07-25 12:01:26	johnhamelink	MaxGaudron: it's just ubuntu's default notifier :)
2012-07-25 12:01:38	johnhamelink	alanhollis: it's actually _way_ more productive
2012-07-25 12:01:49	johnhamelink	you don't need to arrange anything, it does it automagically :D
2012-07-25 12:02:09	johnhamelink	when i open a web browser. it automatically goes fullscreen and into my www virtual desktop
2012-07-25 12:02:51	johnhamelink	tonight i need to get compositing working, and MPD and a launcher, then I'm happy (right now I'm running everything from terminal, lol)
2012-07-25 12:03:37	johnhamelink	anyway, I need to grab something to eat, I'll finish merge when I'm back :)
2012-07-25 12:03:39	johnhamelink	bbs ^_^
2012-07-25 12:13:22	<--	alanhollis (~alan@5e028966.bb.sky.com) has quit (Ping timeout: 252 seconds)
2012-07-25 12:25:47	-->	alanhollis (~alan@5e029c4e.bb.sky.com) has joined #symble
2012-07-25 12:25:55	alanhollis	hot weather messing with my wifi :(
2012-07-25 12:26:20	MaxGaudron	lol
2012-07-25 12:30:32	alanhollis	MaxGaudron, is the models bundle still loaded on application start?
2012-07-25 12:35:10	alanhollis	need your assistance when you get back mr MaxGaudron  please :)
2012-07-25 12:37:32	MaxGaudron	yes
2012-07-25 12:38:08	alanhollis	I'm trying to create a new class
2012-07-25 12:38:16	alanhollis	which extends DataObject in the start bundle
2012-07-25 12:38:23	alanhollis	but when I try to use that class
2012-07-25 12:38:27	alanhollis	I'm getting class not found
2012-07-25 12:39:48	alanhollis	I thought all I'd need to do is plonk a class in the entity folder
2012-07-25 12:39:58	alanhollis	make sure it's under the namespace Entity
2012-07-25 12:40:06	alanhollis	and boff everyones happy
2012-07-25 12:40:12	alanhollis	but everyone is not happy
2012-07-25 12:42:06	--	ArnaudFrugierBNC is now known as ArnaudFrugier
2012-07-25 12:42:20	ArnaudFrugier	Hello
2012-07-25 12:43:21	MaxGaudron	because there Hummm
2012-07-25 12:43:26	MaxGaudron	init the class
2012-07-25 12:43:37	MaxGaudron	look at the start.php file in every bundle
2012-07-25 12:43:46	alanhollis	it does that automagically in start.php
2012-07-25 12:43:49	alanhollis	of the models bundle
2012-07-25 12:43:58	alanhollis	class is found as a class
2012-07-25 12:44:02	alanhollis	and the init method is called
2012-07-25 12:44:03	MaxGaudron	Yeah but we want to get rid of this bundle no ?
2012-07-25 12:44:08	alanhollis	hah
2012-07-25 12:44:10	alanhollis	I might need it ;)
2012-07-25 12:44:25	MaxGaudron	that's why i moved every entity in their bundles :D
2012-07-25 12:44:29	MaxGaudron	entities*
2012-07-25 12:44:31	alanhollis	I want to extend the DataObject and make use of it for every model that requires validation
2012-07-25 12:44:49	alanhollis	*make use of the new extended DataObject* in every model that requires validation
2012-07-25 12:45:02	alanhollis	this allows me to keep the validation out of the ODM
2012-07-25 12:45:08	alanhollis	and specific to Laravel
2012-07-25 12:45:32	MaxGaudron	Ahh
2012-07-25 12:45:50	MaxGaudron	euh, in this case just extend the DataObject and change every entity to use this one :/
2012-07-25 12:46:05	alanhollis	yeah
2012-07-25 12:46:09	alanhollis	that's what I;m trying to do
2012-07-25 12:46:10	MaxGaudron	do you use "Entity"  namespace ?
2012-07-25 12:46:11	alanhollis	but my new class
2012-07-25 12:46:17	alanhollis	yep :(
2012-07-25 12:46:24	alanhollis	I'm doing summit silly
2012-07-25 12:46:39	MaxGaudron	Ok, in the start.php do you have a Autloader::namespace ?
2012-07-25 12:46:48	MaxGaudron	with the Entity namespace configured for this autoloader
2012-07-25 12:47:26	alanhollis	yep
2012-07-25 12:47:56	alanhollis	class Account extends \ValidatableDataObject
2012-07-25 12:48:07	alanhollis	it says validatableDataObject not found
2012-07-25 12:48:17	alanhollis	namespace Entity; is before that line
2012-07-25 12:48:31	MaxGaudron	ok ok, maybe it's stupid but
2012-07-25 12:48:37	MaxGaudron	can you check in application/bundles.php
2012-07-25 12:48:46	MaxGaudron	models.php should be loaded first
2012-07-25 12:48:50	MaxGaudron	euh
2012-07-25 12:48:54	MaxGaudron	the models bundles*
2012-07-25 12:49:13	MaxGaudron	because when you load the others bundles, it init the extended objects
2012-07-25 12:49:17	MaxGaudron	who need your class
2012-07-25 12:49:25	alanhollis	Think that's it
2012-07-25 12:49:28	alanhollis	thanks MaxGaudron
2012-07-25 12:53:00	alanhollis	grr
2012-07-25 12:53:03	alanhollis	cannot redlacre class
2012-07-25 12:53:09	alanhollis	Gone from it not loading it
2012-07-25 12:53:14	alanhollis	to it loading it more than once!
2012-07-25 12:53:16	alanhollis	:)
2012-07-25 12:53:34	MaxGaudron	with the autoloader ? that's weird :o
2012-07-25 12:54:52	alanhollis	yeah
2012-07-25 12:54:56	alanhollis	and in autoload.php
2012-07-25 12:55:00	alanhollis	it uses require
2012-07-25 12:55:02	alanhollis	rather than require_once
2012-07-25 12:55:06	alanhollis	I'm surprised by that
2012-07-25 12:55:46	MaxGaudron	but it shouldn't be used more than one ?
2012-07-25 12:55:54	MaxGaudron	once
2012-07-25 12:55:57	alanhollis	no it shouldn't
2012-07-25 12:56:08	alanhollis	but I'd of thought they'd of put that check in
2012-07-25 12:56:15	alanhollis	to make certain
2012-07-25 12:57:20	alanhollis	I am stuck :(
2012-07-25 13:01:14	alanhollis	ahhh
2012-07-25 13:01:33	MaxGaudron	?
2012-07-25 13:01:36	alanhollis	I had to do class Account extends \Entity\ValidatableDataObject
2012-07-25 13:01:41	alanhollis	it now works
2012-07-25 13:01:44	alanhollis	but I don't know why
2012-07-25 13:06:12	MaxGaudron	did somebody fixed the issue with the tests ?
2012-07-25 13:07:38	alanhollis	don't think so
2012-07-25 13:07:55	MaxGaudron	ok ok
2012-07-25 13:08:41	johnhamelink	hey guys, I'm back :)
2012-07-25 13:08:50	MaxGaudron	Cool :D
2012-07-25 13:10:52	MaxGaudron	i'm going to lunch
2012-07-25 13:24:48	MaxGaudron	http://www.youtube.com/watch?v=NqDTE6dHpJw&feature=player_embedded#! <-- i want that
2012-07-25 13:24:52	MaxGaudron	NOW :D
2012-07-25 13:25:00	MaxGaudron	smart trashbox
2012-07-25 13:25:05	MaxGaudron	look at 2:23
2012-07-25 13:28:15	alanhollis	I could do with one of those for my dirty laundry
2012-07-25 13:28:24	alanhollis	it would have to put itself back where it came from tho
2012-07-25 13:34:48	ArnaudFrugier	johnhamelink: what is the URL for the "add to callsheet" button ?
2012-07-25 13:35:25	johnhamelink	what do you mean ArnaudFrugier ? :)
2012-07-25 13:35:38	johnhamelink	do you mean on the API?
2012-07-25 13:35:43	ArnaudFrugier	yes johnhamelink
2012-07-25 13:35:48	ArnaudFrugier	to add an item to the callsheet
2012-07-25 13:35:53	johnhamelink	hmm
2012-07-25 13:36:01	johnhamelink	let me check
2012-07-25 13:36:52	johnhamelink	I think it's event, but i want to make sure :)
2012-07-25 13:37:54	alanhollis	Validation is getting cool
2012-07-25 13:38:00	alanhollis	Not as cool as I want
2012-07-25 13:38:05	alanhollis	stupid mongo / monogoose ;)
2012-07-25 13:38:38	johnhamelink	ArnaudFrugier: Yeah, it's event, take a look at this for an idea of how it's working in our code: https://bitbucket.org/symble/symble-3-staff-web-frontend/src/5f6d4e13181a/bundles/callsheet/models/Callsheet.php
2012-07-25 13:38:45	johnhamelink	alanhollis: We'll get there :D
2012-07-25 13:39:01	alanhollis	You'll have to start writing mongo code ;)
2012-07-25 13:39:19	johnhamelink	alanhollis: I don't mind, I like mongo's syntax ^.^
2012-07-25 13:40:19	ArnaudFrugier	johnhamelink:  I need access to this repository
2012-07-25 13:40:35	johnhamelink	oh sorry! :)
2012-07-25 13:40:38	ArnaudFrugier	:D
2012-07-25 13:41:07	johnhamelink	ArnaudFrugier: what's your username again?
2012-07-25 13:41:17	ArnaudFrugier	Quanturium
2012-07-25 13:41:20	alanhollis	johnhamelink, MaxGaudron , BenjaminMaugain  I'm thinking about re-creating the symble form object
2012-07-25 13:41:22	ArnaudFrugier	but I'l on symble team
2012-07-25 13:41:27	ArnaudFrugier	I'm*
2012-07-25 13:41:40	alanhollis	and overloading the Laravel/Form methods so we can pass in the model
2012-07-25 13:41:54	alanhollis	and create an error div/span next to the form input
2012-07-25 13:41:58	alanhollis	if there's a validation error
2012-07-25 13:41:59	alanhollis	thoughts?
2012-07-25 13:42:21	johnhamelink	is it not a bit too far into the project?
2012-07-25 13:42:32	johnhamelink	ArnaudFrugier: thanks :)
2012-07-25 13:42:58	johnhamelink	ArnaudFrugier: you have access now :)
2012-07-25 13:42:58	alanhollis	It all depends on how friendly to the user you want to be I guess
2012-07-25 13:43:20	alanhollis	at the moment we ( sometimes ) just pop the error at the top of the form
2012-07-25 13:43:38	alanhollis	most web apps I use
2012-07-25 13:43:44	alanhollis	also display an error
2012-07-25 13:43:48	alanhollis	next to the input for clarity
2012-07-25 13:44:01	johnhamelink	yeah, my class already did all that lol
2012-07-25 13:44:10	alanhollis	what class?
2012-07-25 13:45:11	johnhamelink	alanhollis: I'll see if I can find it; I wrote a class for a home project that did all this but you guys said it wasn't good enough ^_
2012-07-25 13:45:12	johnhamelink	^_^
2012-07-25 13:45:29	alanhollis	oh
2012-07-25 13:45:33	alanhollis	I tell you what
2012-07-25 13:45:37	alanhollis	I'll just do this anyway
2012-07-25 13:45:48	alanhollis	it won't take long
2012-07-25 13:45:59	johnhamelink	ok
2012-07-25 13:46:12	ArnaudFrugier	johnhamelink: I'm not sure to understand why you've linked me this page
2012-07-25 13:46:37	johnhamelink	ArnaudFrugier: yeah it's probably too abstract for you now :/
2012-07-25 13:46:43	johnhamelink	I'll walk you through what's going on
2012-07-25 13:46:53	johnhamelink	hold on i'll bring up the file
2012-07-25 13:48:50	johnhamelink	oh sorry ArnaudFrugier I showed you the wrong file!
2012-07-25 13:48:57	ArnaudFrugier	:D
2012-07-25 13:49:03	johnhamelink	it's this one ArnaudFrugier https://bitbucket.org/symble/symble-3-staff-web-frontend/src/5f6d4e13181a/bundles/callsheet/models/SymbleEvent.php
2012-07-25 13:49:10	johnhamelink	function createFromArray()
2012-07-25 13:49:36	johnhamelink	Can you see from that function how we assign the data?
2012-07-25 13:49:37	ArnaudFrugier	that's far better
2012-07-25 13:49:41	ArnaudFrugier	yes
2012-07-25 13:49:48	johnhamelink	Ok cool :)
2012-07-25 13:50:02	ArnaudFrugier	feedback i suppose it's the "comment"
2012-07-25 13:50:02	johnhamelink	let me know if you need anything else :)
2012-07-25 13:52:54	johnhamelink	alanhollis: this was the class I wrote https://gist.github.com/cc5da8f38b4daf46b958
2012-07-25 13:53:29	johnhamelink	To me, that's all you need
2012-07-25 13:54:15	johnhamelink	maybe edit the safeName part of the class so you can override if you want to
2012-07-25 13:54:51	ArnaudFrugier	right johnhamelink ? and what is email ? where do I get idCompanies ? what is fromDate ? what is toDate ?
2012-07-25 13:54:55	alanhollis	yeah that's more code than I'm even suggesting :)
2012-07-25 13:55:43	ArnaudFrugier	johnhamelink: here is my screen : http://cl.ly/image/3P0B2N35433s
2012-07-25 13:56:07	ArnaudFrugier	should I send the email when the checkbox is checked ?
2012-07-25 13:56:13	ArnaudFrugier	(yes, lots of questions)
2012-07-25 13:56:35	johnhamelink	ArnaudFrugier: it's all good, better you ask lots of questions now than code it twice ^.^
2012-07-25 13:56:57	johnhamelink	If you click email to client it should send an email
2012-07-25 13:57:12	johnhamelink	the email value is the contents of the email that needs to be sent
2012-07-25 13:57:36	johnhamelink	idCompanies shouldn't be sent in your example
2012-07-25 13:58:06	johnhamelink	fromDate and toDate are the duration of an event in time
2012-07-25 13:58:30	johnhamelink	so if someone chooses a holiday, we define when their holiday begins and ends. Make sense?
2012-07-25 13:58:50	ArnaudFrugier	yes, but I don't kow where to get thoses values
2012-07-25 13:58:54	ArnaudFrugier	know*
2012-07-25 13:59:12	johnhamelink	ArnaudFrugier: fromDate and toDate need to come from a datepicker on your end
2012-07-25 13:59:30	ArnaudFrugier	this is not on the wireframes
2012-07-25 13:59:44	johnhamelink	yup, bad wireframes then ^_^
2012-07-25 13:59:49	ArnaudFrugier	:D
2012-07-25 13:59:50	SymbleJenkins	Yippie, build fixed!
2012-07-25 13:59:50	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #28: FIXED in 16 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/28/
2012-07-25 13:59:51	SymbleJenkins	* me: Fix syntax of controller
2012-07-25 13:59:51	SymbleJenkins	* me: Fix syntax in research controller
2012-07-25 13:59:52	SymbleJenkins	* maxxg57: test suite : added creation test on multiple documents (useful for the sorting tests)
2012-07-25 13:59:53	SymbleJenkins	* maxxg57: test suite : client tier is no longer required, changed the rules in the test.
2012-07-25 14:00:02	 *	johnhamelink gives MaxGaudron a high five
2012-07-25 14:00:05	SymbleJenkins	Project Symble 3 - AUT - Backend build #11: SUCCESS in 9.9 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/11/
2012-07-25 14:00:06	SymbleJenkins	* me: Change required for tier
2012-07-25 14:00:06	SymbleJenkins	* me: Tidy non DRY controllers
2012-07-25 14:00:07	SymbleJenkins	* me: Add errorHelper
2012-07-25 14:00:07	SymbleJenkins	* me: Add replaceEmbeddedRoutes
2012-07-25 14:00:08	SymbleJenkins	* me: Tidy routes
2012-07-25 14:00:08	SymbleJenkins	* me: Fix typo
2012-07-25 14:00:09	SymbleJenkins	* me: Fix typo
2012-07-25 14:00:09	SymbleJenkins	* me: Fix copy and paste blunders
2012-07-25 14:00:10	SymbleJenkins	* John Hamelink: Merged validation branch with develop
2012-07-25 14:00:10	SymbleJenkins	* me: Fix syntax of controller
2012-07-25 14:00:11	SymbleJenkins	* me: Fix syntax in research controller
2012-07-25 14:00:11	SymbleJenkins	* maxxg57: test suite : added creation test on multiple documents (useful for the sorting tests)
2012-07-25 14:00:12	SymbleJenkins	* maxxg57: test suite : client tier is no longer required, changed the rules in the test.
2012-07-25 14:00:24	MaxGaudron	ahhh alanhollis "me" it's you :p
2012-07-25 14:00:40	alanhollis	it is
2012-07-25 14:00:45	johnhamelink	no its me
2012-07-25 14:00:45	ArnaudFrugier	johnhamelink: just one thing. How could I send an email from a webapp ? :D
2012-07-25 14:00:46	johnhamelink	:P
2012-07-25 14:00:50	alanhollis	and you
2012-07-25 14:00:52	alanhollis	and you too
2012-07-25 14:01:07	johnhamelink	no its me
2012-07-25 14:01:08	johnhamelink	:P
2012-07-25 14:01:15	alanhollis	Those code you're doing now ArnaudFrugier is this still test code?
2012-07-25 14:01:20	alanhollis	Or this the production app now?
2012-07-25 14:01:27	ArnaudFrugier	I'm not sure alanhollis
2012-07-25 14:01:43	johnhamelink	ArnaudFrugier: we want to make it as featureful as possible :)
2012-07-25 14:01:51	johnhamelink	as close to wireframes as we can
2012-07-25 14:02:08	alanhollis	So this is the application that clients will get johnhamelink ?
2012-07-25 14:02:13	alanhollis	and the one that will have to be maintained?
2012-07-25 14:02:16	johnhamelink	alanhollis: yep
2012-07-25 14:02:20	johnhamelink	hopefully :)
2012-07-25 14:02:32	ArnaudFrugier	this is the backend application
2012-07-25 14:02:40	ArnaudFrugier	yes, but in case I have to do a webapp, I'm not able to send emails
2012-07-25 14:02:44	johnhamelink	our clients are the backend people :)
2012-07-25 14:02:48	johnhamelink	ArnaudFrugier: yeah you can :)
2012-07-25 14:02:58	ArnaudFrugier	how johnhamelink?
2012-07-25 14:03:08	johnhamelink	you create a row in the mailinglist and the web app will pick it up and send it for you :)
2012-07-25 14:03:25	johnhamelink	let me give you more details ArnaudFrugier 
2012-07-25 14:03:26	ArnaudFrugier	you mean the api ?
2012-07-25 14:04:01	johnhamelink	ArnaudFrugier: yah sorry
2012-07-25 14:04:44	ArnaudFrugier	johnhamelink: I don't know if I can choose the email sender from android
2012-07-25 14:04:53	johnhamelink	yep you can :)
2012-07-25 14:05:01	johnhamelink	i promise it'll make sense when you see ;)
2012-07-25 14:05:14	ArnaudFrugier	johnhamelink we are not talking about the same thing
2012-07-25 14:05:19	alanhollis	the phone isn't sending the email ArnaudFrugier
2012-07-25 14:05:21	alanhollis	ever
2012-07-25 14:05:26	ArnaudFrugier	ok thanks alanhollis
2012-07-25 14:05:43	ArnaudFrugier	I thought it has to ^^
2012-07-25 14:05:51	johnhamelink	no ArnaudFrugier luckily it doesnt :D
2012-07-25 14:05:58	ArnaudFrugier	ok ok
2012-07-25 14:06:07	ArnaudFrugier	I'm going to talk to sylvain about wireframes
2012-07-25 14:06:12	johnhamelink	ArnaudFrugier: https://bitbucket.org/symble/symble-3-staff-web-frontend/src/5f6d4e13181a/bundles/symblemailer/lib/symblemailer.php
2012-07-25 14:06:18	johnhamelink	check the send function :)
2012-07-25 14:06:30	johnhamelink	make sense? :)
2012-07-25 14:06:59	ArnaudFrugier	yes
2012-07-25 14:07:09	johnhamelink	awesome :D
2012-07-25 14:07:11	ArnaudFrugier	so the body content of the email is the email field, right ?
2012-07-25 14:07:36	alanhollis	this fileuploader
2012-07-25 14:07:39	alanhollis	bundle
2012-07-25 14:07:46	alanhollis	it uses Form:: in the start method?
2012-07-25 14:07:52	alanhollis	start.php*
2012-07-25 14:08:14	johnhamelink	ArnaudFrugier: yep exactly :)
2012-07-25 14:08:14	alanhollis	is there anyway we can make it not do that?
2012-07-25 14:08:18	johnhamelink	alanhollis: yeah it does
2012-07-25 14:08:38	johnhamelink	open to suggestions, I think it makes sense to put it there though :)
2012-07-25 14:09:27	alanhollis	hmm
2012-07-25 14:09:32	alanhollis	Two reasons I don't like it
2012-07-25 14:09:35	ArnaudFrugier	johnhamelink: what is the URL for "SymbleEvent" ? it's POST, right ? and do I need to send an other query in order to send an email from the API ? if yes, which query is it ?
2012-07-25 14:09:43	alanhollis	1. It's stopping me doing what I want to be able to do now
2012-07-25 14:09:53	alanhollis	2. It's loaded every time regardless of whether it's used
2012-07-25 14:10:29	alanhollis	I'm going to change it :)
2012-07-25 14:12:47		irc: disconnected from server
2012-07-25 14:12:54	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-25 14:12:54	--	Nicks #symble: [alanhollis ArnaudFrugier BenjaminMaugain johnhamelink MaxGaudron sylvainreiter SymbleJenkins]
2012-07-25 14:12:54	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-25 14:12:58	--	Mode #symble [+cnt]
2012-07-25 14:12:58	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-25 14:13:02		irc: disconnected from server
2012-07-25 14:14:40	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-25 14:14:40	--	Nicks #symble: [alanhollis ArnaudFrugier BenjaminMaugain johnhamelink MaxGaudron sylvainreiter SymbleJenkins]
2012-07-25 14:14:40	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-25 14:14:44	--	Mode #symble [+cnt]
2012-07-25 14:14:44	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-25 14:15:08	johnhamelink	ArnaudFrugier: <url>/events is the URL
2012-07-25 14:15:12	johnhamelink	and you post to create a new one
2012-07-25 14:15:33	johnhamelink	the query is <url>/mailinglisthistory
2012-07-25 14:15:47	johnhamelink	alanhollis: fine by moi :)
2012-07-25 14:16:17	ArnaudFrugier	and what are the parameters for the mailinglisthistory query ?
2012-07-25 14:16:25	ArnaudFrugier	also POST?
2012-07-25 14:17:04	johnhamelink	ArnaudFrugier: yep post to create
2012-07-25 14:18:10	johnhamelink	parameters can be seen here 109
2012-07-25 14:18:14	johnhamelink	https://bitbucket.org/symble/symble-3-staff-web-frontend/src/5f6d4e13181a/bundles/symblemailer/lib/symblemailer.php
2012-07-25 14:18:23	johnhamelink	function send()
2012-07-25 14:19:28	johnhamelink	MaxGaudron: I notice in the last build we pass, but we're actually getting validation errors in the output. Are testing it's failing problerly and that's why they're there?
2012-07-25 14:20:01	MaxGaudron	yes :)
2012-07-25 14:20:07	johnhamelink	ok phew :D
2012-07-25 14:20:23	MaxGaudron	i try to create empty documents to check which columns are required
2012-07-25 14:20:50	johnhamelink	awesome, good work :D
2012-07-25 14:20:57	MaxGaudron	and to match the results with the array of rules i declared in the tests/ folder
2012-07-25 14:21:06	MaxGaudron	so if somebody change a required field, it fails :)
2012-07-25 14:21:11	johnhamelink	perfecto!
2012-07-25 14:26:12	johnhamelink	alanhollis: Managed to get your changes to merge in correctly, 1 more bug to go :)
2012-07-25 14:27:40	johnhamelink	found the bug, will fix now :)
2012-07-25 14:28:21	MaxGaudron	on the backend johnhamelink ?
2012-07-25 14:28:26	johnhamelink	yeah
2012-07-25 14:28:50	johnhamelink	hmm weird, I thought I had the bug, but I don't... it's to do with the arguments being different for clients
2012-07-25 14:28:56	 *	johnhamelink strokes beard
2012-07-25 14:28:59	johnhamelink	leave it with me :)
2012-07-25 14:30:03	johnhamelink	haha got it, it's a case error :)
2012-07-25 14:46:56	SymbleJenkins	Project Symble 3 - AUT - Web frontend build #12: SUCCESS in 8.3 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Web%20frontend/12/
2012-07-25 14:46:56	SymbleJenkins	benjamin: Account - Add select fields values in config file
2012-07-25 14:53:32	ArnaudFrugier	johnhamelink: http://cl.ly/image/16293k471X3m
2012-07-25 14:53:40	ArnaudFrugier	I added the datepickets
2012-07-25 14:53:45	ArnaudFrugier	datepickers*
2012-07-25 14:57:30	alanhollis	do we have any error css for input boxes? johnhamelink / BenjaminMaugain ?
2012-07-25 14:57:48	johnhamelink	ArnaudFrugier: that looks awesome :D
2012-07-25 14:57:56	johnhamelink	alanhollis: not to my knowledge
2012-07-25 15:03:10	alanhollis	cool
2012-07-25 15:03:18	johnhamelink	your backend changes are pushed now
2012-07-25 15:03:20	alanhollis	I've added a .hasError class to form inputs and labels
2012-07-25 15:03:25	alanhollis	when there's an error
2012-07-25 15:03:28	johnhamelink	that was quite a difficult merge ^_^
2012-07-25 15:03:31	alanhollis	and the message gets repeated under the label
2012-07-25 15:03:37	johnhamelink	sounds nice alanhollis :)
2012-07-25 15:03:39	alanhollis	You think that one's difficult ;)
2012-07-25 15:04:05	johnhamelink	it was difficult because git made a few bad decisions as to where the changes were
2012-07-25 15:04:06	alanhollis	wait till the one you're getting at the end of today :)
2012-07-25 15:04:14	johnhamelink	bring it on :P
2012-07-25 15:04:20	alanhollis	haah
2012-07-25 15:06:07	johnhamelink	oooh fun, 3 way merges on the frontend XD
2012-07-25 15:07:00	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #29: FAILURE in 14 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/29/
2012-07-25 15:07:00	SymbleJenkins	* John Hamelink: Added node_modules
2012-07-25 15:07:01	SymbleJenkins	* John Hamelink: Removed Tier from required in the clients model test; fixed case of username in clients model test.
2012-07-25 15:07:58	MaxGaudron	hum -_- !
2012-07-25 15:08:16	johnhamelink	o.0
2012-07-25 15:08:24	MaxGaudron	added node_modules ?
2012-07-25 15:08:51	johnhamelink	yeah, i couldn't get mocha to pick should async etc even though I'd installed globally
2012-07-25 15:09:00	alanhollis	Man, I don't ever want to commit to develop any more ;)
2012-07-25 15:09:01	johnhamelink	but that's not causing the failure, is it
2012-07-25 15:09:19	MaxGaudron	what did you added ?
2012-07-25 15:10:18	johnhamelink	MaxGaudron: https://bitbucket.org/symble/symble-3-backend/changeset/120ec6f50d79
2012-07-25 15:10:23	MaxGaudron	i deleted the node_modules in node because i wanted to be able to launch the tests in the subfolders recursively :)
2012-07-25 15:10:41	MaxGaudron	without node_modules/* tests
2012-07-25 15:10:58	johnhamelink	MaxGaudron: the latest commit passes for me, im on ubuntu
2012-07-25 15:11:37	johnhamelink	MaxGaudron: what version of node is the jenkins machine running?
2012-07-25 15:11:49	johnhamelink	is it 0.6.* by any chance?
2012-07-25 15:11:49	MaxGaudron	johnhamelink how many tests do you have on your machine ?
2012-07-25 15:12:06	johnhamelink	aah
2012-07-25 15:12:11	johnhamelink	MaxGaudron: i get 123 tests
2012-07-25 15:12:23	MaxGaudron	you should have 300+ ;)
2012-07-25 15:12:25	johnhamelink	yep
2012-07-25 15:12:56	johnhamelink	you think i've deleted them? or are they just not being ran?
2012-07-25 15:13:00	MaxGaudron	ah with your merge we have 108 tests on jenkins ;)
2012-07-25 15:13:11	johnhamelink	why do you have less than me?
2012-07-25 15:14:36	MaxGaudron	i don't know :)
2012-07-25 15:14:45	MaxGaudron	and why do you have only 123 tests ? :D
2012-07-25 15:15:14	johnhamelink	probably to do with the merge of test/creation.js
2012-07-25 15:16:31	MaxGaudron	yes
2012-07-25 15:16:39	MaxGaudron	there is no creation* tests ran at all
2012-07-25 15:17:48	johnhamelink	hmm i don't see that
2012-07-25 15:18:05	MaxGaudron	http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/lastCompletedBuild/testReport/(root)/
2012-07-25 15:19:10	MaxGaudron	johnhamelink don't worry about that
2012-07-25 15:19:19	MaxGaudron	i finish what i'm doing and i fix that
2012-07-25 15:20:09	johnhamelink	MaxGaudron: ok... I want to see what I did wrong though... I can't really see where the problem is tbh :|
2012-07-25 15:20:36	johnhamelink	so once you've fixed it, lets quickly walk through it so i can see
2012-07-25 15:20:41	MaxGaudron	i just finish what i'm doing and i'll do it ;)
2012-07-25 15:20:46	johnhamelink	thanks mate :D
2012-07-25 15:34:02	alanhollis	I am so warm!!!!!!!!!!!!!!!
2012-07-25 15:34:11	alanhollis	I had to share.
2012-07-25 15:34:40	johnhamelink	I am not. :P
2012-07-25 15:36:01	johnhamelink	alanhollis: I'm actually wearing thermals right now
2012-07-25 15:36:41	alanhollis	bah I won't go into what I'm wearing...
2012-07-25 15:37:02	johnhamelink	lol
2012-07-25 15:37:27	MaxGaudron	haha
2012-07-25 15:49:36	alanhollis	johnhamelink,  I think I've broken event generation on creation
2012-07-25 15:49:40	alanhollis	when I say think
2012-07-25 15:49:49	alanhollis	I know I have because the code was commented out
2012-07-25 15:50:01	alanhollis	adding it back in works, but it spins off in an infinite loop
2012-07-25 15:50:26	alanhollis	I'll try to fix this, and somehow we need to add a test
2012-07-25 15:51:24	johnhamelink	ok alanhollis 
2012-07-25 15:51:30	johnhamelink	MaxGaudron: how are you getting on?
2012-07-25 15:51:39	MaxGaudron	still working on my tests
2012-07-25 15:51:46	MaxGaudron	almost done xD
2012-07-25 15:51:50	MaxGaudron	the hard part is done :p
2012-07-25 15:53:37	alanhollis	Going to need your help actually johnhamelink
2012-07-25 15:53:59	johnhamelink	thanks MaxGaudron 
2012-07-25 15:54:06	johnhamelink	ok alanhollis what can I do for ya' :)
2012-07-25 15:54:16	alanhollis	Is there anything we can pass in the request when a new event that's meant to be logged is fired
2012-07-25 15:54:47	alanhollis	which we don't pass in when any other module hits the create method in CRUD.js
2012-07-25 15:55:02	alanhollis	which also leads me to
2012-07-25 15:55:16	alanhollis	where is the event to add a new event caught?
2012-07-25 15:56:02	johnhamelink	back a step, what are you trying to do?
2012-07-25 15:56:13	alanhollis	make events work like they used to
2012-07-25 15:56:26	alanhollis	the socket.send method
2012-07-25 15:56:31	alanhollis	is now in Crud.js
2012-07-25 15:56:42	alanhollis	but it was in the individual controllers
2012-07-25 15:57:05	alanhollis	in fact I've probably just answered my own question
2012-07-25 15:58:23	johnhamelink	at least when I wrote it, it was an event that was triggered in each controller
2012-07-25 15:58:34	alanhollis	I've done this
2012-07-25 15:59:00	alanhollis	gist.github.com/31766111
2012-07-25 15:59:08	alanhollis	that's in Crud.js
2012-07-25 15:59:17	alanhollis	in the create method
2012-07-25 16:00:24	johnhamelink	that URL is empty
2012-07-25 16:00:43	alanhollis	eep
2012-07-25 16:00:44	alanhollis	extra 1
2012-07-25 16:00:58	alanhollis	gist.github.com/3176611
2012-07-25 16:01:34	alanhollis	that doesn't work :(
2012-07-25 16:02:05	alanhollis	Do you kinda see what I need to fix now though?
2012-07-25 16:02:40	johnhamelink	just opening it now :)
2012-07-25 16:03:40	johnhamelink	ok in what way does it not work, is it throwing an error?
2012-07-25 16:03:57	alanhollis	it's getting stuck in an eternal loop of requests
2012-07-25 16:04:06	alanhollis	which slowly creates a small blackhole in my machine
2012-07-25 16:04:13	alanhollis	before it dies a horrible horrible painful death
2012-07-25 16:04:30	johnhamelink	lol ^_^
2012-07-25 16:04:44	johnhamelink	do you have this running on the event controller?
2012-07-25 16:04:55	alanhollis	no it's in CRUD.js
2012-07-25 16:05:16	johnhamelink	right so you need to check that the current URL is not the events one
2012-07-25 16:05:23	johnhamelink	then it won't black-hole on you
2012-07-25 16:05:41	alanhollis	bah, that's a bloody good idea
2012-07-25 16:05:47	johnhamelink	^.^
2012-07-25 16:05:50	johnhamelink	brb
2012-07-25 16:05:55	alanhollis	ty
2012-07-25 16:06:01	MaxGaudron	Hahaha i like when it's working :D http://cl.ly/image/1f0d3q1k2n0f
2012-07-25 16:06:05	johnhamelink	np mate, i try to be helpful when i can :D
2012-07-25 16:06:07	MaxGaudron	now your issue johnhamelink
2012-07-25 16:06:38	johnhamelink	MaxGaudron: that is beautiful, i'll brb and i'll pull it and make sure it works here too :D
2012-07-25 16:09:39	MaxGaudron	johnhamelink before your merge and after http://cl.ly/image/1z251i1D310r :p
2012-07-25 16:10:28	MaxGaudron	ok done.
2012-07-25 16:12:01	SymbleJenkins	Yippie, build fixed!
2012-07-25 16:12:02	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #30: FIXED in 15 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/30/
2012-07-25 16:12:02	SymbleJenkins	maxxg57: test suite : added sort tests
2012-07-25 16:12:06	MaxGaudron	héhé
2012-07-25 16:12:15	SymbleJenkins	Project Symble 3 - AUT - Backend build #12: SUCCESS in 8.6 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/12/
2012-07-25 16:12:16	SymbleJenkins	* John Hamelink: Added node_modules
2012-07-25 16:12:16	SymbleJenkins	* John Hamelink: Removed Tier from required in the clients model test; fixed case of username in clients model test.
2012-07-25 16:12:17	SymbleJenkins	* maxxg57: test suite : added sort tests
2012-07-25 16:17:02	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #31: SUCCESS in 15 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/31/
2012-07-25 16:17:02	SymbleJenkins	* me: Fix new events not firing
2012-07-25 16:17:03	SymbleJenkins	* maxxg57: test suite : forget to change the name of the test suite...
2012-07-25 16:17:03	SymbleJenkins	* maxxg57: Fix new events not firing
2012-07-25 16:17:15	SymbleJenkins	Project Symble 3 - AUT - Backend build #13: SUCCESS in 7.7 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/13/
2012-07-25 16:17:15	SymbleJenkins	* me: Fix new events not firing
2012-07-25 16:17:15	SymbleJenkins	* maxxg57: test suite : forget to change the name of the test suite...
2012-07-25 16:17:16	SymbleJenkins	* maxxg57: Fix new events not firing
2012-07-25 16:17:19	alanhollis	Why is me me?
2012-07-25 16:17:24	MaxGaudron	:o i forgot to rebase instead of merge
2012-07-25 16:17:37	MaxGaudron	i suppose it's because of the git config on your machine
2012-07-25 16:18:21	MaxGaudron	check in ~/.gitconfig
2012-07-25 16:18:29	MaxGaudron	name and email value
2012-07-25 16:18:35	alanhollis	ah
2012-07-25 16:18:36	alanhollis	my email is
2012-07-25 16:18:38	alanhollis	me@alanhollis.com
2012-07-25 16:19:09	MaxGaudron	ah yeah true, mine is maxxg57@gmail.com, looks like it doesn't use the name but the email :o
2012-07-25 16:36:55	SymbleJenkins	Project Symble 3 - AUT - Web frontend build #13: SUCCESS in 8.2 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Web%20frontend/13/
2012-07-25 16:36:56	SymbleJenkins	benjamin: Account select fields - fix controller flovalue->value
2012-07-25 16:39:08	johnhamelink	back (that took longer than expected >.>)
2012-07-25 16:42:03	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #32: SUCCESS in 16 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/32/
2012-07-25 16:42:03	SymbleJenkins	unknown: Account - financial embedded docuemnt fix flovalue->value
2012-07-25 16:42:15	SymbleJenkins	Project Symble 3 - AUT - Backend build #14: SUCCESS in 7 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/14/
2012-07-25 16:42:16	SymbleJenkins	unknown: Account - financial embedded docuemnt fix flovalue->value
2012-07-25 16:42:26	alanhollis	hehe
2012-07-25 16:42:44	alanhollis	fix flovalue->value doesn't seem right?
2012-07-25 16:42:57	alanhollis	now I want to know what the commit did!
2012-07-25 16:43:00	alanhollis	;)
2012-07-25 16:44:22	johnhamelink	yes!
2012-07-25 16:46:12	alanhollis	um
2012-07-25 16:46:22	alanhollis	What was that commit for BenjaminMaugain ?
2012-07-25 16:56:20	BenjaminMaugain	Sylvain asked me to populate some selects in the account view
2012-07-25 16:56:31	BenjaminMaugain	I wanted to define the content in the config file
2012-07-25 16:56:48	alanhollis	cool well 'value' won't work
2012-07-25 16:56:58	alanhollis	needs to be 'floValue'
2012-07-25 16:56:58	SymbleJenkins	Project Symble 3 - AUT - Web frontend build #14: SUCCESS in 9.8 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Web%20frontend/14/
2012-07-25 16:56:59	BenjaminMaugain	MaxGaudron helped me to do it dynamically
2012-07-25 16:56:59	SymbleJenkins	benjamin: Account - Dynamic loading of rules for financial values from config file
2012-07-25 16:57:03	alanhollis	as that's waht the model is in the background
2012-07-25 16:57:05	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #33: SUCCESS in 17 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/33/
2012-07-25 16:57:05	SymbleJenkins	maxxg57: test suite : fixed typo
2012-07-25 16:57:13	alanhollis	'flo' means the value is a float
2012-07-25 16:57:20	MaxGaudron	Yeah but not all dynamic values are numbers
2012-07-25 16:57:41	alanhollis	if that's the case the model will changing in the backend
2012-07-25 16:57:48	alanhollis	at the moment its defined as floValue
2012-07-25 16:57:50	BenjaminMaugain	By the way we now load some validation rules dynamically, according to ehat is set in the config file
2012-07-25 16:57:52	alanhollis	so that code will break
2012-07-25 16:58:01	alanhollis	urk
2012-07-25 16:58:12	alanhollis	I think that's going to break what I've just been working on....
2012-07-25 16:58:22	MaxGaudron	it's done look the channel at 16:42:03 ( the bot )
2012-07-25 16:58:28	SymbleJenkins	Project Symble 3 - AUT - Backend build #15: SUCCESS in 1 min 17 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/15/
2012-07-25 16:58:29	SymbleJenkins	maxxg57: test suite : fixed typo
2012-07-25 16:59:05	BenjaminMaugain	alanhollis, what wil break ?
2012-07-25 16:59:20	alanhollis	I've been working on validation stuff
2012-07-25 16:59:31	alanhollis	doesn't work how it used to before
2012-07-25 16:59:56	BenjaminMaugain	To be able to display error messages next to each field ?
2012-07-25 17:00:15	alanhollis	it's okay
2012-07-25 17:00:17	alanhollis	not a big deal
2012-07-25 17:00:27	alanhollis	seen what you've done and it's easy to add to what I've done
2012-07-25 17:00:47	BenjaminMaugain	Do you want me to revert something ? I used this only in the Account bundle
2012-07-25 17:00:51	MaxGaudron	yeah but alan, the financials values are stored in a embedded document, all we did was to move the differents values/rules/keys in the configs fils to be able to change that dynamically
2012-07-25 17:00:55	alanhollis	nope tis fine thanks
2012-07-25 17:01:05	BenjaminMaugain	k
2012-07-25 17:01:10	MaxGaudron	there is no validation in the embedded documents no ?
2012-07-25 17:01:19	alanhollis	there is in the backend
2012-07-25 17:01:33	alanhollis	but not in the front
2012-07-25 17:01:43	alanhollis	you'll see when I commit this big chunk of stuff what I've done
2012-07-25 17:01:49	MaxGaudron	ok :)
2012-07-25 17:07:30	BenjaminMaugain	I can do something relatively similar for countries list
2012-07-25 17:07:38	BenjaminMaugain	Where should I put the JSON ?
2012-07-25 17:10:42	BenjaminMaugain	alanhollis, any advice ? :)
2012-07-25 17:11:15	alanhollis	I think the countries list etc should be coming from the backend
2012-07-25 17:11:21	alanhollis	not from config files in the front end
2012-07-25 17:11:36	alanhollis	but you'll have to discuss that with johnhamelink  and MaxGaudron  :)
2012-07-25 17:11:59	MaxGaudron	BenjaminMaugain you need to add the countries ?
2012-07-25 17:12:08	BenjaminMaugain	yup
2012-07-25 17:12:34	BenjaminMaugain	country select field in address fieldset
2012-07-25 17:16:00	johnhamelink	alanhollis: your changes are properly merged this time :D
2012-07-25 17:16:56	SymbleJenkins	Project Symble 3 - AUT - Web frontend build #15: SUCCESS in 8.5 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Web%20frontend/15/
2012-07-25 17:16:57	SymbleJenkins	* me: Tidy client bundle
2012-07-25 17:16:57	SymbleJenkins	* me: Stash
2012-07-25 17:16:57	SymbleJenkins	* me: Add client registration
2012-07-25 17:16:58	SymbleJenkins	* me: Refactor code
2012-07-25 17:17:00	SymbleJenkins	* me: Fix make username equal to primary email address
2012-07-25 17:17:00	SymbleJenkins	* me: Fix case on username variable
2012-07-25 17:17:00	SymbleJenkins	* me: Tidy account update and delete
2012-07-25 17:17:00	SymbleJenkins	* me: Split error view from header
2012-07-25 17:17:00	SymbleJenkins	* John Hamelink: Merged with Develop
2012-07-25 17:17:01	SymbleJenkins	* John Hamelink: Revved ODM
2012-07-25 17:18:06	MaxGaudron	alanhollis, the countries stuff
2012-07-25 17:18:34	MaxGaudron	we have the region/country bundle for the client, he needs to define on which region he's working
2012-07-25 17:18:50	MaxGaudron	and we have a fixed list of countries, for the client/accounts addresses
2012-07-25 17:19:22	MaxGaudron	the fixed list it's just an array ( BenjaminMaugain found the one from paypal ), there is no need to have this on the backend ?
2012-07-25 17:19:43	MaxGaudron	we can define it in the client as it's not going to change.
2012-07-25 17:19:43	johnhamelink	MaxGaudron, alanhollis that was my feeling - it's a bit overkill?
2012-07-25 17:20:01	alanhollis	Cool, but things like financial values etc
2012-07-25 17:20:04	alanhollis	we could change?
2012-07-25 17:20:08	alanhollis	which could change*
2012-07-25 17:20:25	MaxGaudron	it's defined in the config file of the application for each client
2012-07-25 17:20:32	alanhollis	mobile?
2012-07-25 17:20:44	alanhollis	people using the api directly?
2012-07-25 17:20:49	MaxGaudron	erf xD
2012-07-25 17:20:50	MaxGaudron	ok
2012-07-25 17:21:10	MaxGaudron	so this have to be defined on the backend side. where ? :)
2012-07-25 17:21:16	alanhollis	haha
2012-07-25 17:21:21	alanhollis	No idea ;)
2012-07-25 17:21:44	MaxGaudron	and for the countries ( the fixed array ) ? in the client / mobile or in the backend as well ?
2012-07-25 17:21:49	johnhamelink	it could literally be a route that returns a json object
2012-07-25 17:22:08	MaxGaudron	why not johnhamelink
2012-07-25 17:22:19	alanhollis	Well see i'd still put it in the database, because if a countries name changes
2012-07-25 17:22:24	alanhollis	you're still changing it in just one place
2012-07-25 17:22:28	alanhollis	for everybody
2012-07-25 17:22:35	alanhollis	but that's just me
2012-07-25 17:22:55	alanhollis	you know what I get like when I see things being repeated everywhere
2012-07-25 17:22:56	alanhollis	;)
2012-07-25 17:23:12	johnhamelink	alanhollis: for me it's just not worth the overhead, but I'm nitpicking I guess
2012-07-25 17:23:17	MaxGaudron	i think john was thinking about a route in the backend ?
2012-07-25 17:23:22	MaxGaudron	who returns a json array
2012-07-25 17:23:29	alanhollis	tis entirely up to you guys
2012-07-25 17:23:37	johnhamelink	yeah that's what i was thinking MaxGaudron 
2012-07-25 17:23:37	alanhollis	you can either do it the perfectionist way
2012-07-25 17:23:42	alanhollis	or you can do it the easy way
2012-07-25 17:23:45	johnhamelink	loool
2012-07-25 17:26:24	johnhamelink	I think noone will disagree putting it in a JSON array and returning it is easier and cheaper, but I guess it makes negligable difference, so who-ever wants to add that; do what you want :)
2012-07-25 17:26:37	BenjaminMaugain	I let the decision to the architects :)
2012-07-25 17:27:14	MaxGaudron	lets go with the DB, i'll show how to create a module on the backend to BenjaminMaugain !
2012-07-25 17:27:27	BenjaminMaugain	he he
2012-07-25 17:28:24	johnhamelink	MaxGaudron: have you seen this https://wiki.jenkins-ci.org/display/JENKINS/MongoDB+Plugin ?
2012-07-25 17:28:55	alanhollis	hmm weird
2012-07-25 17:29:00	alanhollis	value is in the backend
2012-07-25 17:29:07	alanhollis	but empty when it comes through odm
2012-07-25 17:29:36	johnhamelink	uhoh
2012-07-25 17:29:43	johnhamelink	why isn't this getting picked up in tests? :(
2012-07-25 17:30:15	alanhollis	not sure
2012-07-25 17:30:24	alanhollis	Could you please see if it's just my local code?
2012-07-25 17:30:30	alanhollis	It's directTelephoneNumber
2012-07-25 17:30:35	alanhollis	for staff members
2012-07-25 17:30:43	alanhollis	basically see if that's remaining populated in the forms
2012-07-25 17:31:07	johnhamelink	sure, are you using the latest rev from develop?
2012-07-25 17:31:15	alanhollis	no
2012-07-25 17:31:23	alanhollis	I'm on another branch entirely
2012-07-25 17:31:47	johnhamelink	ok?
2012-07-25 17:31:52	johnhamelink	which one? :P
2012-07-25 17:32:09	alanhollis	hah just need to see if it's happening on the branch you're using too
2012-07-25 17:32:17	johnhamelink	oh ok! :)
2012-07-25 17:32:20	alanhollis	trying to rule out whether it's something I've done :(
2012-07-25 17:32:23	MaxGaudron	ah no johnhamelink i didn't saw this one
2012-07-25 17:32:36	johnhamelink	I just modified staff so that's why I asked
2012-07-25 17:32:54	MaxGaudron	but i just drop the DB with one command at the end of the tests and mongo is a daemon
2012-07-25 17:32:56	johnhamelink	MaxGaudron: I'm installing one for blitz.io and ansicolour in the console output :)
2012-07-25 17:33:41	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #34: FAILURE in 15 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/34/
2012-07-25 17:34:05	MaxGaudron	installing one what ?
2012-07-25 17:34:40	MaxGaudron	ho, backend broken again :p
2012-07-25 17:34:49	johnhamelink	ha no i needed to reboot I think :)
2012-07-25 17:34:59	<--	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has quit
2012-07-25 17:36:07	johnhamelink	wow jenkins takes ages to reboot
2012-07-25 17:36:42	MaxGaudron	did you installed a plugin johnhamelink ?
2012-07-25 17:37:29	MaxGaudron	and it tooks ages because of the CPU, if you do an "uptime" you'll see :p
2012-07-25 17:37:31	johnhamelink	MaxGaudron: yeah I installed a plugin to show coloured text correctly in console
2012-07-25 17:37:35	-->	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has joined #symble
2012-07-25 17:37:35	johnhamelink	aha i see :P
2012-07-25 17:37:44	SymbleJenkins	Project Symble 3 - AUT - Web frontend build #16: SUCCESS in 10 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Web%20frontend/16/
2012-07-25 17:37:50	MaxGaudron	Hoo that's cool
2012-07-25 17:38:03	MaxGaudron	it doesn't work xD
2012-07-25 17:38:18	johnhamelink	it pisses me off when i look at the console and see all the bash colours in there XD
2012-07-25 17:38:55	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #35: STILL FAILING in 1 min 17 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/35/
2012-07-25 17:39:10	johnhamelink	hmm looks like it's not to do with jenkins actually
2012-07-25 17:39:23	johnhamelink	Build step 'Execute shell' marked build as failure
2012-07-25 17:40:33	SymbleJenkins	Yippie, build fixed!
2012-07-25 17:40:33	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #36: FIXED in 16 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/36/
2012-07-25 17:40:38	MaxGaudron	ah cool
2012-07-25 17:40:43	MaxGaudron	we have the colors now
2012-07-25 17:40:45	SymbleJenkins	Project Symble 3 - AUT - Backend build #16: SUCCESS in 7.3 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/16/
2012-07-25 17:40:48	johnhamelink	^_%
2012-07-25 17:40:56	johnhamelink	i had to change the config :)
2012-07-25 17:41:03	MaxGaudron	i have to say it's much more cleaner now :D
2012-07-25 17:41:10	MaxGaudron	what did you change ?
2012-07-25 17:41:18	johnhamelink	just to turn it on :)
2012-07-25 17:41:33	MaxGaudron	ah yeah i see
2012-07-25 17:43:56	johnhamelink	adding blitz.io now
2012-07-25 17:43:59	<--	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has quit
2012-07-25 17:44:24	MaxGaudron	blitz.io ? to jenkins ?
2012-07-25 17:44:36	johnhamelink	yep :)
2012-07-25 17:44:41	johnhamelink	so it runs blitz tests
2012-07-25 17:44:58	johnhamelink	doesn't require us writing any performance tests
2012-07-25 17:45:23	-->	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has joined #symble
2012-07-25 17:46:12	MaxGaudron	welcome back SymbleJenkins !
2012-07-25 17:46:54	<--	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has quit (Client Quit)
2012-07-25 17:47:21	alanhollis	...
2012-07-25 17:47:27	<--	alanhollis (~alan@5e029c4e.bb.sky.com) has quit (Quit: Leaving)
2012-07-25 17:47:41	-->	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has joined #symble
2012-07-25 17:47:48	-->	alanhollis (~alan@5e029c4e.bb.sky.com) has joined #symble
2012-07-25 17:49:08	alanhollis	ack johnhamelink  you mereged validation improvements?
2012-07-25 17:49:23	alanhollis	on front and back
2012-07-25 17:49:32	alanhollis	hmm I'm surprised anythings working
2012-07-25 17:49:35	alanhollis	:)
2012-07-25 17:49:43	SymbleJenkins	Project Symble 3 - AUT - Web frontend build #17: FAILURE in 14 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Web%20frontend/17/
2012-07-25 17:49:48	alanhollis	uh oh
2012-07-25 17:49:52	MaxGaudron	what ?
2012-07-25 17:49:57	johnhamelink	haha no it's fine
2012-07-25 17:50:00	MaxGaudron	how can this job fails ?
2012-07-25 17:50:07	johnhamelink	http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Web%20frontend/17/blitz/?
2012-07-25 17:50:16	johnhamelink	it didn't really :)
2012-07-25 17:50:23	johnhamelink	just need to tweak it a little
2012-07-25 17:50:32	MaxGaudron	Ahh blitz -_-
2012-07-25 17:50:49	johnhamelink	^_^
2012-07-25 17:50:57	johnhamelink	it makes sense to have it attached to that job, no?
2012-07-25 17:50:58	SymbleJenkins	Yippie, build fixed!
2012-07-25 17:50:59	SymbleJenkins	Project Symble 3 - AUT - Web frontend build #18: FIXED in 11 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Web%20frontend/18/
2012-07-25 17:51:16	MaxGaudron	for me it makes more sense to have a performance test on the API
2012-07-25 17:51:34	johnhamelink	ok, lets do that also then :)
2012-07-25 17:52:25	johnhamelink	MaxGaudron: can we reach :3000 from outside when the test is being ran?
2012-07-25 17:52:31	MaxGaudron	yes
2012-07-25 17:52:53	johnhamelink	kk, what do you think is a good route to test on?
2012-07-25 17:52:56	johnhamelink	callsheet?
2012-07-25 17:52:56	MaxGaudron	it share the firewall rules with the symble3.symble.net as you told me :p
2012-07-25 17:53:03	MaxGaudron	test every routes ?
2012-07-25 17:53:03	johnhamelink	aah yeah true :)
2012-07-25 17:53:19	johnhamelink	I can only run 1 test :(
2012-07-25 17:53:26	MaxGaudron	that's bad xD
2012-07-25 17:53:54	johnhamelink	yeah ;/
2012-07-25 17:54:26	ArnaudFrugier	Bye everyone, see you tomorrow
2012-07-25 17:54:38	johnhamelink	bye ArnaudFrugier ! :)
2012-07-25 17:55:03	--	ArnaudFrugier is now known as ArnaudFrugierBNC
2012-07-25 17:55:48	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #37: FAILURE in 21 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/37/
2012-07-25 17:56:02	BenjaminMaugain	Bye guys !
2012-07-25 17:56:30	johnhamelink	bye BenjaminMaugain :)
2012-07-25 17:56:32	alanhollis	origin feature/ValidationImprovements push
2012-07-25 17:56:35	--	BenjaminMaugain is now known as benjMaugain_AFK
2012-07-25 17:56:52	alanhollis	this push requires
2012-07-25 17:57:01	alanhollis	feature/ReplaceEmbedded
2012-07-25 17:57:05	alanhollis	in the odm
2012-07-25 17:57:06	alanhollis	and the api
2012-07-25 17:57:20	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #38: STILL FAILING in 18 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/38/
2012-07-25 17:57:55	johnhamelink	alanhollis: ?
2012-07-25 17:58:03	alanhollis	yes?
2012-07-25 17:58:30	johnhamelink	does that mean that develop shouldn't be working?
2012-07-25 17:58:46	alanhollis	I would have thought so
2012-07-25 17:59:03	alanhollis	Only the account bundle really though
2012-07-25 17:59:09	johnhamelink	aah ok
2012-07-25 17:59:12	alanhollis	as that's the bundle I did all the validation testing on
2012-07-25 17:59:18	MaxGaudron	Ok done 46 more tests
2012-07-25 17:59:19	MaxGaudron	wouhouu
2012-07-25 17:59:24	johnhamelink	MaxGaudron: you're a machine :D
2012-07-25 17:59:40	MaxGaudron	bus in 5minutes
2012-07-25 17:59:42	alanhollis	this branch could be a lot more dramatic in terms of breakages
2012-07-25 17:59:43	MaxGaudron	i have to go :D
2012-07-25 17:59:51	johnhamelink	alanhollis: ok that's my next task then :)
2012-07-25 18:00:10	MaxGaudron	i'll push/merge my work tomorrow morning
2012-07-25 18:00:15	MaxGaudron	bybye
2012-07-25 18:00:21	alanhollis	Cool, if you could let me know about that directTelephoneNumber thingy
2012-07-25 18:00:22	johnhamelink	ok MaxGaudron bye :)
2012-07-25 18:00:28	johnhamelink	oh yeah, i'll get to that now
2012-07-25 18:00:31	alanhollis	as that could be a bugger to solve if it's in the api/backend somewhere
2012-07-25 18:00:59	johnhamelink	so I added one to a staffmember and it sticks
2012-07-25 18:01:05	johnhamelink	is that what I should expect?
2012-07-25 18:01:17	alanhollis	sticks on edit yeah?
2012-07-25 18:01:34	johnhamelink	yep
2012-07-25 18:01:41	alanhollis	hmmmmmmmmmmmmmmmmmmmmmmm
2012-07-25 18:01:49	alanhollis	how have I brokens that.....
2012-07-25 18:01:52	alanhollis	Cheers johnhamelink
2012-07-25 18:02:05	johnhamelink	no problem mate :)
2012-07-25 18:03:31	alanhollis	there's soemthing v strange going on somewhere
2012-07-25 18:03:51	alanhollis	something to do with search returning objects twice
2012-07-25 18:04:49	--	MaxGaudron is now known as MaxGaudronBNC
2012-07-25 18:05:07	johnhamelink	:/
2012-07-25 18:05:18	johnhamelink	come to think of it
2012-07-25 18:05:27	johnhamelink	I /may/ have also experienced it
2012-07-25 18:05:51	johnhamelink	is the structure something like this?
2012-07-25 18:06:16	johnhamelink	idSector: [ { _id: 4585495, name: 83489589 } ]
2012-07-25 18:06:38	johnhamelink	where _id is the sectorID and name is the name taken from the same sector?
2012-07-25 18:07:14	alanhollis	nope :(
2012-07-25 18:07:45	johnhamelink	ah ok =/
2012-07-25 18:12:43	alanhollis	good knews
2012-07-25 18:12:50	alanhollis	it's coming back from the api okay
2012-07-25 18:12:53	alanhollis	bad news
2012-07-25 18:12:58	alanhollis	it's vanishing somewhere in the odm
2012-07-25 18:13:03	alanhollis	eep face
2012-07-25 18:15:06	johnhamelink	:S
2012-07-25 18:17:47	alanhollis	hmmm
2012-07-25 18:17:58	alanhollis	Somewhere I was overwriting the walkthearray method
2012-07-25 18:18:01	alanhollis	which was protected?
2012-07-25 18:19:23	johnhamelink	huh
2012-07-25 18:19:27	alanhollis	it wasn;t that
2012-07-25 18:19:31	alanhollis	that was a red herring
2012-07-25 18:19:34	johnhamelink	phew
2012-07-25 18:20:01	<--	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has quit
2012-07-25 18:20:47	-->	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has joined #symble
2012-07-25 18:20:59	SymbleJenkins	Yippie, build fixed!
2012-07-25 18:21:00	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #39: FIXED in 15 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/39/
2012-07-25 18:21:11	SymbleJenkins	Project Symble 3 - AUT - Backend build #17: SUCCESS in 6.6 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/17/
2012-07-25 18:22:06	<--	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has quit (Client Quit)
2012-07-25 18:24:49	-->	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has joined #symble
2012-07-25 18:30:53	alanhollis	awww man this is beyond my little brain
2012-07-25 18:30:59	alanhollis	the entitymanagercode is intense
2012-07-25 18:31:15	alanhollis	no comments and recursion all over the shop
2012-07-25 18:31:48	johnhamelink	Yeah we really need to start documenting our code :/
2012-07-25 18:31:54	johnhamelink	it's getting mental
2012-07-25 18:32:24	johnhamelink	I've made a couple changes to jenkins
2012-07-25 18:32:40	johnhamelink	i've now associated changes with changeset links in bitbucket, which is nice
2012-07-25 18:33:05	johnhamelink	passing builds are now GREEN instead of blue (seriously, who thought that was a good idea!?)
2012-07-25 18:33:13	alanhollis	haha
2012-07-25 18:34:16	johnhamelink	I added a travis.ci-style build status badge to all the repos (like so: https://bitbucket.org/symble/symble-3-staff-web-frontend/wiki/Home)
2012-07-25 18:34:38	johnhamelink	colourized console output (YAY)
2012-07-25 18:35:22	johnhamelink	oh and added a plugin that lets us restart jenkins without killing it and creating zombie processes
2012-07-25 18:35:29	alanhollis	nice
2012-07-25 18:36:56	johnhamelink	I'm very very happy with whatever tech MaxGaudronBNC used to show the test results, it's SOOOO much better than TAP
2012-07-25 18:37:27	johnhamelink	ahh, he's using JUnit, I'll need to remember that :)
2012-07-25 18:57:19	alanhollis	AHHH MAKA ME GO CRAZY
2012-07-25 18:57:41	alanhollis	bug found
2012-07-25 18:57:51	johnhamelink	heheh :D
2012-07-25 18:58:10	johnhamelink	brb, need to log in/out
2012-07-25 18:58:13	alanhollis	abstract data object defined a public function setAttributes
2012-07-25 18:58:20	alanhollis	which you can overwrite in any other normal
2012-07-25 18:58:28	alanhollis	but that function is used in the depths of the ODM
2012-07-25 18:58:29	alanhollis	to do stuff
2012-07-25 18:58:34	alanhollis	so if you do overwrite that function
2012-07-25 18:58:44	alanhollis	BAD BRAIN CONFUSING THINGS HAPPEN
2012-07-25 18:58:53	johnhamelink	D=
2012-07-25 18:59:12		irc: disconnected from server
2012-07-25 18:59:44	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-25 18:59:44	--	Nicks #symble: [alanhollis ArnaudFrugierBNC benjMaugain_AFK johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-25 18:59:44	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-25 18:59:48	--	Mode #symble [+cnt]
2012-07-25 18:59:48	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-25 18:59:50	alanhollis	the moral of this story is
2012-07-25 18:59:58	alanhollis	if your class relies on a function to work properly
2012-07-25 19:00:03	alanhollis	Make the blinking thing private
2012-07-25 19:00:31	johnhamelink	yep, good mantra :D
2012-07-25 19:03:39		irc: disconnected from server
2012-07-25 21:47:30	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-25 21:47:30	--	Nicks #symble: [alanhollis ArnaudFrugierBNC benjMaugain_AFK johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-25 21:47:30	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-25 21:47:34	--	Mode #symble [+cnt]
2012-07-25 21:47:34	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-25 22:53:08		irc: disconnected from server
2012-07-25 22:58:47	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-25 22:58:47	--	Nicks #symble: [alanhollis ArnaudFrugierBNC benjMaugain_AFK johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-25 22:58:47	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-25 22:58:51	--	Mode #symble [+cnt]
2012-07-25 22:58:51	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-25 23:29:24		irc: disconnected from server
2012-07-25 23:29:27	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-25 23:29:27	--	Nicks #symble: [alanhollis ArnaudFrugierBNC benjMaugain_AFK johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-25 23:29:27	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-25 23:29:31	--	Mode #symble [+cnt]
2012-07-25 23:29:32	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-25 23:29:32		irc: disconnected from server
2012-07-25 23:33:19	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-25 23:33:19	--	Nicks #symble: [alanhollis ArnaudFrugierBNC benjMaugain_AFK johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-25 23:33:19	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-25 23:33:23	--	Mode #symble [+cnt]
2012-07-25 23:33:24	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-25 23:33:40		irc: disconnected from server
2012-07-25 23:34:51	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-25 23:34:51	--	Nicks #symble: [alanhollis ArnaudFrugierBNC benjMaugain_AFK johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-25 23:34:51	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-25 23:34:56	--	Mode #symble [+cnt]
2012-07-25 23:34:56	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-25 23:36:18		irc: disconnected from server
2012-07-25 23:36:23	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-25 23:36:23	--	Nicks #symble: [alanhollis ArnaudFrugierBNC benjMaugain_AFK johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-25 23:36:23	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-25 23:36:27	--	Mode #symble [+cnt]
2012-07-25 23:36:28	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-25 23:37:09		irc: disconnected from server
2012-07-25 23:37:11	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-25 23:37:11	--	Nicks #symble: [alanhollis ArnaudFrugierBNC benjMaugain_AFK johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-25 23:37:11	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-25 23:37:14	--	Mode #symble [+cnt]
2012-07-25 23:37:14	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-25 23:38:03		irc: disconnected from server
2012-07-25 23:38:16	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-25 23:38:16	--	Nicks #symble: [alanhollis ArnaudFrugierBNC benjMaugain_AFK johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-25 23:38:16	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-25 23:38:20	--	Mode #symble [+cnt]
2012-07-25 23:38:20		irc: disconnected from server
2012-07-25 23:40:07	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-25 23:40:07	--	Nicks #symble: [alanhollis ArnaudFrugierBNC benjMaugain_AFK johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-25 23:40:07	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-25 23:40:11	--	Mode #symble [+cnt]
2012-07-25 23:40:11	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-25 23:40:13		irc: disconnected from server
2012-07-25 23:40:58	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-25 23:40:58	--	Nicks #symble: [alanhollis ArnaudFrugierBNC benjMaugain_AFK johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-25 23:40:58	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-25 23:41:02	--	Mode #symble [+cnt]
2012-07-25 23:41:02	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-26 00:31:02		irc: disconnected from server
2012-07-26 00:31:12	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-26 00:31:12	--	Nicks #symble: [alanhollis ArnaudFrugierBNC benjMaugain_AFK johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-26 00:31:12	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-26 00:31:24	--	Mode #symble [+cnt]
2012-07-26 00:31:24	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-26 01:30:50		irc: disconnected from server
2012-07-26 09:01:57	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-26 09:01:57	--	Nicks #symble: [alanhollis ArnaudFrugier BenjaminMaugain johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-26 09:01:57	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-26 09:02:01	--	Mode #symble [+cnt]
2012-07-26 09:02:01	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-26 09:02:21	johnhamelink	mornin' :)
2012-07-26 09:03:17		irc: disconnected from server
2012-07-26 09:03:26	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-26 09:03:26	--	Nicks #symble: [alanhollis ArnaudFrugier BenjaminMaugain johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-26 09:03:26	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-26 09:03:30	--	Mode #symble [+cnt]
2012-07-26 09:03:30	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-26 09:03:37		irc: disconnected from server
2012-07-26 09:04:04	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-26 09:04:04	--	Nicks #symble: [alanhollis ArnaudFrugier BenjaminMaugain johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-26 09:04:04	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-26 09:04:07	alanhollis	Do the datatables do a really weird thing for anyone else when using the nav meny?|
2012-07-26 09:04:08	--	Mode #symble [+cnt]
2012-07-26 09:04:08	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-26 09:04:25	alanhollis	the header table kinda becomes duplicated and moves up and down as the menu moves up an d down
2012-07-26 09:04:39		irc: disconnected from server
2012-07-26 09:04:41	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-26 09:04:41	--	Nicks #symble: [alanhollis ArnaudFrugier BenjaminMaugain johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-26 09:04:41	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-26 09:04:45	--	Mode #symble [+cnt]
2012-07-26 09:04:45	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-26 09:04:46		irc: disconnected from server
2012-07-26 09:05:03	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-26 09:05:03	--	Nicks #symble: [alanhollis ArnaudFrugier BenjaminMaugain johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-26 09:05:03	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-26 09:05:07	--	Mode #symble [+cnt]
2012-07-26 09:05:07	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-26 09:05:25		irc: disconnected from server
2012-07-26 09:05:27	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-26 09:05:27	--	Nicks #symble: [alanhollis ArnaudFrugier BenjaminMaugain johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-26 09:05:27	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-26 09:05:31	--	Mode #symble [+cnt]
2012-07-26 09:05:31	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-26 09:05:38		irc: disconnected from server
2012-07-26 09:05:41	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-26 09:05:41	--	Nicks #symble: [alanhollis ArnaudFrugier BenjaminMaugain johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-26 09:05:41	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-26 09:05:44		irc: disconnected from server
2012-07-26 09:05:59	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-26 09:05:59	--	Nicks #symble: [alanhollis ArnaudFrugier BenjaminMaugain johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-07-26 09:05:59	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-26 09:06:03	--	Mode #symble [+cnt]
2012-07-26 09:06:03	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-26 09:06:06	BenjaminMaugain	I know
2012-07-26 09:06:22	BenjaminMaugain	It is supposed to be fixed when we scroll down
2012-07-26 09:06:38	BenjaminMaugain	With the menu, the page kinda scrolls up
2012-07-26 09:07:23	BenjaminMaugain	I explained the pb to Sylvain, he told me we might cut the animation in the menu
2012-07-26 09:07:49	BenjaminMaugain	=> same menu height on every pages
2012-07-26 09:08:04	alanhollis	makes sense
2012-07-26 09:08:17	alanhollis	I personally don't like the fixed menu thing, but that's personal preference
2012-07-26 09:08:42	BenjaminMaugain	Header or menu ?
2012-07-26 09:08:54	alanhollis	table header
2012-07-26 09:09:48	alanhollis	I don't mind when something is fixed and it doesn't overwrite any content, but when it overlays content as it goes
2012-07-26 09:09:52	alanhollis	I dislike it
2012-07-26 09:10:35	BenjaminMaugain	I agree, but it also can be convenient with big dataTables
2012-07-26 09:10:40	--	MaxGaudronBNC is now known as MaxGaudron
2012-07-26 09:10:45	MaxGaudron	Hello !
2012-07-26 09:12:18	johnhamelink	morning max :)
2012-07-26 09:12:54	alanhollis	I think the paging is more than adequate in this occasion :) We really do need to move paging into the backend though....
2012-07-26 09:13:06	johnhamelink	MaxGaudron: have you upgraded to mountain lion yet?
2012-07-26 09:13:29	MaxGaudron	Nop, i need to buy it first :p
2012-07-26 09:13:33	MaxGaudron	you ? :)
2012-07-26 09:13:46	johnhamelink	http://robots.thoughtbot.com/post/27985816073/the-hitchhikers-guide-to-riding-a-mountain-lion <- read this when/if you do
2012-07-26 09:13:54	johnhamelink	MaxGaudron: yeah, it was a nightmare installing on my laptop
2012-07-26 09:14:04	MaxGaudron	why ? it's so easy usually
2012-07-26 09:14:05	johnhamelink	It clobbered my linux install
2012-07-26 09:14:23	johnhamelink	I got an error saying it couldn't install on my HDD
2012-07-26 09:14:53	johnhamelink	so I went into disk utility and changed the partitions slightly so it would re-generate a new GPT
2012-07-26 09:15:01	johnhamelink	but it hung there for about 3 hours
2012-07-26 09:15:45	johnhamelink	so I rebooted and the only thing in the bootloader was "install mountain lion", so I did it, and it installed on top of my HDD, but somehow managed to keep all my stuff...
2012-07-26 09:16:13	alanhollis	awww nuts mr johnhamelink  the merge lost things
2012-07-26 09:16:14	johnhamelink	so now I have 1 partition with all my original OSX settings and no linux partition
2012-07-26 09:16:20	johnhamelink	alanhollis: :(
2012-07-26 09:16:42	alanhollis	there was an extra function call wrapped around all the err variables in CRUD.js
2012-07-26 09:16:45	alanhollis	which has gone
2012-07-26 09:17:17	johnhamelink	how come that never picked up in the tests :(
2012-07-26 09:17:46	alanhollis	I doubt this is tested
2012-07-26 09:17:58	alanhollis	the tests I think only test for an error
2012-07-26 09:18:05	alanhollis	I don't think they test for the format of the error
2012-07-26 09:18:15	alanhollis	what's more concerning to me
2012-07-26 09:18:18	alanhollis	is why this got lost?
2012-07-26 09:18:52	johnhamelink	Well tbh I don't have a clue, but it's easy to lose code in a 3-way merge
2012-07-26 09:19:05	alanhollis	it shouldn't be :(
2012-07-26 09:19:30	alanhollis	losing code has to be the absolute worse case scenario
2012-07-26 09:19:53	johnhamelink	well, if 2 pieces of code contradict one another the developer has to make a decision on what to keep
2012-07-26 09:20:08	alanhollis	yes
2012-07-26 09:20:32	MaxGaudron	the tests are testing : the HTTP code of the response, if it's a JSON response and some checks specific to each routes (like the number of validators for the "create" action)
2012-07-26 09:21:32	johnhamelink	If there's no comments in code, how am I supposed to truely know what the intention is when I'm trying to make that decision? Makes merging much more difficult
2012-07-26 09:22:11	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #40: FAILURE in 14 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/40/
2012-07-26 09:22:11	SymbleJenkins	* maxxg57: symbleApi.js : added getOne method to use URLs (GET method) like /:moduleName/:id
2012-07-26 09:22:12	SymbleJenkins	* maxxg57: test suite: added tests on URLs (using GET) like /:moduleName/:id
2012-07-26 09:27:27	 *	MaxGaudron is starting to write comments (angel)
2012-07-26 09:27:55	johnhamelink	:D
2012-07-26 09:28:16	alanhollis	You read about my problem last night MaxGaudron
2012-07-26 09:28:18	alanhollis	?
2012-07-26 09:28:37	MaxGaudron	yes i did, the protected / private / final methods issue ?
2012-07-26 09:28:50	alanhollis	yeah :) much messing with my brain
2012-07-26 09:29:11	alanhollis	setAttributes() keyword is now final
2012-07-26 09:29:22	alanhollis	uhh method is now final
2012-07-26 09:29:42	alanhollis	I was overwriting it in my DataObject, which meant everything was kinda working
2012-07-26 09:29:45	alanhollis	except not :)
2012-07-26 09:29:49	alanhollis	much fun
2012-07-26 09:30:43	MaxGaudron	sorry it's my habit to keep the methods protected and not final because i alway think "humm maybe i'll need to extend the object and override the method or i don't know so i'll make this method protected".
2012-07-26 09:31:02	alanhollis	not a problem was a learning experience for me too
2012-07-26 09:31:12	alanhollis	to me it kinda suggests there's a code smell in the ODM somewhere
2012-07-26 09:31:12	MaxGaudron	and i'll add comment in the entityManager too :p
2012-07-26 09:31:34	alanhollis	but I haven't worked out what it is
2012-07-26 09:31:44	alanhollis	or what would be best practice to overcome it
2012-07-26 09:32:10	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #41: STILL FAILING in 13 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/41/
2012-07-26 09:32:10	SymbleJenkins	me: Add wrapper function around err object
2012-07-26 09:32:21	MaxGaudron	why i code smell ? i cleared the whole ODM and now every object only have one goal and there is no dead code
2012-07-26 09:32:31	MaxGaudron	why a code smell ? *
2012-07-26 09:32:35	alanhollis	In terms of the above issue
2012-07-26 09:33:08	alanhollis	There might not be, but something doesn't feel right about how it works
2012-07-26 09:33:15	alanhollis	but as I stated I can't figure out a better way just yet
2012-07-26 09:33:48	alanhollis	I guess when a method like setAttributes() is used in a critical section of code
2012-07-26 09:34:03	alanhollis	it needs to be created as final, but is there a better way which avoids that?
2012-07-26 09:35:36	MaxGaudron	change the attribute array to public ?
2012-07-26 09:36:20	alanhollis	No, I that's definitely correct as a private member variable
2012-07-26 09:36:46	alanhollis	It's the interface between the EntityManager -> DataObject
2012-07-26 09:36:57	alanhollis	at the moment that interfact is the setAttributes method
2012-07-26 09:37:03	alanhollis	I'm wondering if it should be
2012-07-26 09:37:16	alanhollis	Again, I really don't know the answer
2012-07-26 09:38:18	MaxGaudron	a param in the constructor ?
2012-07-26 09:38:22	MaxGaudron	ah no
2012-07-26 09:38:37	MaxGaudron	because i need this method in the update method of the repository
2012-07-26 09:40:59	alanhollis	worth having  a little think about design wise. I might do some googling to see if I can find a best practice answer to this question
2012-07-26 09:41:20	alanhollis	might even be worth asking on Stack OVerflow, bet you'd get some good karma points for it
2012-07-26 09:41:42	alanhollis	Either that or it will be everyone saying, just declare the method as final
2012-07-26 09:41:44	alanhollis	that's fine :)
2012-07-26 09:42:36	MaxGaudron	and maybe take a look at doctrine code ( or another ORM )
2012-07-26 09:44:17	alanhollis	good idea too
2012-07-26 09:46:07	alanhollis	So I've logged into Jenkins
2012-07-26 09:46:10	alanhollis	but I see nothing
2012-07-26 09:46:18	alanhollis	do I need my account to be given some permissions?
2012-07-26 09:46:57	johnhamelink	you need to log in as symble alanhollis 
2012-07-26 09:47:04	johnhamelink	i did the same thing yesterday XD
2012-07-26 09:47:18	alanhollis	password :)?
2012-07-26 09:47:24	johnhamelink	The password !
2012-07-26 09:47:29	johnhamelink	worst password ever >_>
2012-07-26 09:47:39	alanhollis	with a space?
2012-07-26 09:48:02	alanhollis	yes
2012-07-26 09:48:03	alanhollis	:)
2012-07-26 09:48:41	johnhamelink	People who use spaces in their passwords are evil
2012-07-26 09:49:34	alanhollis	:)
2012-07-26 09:50:10	MaxGaudron	why ?
2012-07-26 09:50:46	MaxGaudron	be honest, did you ever thought about a password like that ? it's unbreakable :p
2012-07-26 09:50:53	alanhollis	hah :)
2012-07-26 09:51:11	alanhollis	So Test Result (no failures) but the build failed?
2012-07-26 09:51:14	alanhollis	What does that mean?
2012-07-26 09:52:21	MaxGaudron	it's because there was an error somewhere, in the last build it was because mocha returned an exit code != 0
2012-07-26 09:52:26	MaxGaudron	so the build failed
2012-07-26 09:52:46	MaxGaudron	the test suite failed :D
2012-07-26 09:53:09	alanhollis	Is that something you just knew? Or does it say somewhere that mocha failed?
2012-07-26 09:53:54	alanhollis	johnhamelink, if a client changes their primary email address
2012-07-26 09:53:59	alanhollis	is that meant to change their username too?
2012-07-26 09:54:32	MaxGaudron	i knew it because i made a mistake in the tests i pushed this morning :p
2012-07-26 09:54:37	johnhamelink	yep absolutely alanhollis 
2012-07-26 09:54:47	alanhollis	Cool
2012-07-26 09:54:49	alanhollis	ty
2012-07-26 09:54:52	johnhamelink	np :)
2012-07-26 09:54:58	MaxGaudron	you can go in "console output" and you see what's happening
2012-07-26 09:55:10	johnhamelink	alanhollis: make it easy to disable btw, we'll need to change that behaviour regularly
2012-07-26 09:55:25	johnhamelink	but that should be the default :)
2012-07-26 09:55:29	alanhollis	?
2012-07-26 09:55:36	johnhamelink	when we import users from other systems
2012-07-26 09:55:56	johnhamelink	for example if they have usernames in a different system
2012-07-26 09:55:56	alanhollis	In the controller I'm setting userName to be equal to primaryEmail
2012-07-26 09:56:38	johnhamelink	Ok as long as you're only doing it in one place :)
2012-07-26 09:56:43	alanhollis	okay I'll stick it in it's own public method, and if that does happen for a future person, we just extend the controller and overwrite that method
2012-07-26 09:56:53	johnhamelink	perfect :)
2012-07-26 09:57:09	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #42: STILL FAILING in 13 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/42/
2012-07-26 09:57:10	SymbleJenkins	maxxg57: test suite: bug fix, the get_one test suite now creates a new document, stores the id and tries to get it.
2012-07-26 09:57:51	johnhamelink	EADDRESSINUSE
2012-07-26 09:58:13	johnhamelink	zombie node process :/
2012-07-26 09:58:44	MaxGaudron	oops
2012-07-26 09:59:12	MaxGaudron	it was me :p
2012-07-26 09:59:23	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #43: STILL FAILING in 20 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/43/
2012-07-26 10:00:02	MaxGaudron	now we have something
2012-07-26 10:00:54	MaxGaudron	hum every 'validators' tests are failing
2012-07-26 10:01:07	alanhollis	That was me
2012-07-26 10:01:33	alanhollis	The err object returned my mongo/mongoose now goes through a error helper function
2012-07-26 10:01:38	alanhollis	to standardise the error output
2012-07-26 10:01:43	alanhollis	tests need changing
2012-07-26 10:02:15	MaxGaudron	can we have a key with the name of the column in the array alanhollis ?
2012-07-26 10:02:31	alanhollis	no real point
2012-07-26 10:02:43	alanhollis	mongo only passes that back on validation errors
2012-07-26 10:02:46	alanhollis	all other errors
2012-07-26 10:02:48	alanhollis	the key is missing
2012-07-26 10:03:40	MaxGaudron	i'll write some JS regexp to adapt the tests :)
2012-07-26 10:04:16	alanhollis	Do I need to increase the timeout on my machine to run the tests?
2012-07-26 10:05:47	MaxGaudron	normally no, on my machine it take 2,2seconds to run 440 tests
2012-07-26 10:05:57	alanhollis	hmm
2012-07-26 10:06:00	alanhollis	When I run mocha
2012-07-26 10:06:04	alanhollis	on latest pull of unstable
2012-07-26 10:06:12	alanhollis	Listing sorted "before all" hook:
2012-07-26 10:06:28	alanhollis	Error: timeout of 1000ms exceeded
2012-07-26 10:06:40	MaxGaudron	mocha -b <-- with this it'll stop at the first failure
2012-07-26 10:06:54	alanhollis	same..
2012-07-26 10:06:58	MaxGaudron	:o
2012-07-26 10:07:07	MaxGaudron	Ahhh
2012-07-26 10:07:28	MaxGaudron	i suppose you have a lot of data ?
2012-07-26 10:07:36	MaxGaudron	in this case yes increase the timeout
2012-07-26 10:07:39	alanhollis	not a huge amount
2012-07-26 10:07:55	MaxGaudron	because in the "before" method, in certains tests i'm doing a lot of requests
2012-07-26 10:08:18	johnhamelink	MaxGaudron: latest unstable rev fails tests?
2012-07-26 10:08:43	MaxGaudron	yes because of the modification on the validators errors
2012-07-26 10:08:47	MaxGaudron	modifications
2012-07-26 10:09:05	johnhamelink	yeah just double checking you knew :)
2012-07-26 10:14:02	alanhollis	ark
2012-07-26 10:14:07	alanhollis	So financial schema
2012-07-26 10:14:13	alanhollis	now isn't floValue
2012-07-26 10:14:20	alanhollis	and that's the way it's meant to be yeah?
2012-07-26 10:16:52	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #44: STILL FAILING in 16 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/44/
2012-07-26 10:16:53	SymbleJenkins	* me: Fix tier not being set on client account change
2012-07-26 10:16:53	SymbleJenkins	* maxxg57: test suite: fix errors counting
2012-07-26 10:17:02	johnhamelink	I don't understand what you mean by "financial schema now isn't floValue"... it never was?
2012-07-26 10:17:12	alanhollis	Was at some point
2012-07-26 10:17:22	alanhollis	in account model in the backend
2012-07-26 10:17:51	alanhollis	var financial = new Schema({key:"",floValue:""})
2012-07-26 10:17:57	johnhamelink	ohhh
2012-07-26 10:17:58	alanhollis	was roughly how it was
2012-07-26 10:18:03	alanhollis	now it's just value
2012-07-26 10:18:22	johnhamelink	no,no it can't be like that
2012-07-26 10:18:36	johnhamelink	we don't know what data is going in there, hence key=>value
2012-07-26 10:18:53	alanhollis	aye
2012-07-26 10:19:01	alanhollis	but you're happy that it's now not floValue
2012-07-26 10:19:03	alanhollis	and just value
2012-07-26 10:19:05	johnhamelink	all we know is that there will be >1
2012-07-26 10:19:11	johnhamelink	yeah sure :)
2012-07-26 10:19:13	alanhollis	okay
2012-07-26 10:19:17	alanhollis	because it was floValue
2012-07-26 10:19:21	alanhollis	for sometihng to do with floats
2012-07-26 10:19:23	johnhamelink	as long as the ODM doesn't cry, I'm happy :)
2012-07-26 10:19:28	alanhollis	that's not necessary now yeah?
2012-07-26 10:19:58	johnhamelink	well I think it was wrong in the first place to assume that we'll only be putting in floats so yep fine by me :)
2012-07-26 10:28:49	alanhollis	BenjaminMaugain / MaxGaudron , where are the financialKeys currently in the latest version of develop?
2012-07-26 10:29:02	MaxGaudron	application/config/symble.php
2012-07-26 10:29:16	alanhollis	was that checked in?
2012-07-26 10:31:02	alanhollis	code that's currently in develop wouldn't work either as the financial keys was removed in the model but still used in the controller
2012-07-26 10:31:41	alanhollis	that's my fault though, as the code shouldn't be in the controller
2012-07-26 10:31:54	alanhollis	which it now isn't, and that would have made it clearer
2012-07-26 10:32:34	alanhollis	if you could check in symble.php with the financial keys
2012-07-26 10:32:39	alanhollis	that would be handy :)
2012-07-26 10:32:40	alanhollis	thanks
2012-07-26 10:35:18	BenjaminMaugain	alanhollis, What do you want us to check concerning financial keys ?
2012-07-26 10:35:27	alanhollis	symble.php
2012-07-26 10:35:31	alanhollis	needs to be checked in to develop
2012-07-26 10:35:51	alanhollis	the latest pull doesn't seem to have anything to do with financial variables / account unless I am being blind :(
2012-07-26 10:35:53	alanhollis	which happens
2012-07-26 10:35:56	alanhollis	a lot
2012-07-26 10:36:01	alanhollis	I'm thinking about getting a dog
2012-07-26 10:36:05	alanhollis	but that's entirely unrelated...
2012-07-26 10:36:11	BenjaminMaugain	:)
2012-07-26 10:36:59	alanhollis	I think the heat in this room might be getting to me...
2012-07-26 10:40:49	MaxGaudron	alanhollis sorry, we forgot to push the config file because of : "git update-index --assume-unchanged"
2012-07-26 10:43:05	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #45: STILL FAILING in 19 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/45/
2012-07-26 10:43:05	SymbleJenkins	maxxg57: test suite: fix validation tests following the modification of the API
2012-07-26 10:43:22	MaxGaudron	almost done !
2012-07-26 10:43:37	MaxGaudron	2 tests failing
2012-07-26 10:43:44	alanhollis	no problem
2012-07-26 10:43:47	alanhollis	pushed now?
2012-07-26 10:43:52	MaxGaudron	yes !
2012-07-26 10:43:55	alanhollis	cheers boss
2012-07-26 10:45:16	BenjaminMaugain	shouls work better now
2012-07-26 10:45:25	BenjaminMaugain	*should
2012-07-26 10:47:01	SymbleJenkins	Project Symble 3 - AUT - Web frontend build #19: FAILURE in 22 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Web%20frontend/19/
2012-07-26 10:47:01	SymbleJenkins	benjamin: Add account variables to config file
2012-07-26 10:48:32	alanhollis	wierd
2012-07-26 10:48:40	alanhollis	i'm still sending floValue?
2012-07-26 10:48:57	MaxGaudron	delete your data
2012-07-26 10:49:00	MaxGaudron	in your DB
2012-07-26 10:49:05	alanhollis	ahhh
2012-07-26 10:49:08	alanhollis	yes of course
2012-07-26 10:49:11	alanhollis	cheers MaxGaudron
2012-07-26 10:49:33	alanhollis	:( my beautiful data
2012-07-26 10:49:35	MaxGaudron	we had the same issue, sorry i forgot to tell you :p
2012-07-26 10:50:57	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #46: STILL FAILING in 1 min 9 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/46/
2012-07-26 10:50:58	SymbleJenkins	maxxg57: events: bug fix, added errorHelper to the create method of the controller.
2012-07-26 10:51:14	alanhollis	ops
2012-07-26 10:51:19	alanhollis	sorry MaxGaudron my bad that one
2012-07-26 10:51:23	MaxGaudron	:p
2012-07-26 10:51:25	alanhollis	forgot about him
2012-07-26 10:51:44	alanhollis	tis good this jenkins stuff
2012-07-26 10:51:47	alanhollis	I really like it
2012-07-26 10:53:12	MaxGaudron	me too
2012-07-26 10:53:14	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #47: STILL FAILING in 56 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/47/
2012-07-26 10:53:39	MaxGaudron	but it's realllyyy slowwww
2012-07-26 10:54:34	MaxGaudron	 09:54:07 up 9 days, 17:39,  1 user,  load average: 3.61, 2.60, 1.24 <-- hum
2012-07-26 10:54:50	MaxGaudron	3.61 poor CPU :D
2012-07-26 10:55:37	SymbleJenkins	Yippie, build fixed!
2012-07-26 10:55:38	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #48: FIXED in 20 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/48/
2012-07-26 10:55:47	MaxGaudron	it's weird
2012-07-26 10:56:01	MaxGaudron	there is no modification between this build and the one before
2012-07-26 10:56:06	MaxGaudron	but, this one is working
2012-07-26 10:56:50	MaxGaudron	the only difference is during the build #47 jenkins was really slow because of the CPU/Memory
2012-07-26 10:57:02	SymbleJenkins	Project Symble 3 - AUT - Backend build #18: SUCCESS in 1 min 19 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/18/
2012-07-26 10:57:03	SymbleJenkins	* maxxg57: symbleApi.js : added getOne method to use URLs (GET method) like /:moduleName/:id
2012-07-26 10:57:03	SymbleJenkins	* maxxg57: test suite: added tests on URLs (using GET) like /:moduleName/:id
2012-07-26 10:57:04	SymbleJenkins	* me: Add wrapper function around err object
2012-07-26 10:57:04	SymbleJenkins	* maxxg57: test suite: bug fix, the get_one test suite now creates a new document, stores the id and tries to get it.
2012-07-26 10:57:05	SymbleJenkins	* me: Fix tier not being set on client account change
2012-07-26 10:57:05	SymbleJenkins	* maxxg57: test suite: fix errors counting
2012-07-26 10:57:06	SymbleJenkins	* maxxg57: test suite: fix validation tests following the modification of the API
2012-07-26 10:57:06	SymbleJenkins	* maxxg57: events: bug fix, added errorHelper to the create method of the controller.
2012-07-26 10:57:39	johnhamelink	yay :)
2012-07-26 11:06:51	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #49: SUCCESS in 16 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/49/
2012-07-26 11:06:52	SymbleJenkins	maxxg57: test suite: added test to check if the URL /:moduleName/:id returns the correct object.
2012-07-26 11:07:04	SymbleJenkins	Project Symble 3 - AUT - Backend build #19: SUCCESS in 7.5 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/19/
2012-07-26 11:07:05	SymbleJenkins	maxxg57: test suite: added test to check if the URL /:moduleName/:id returns the correct object.
2012-07-26 11:08:09	johnhamelink	MaxGaudron: do you have a copy of the researchType I sent you the other day?
2012-07-26 11:08:22	MaxGaudron	No sorry -_-
2012-07-26 11:08:34	johnhamelink	its ok
2012-07-26 11:08:35	MaxGaudron	but if you create another one, add it as a test document :p
2012-07-26 11:09:25	johnhamelink	Ok :)
2012-07-26 11:11:57	alanhollis	if we delete an account
2012-07-26 11:12:03	alanhollis	what should happen to all that accounts clients?
2012-07-26 11:12:55	johnhamelink	they are deleted too
2012-07-26 11:13:08	johnhamelink	and made unable to login/etc
2012-07-26 11:13:43	alanhollis	Cool, don't think that's done is it?
2012-07-26 11:15:38	alanhollis	nope
2012-07-26 11:15:39	alanhollis	doing now
2012-07-26 11:17:21	alanhollis	done
2012-07-26 11:20:20	alanhollis	waits for mr jenkins
2012-07-26 11:20:51	MaxGaudron	it's every 5minutes
2012-07-26 11:21:03	MaxGaudron	but you can start a job in the web interface if you want :p
2012-07-26 11:21:15	alanhollis	I like the suspense ;)
2012-07-26 11:22:02	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #50: SUCCESS in 27 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/50/
2012-07-26 11:22:03	SymbleJenkins	me: Fix on remove account update client active and delete variables
2012-07-26 11:22:15	MaxGaudron	raahh
2012-07-26 11:22:19	alanhollis	:)
2012-07-26 11:22:25	MaxGaudron	i wanted to push my modifications before jenkins :'(
2012-07-26 11:22:31	MaxGaudron	i have to wait another 5minutes now :o
2012-07-26 11:23:21	SymbleJenkins	Project Symble 3 - AUT - Backend build #20: SUCCESS in 1 min 14 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/20/
2012-07-26 11:23:22	SymbleJenkins	me: Fix on remove account update client active and delete variables
2012-07-26 11:23:31	johnhamelink	MaxGaudron: you can set bitbucket to send a post-commit hook to jenkins
2012-07-26 11:23:39	johnhamelink	and then jenkins can git pull automatically
2012-07-26 11:23:52	MaxGaudron	ah yeah why not
2012-07-26 11:23:53	alanhollis	MaxGaudron, can I get the database that's on the live site:)?
2012-07-26 11:23:57	ArnaudFrugier	johnhamelink: sylvainreiter is telling me the dateFrom and dateTo field are not mandatory
2012-07-26 11:24:01	alanhollis	aws site*
2012-07-26 11:24:12	MaxGaudron	yes 2sec
2012-07-26 11:24:12	alanhollis	please
2012-07-26 11:24:19	alanhollis	sil vous plait?
2012-07-26 11:24:35	MaxGaudron	hehe
2012-07-26 11:24:48	MaxGaudron	just one thing alanhollis in this case : http://cl.ly/image/2B0J3h030I2w you can use a git rebase instead of a merge
2012-07-26 11:24:55	MaxGaudron	it'll be cleaner in the history
2012-07-26 11:25:10	MaxGaudron	historic*
2012-07-26 11:25:25	alanhollis	ah I always just pull from origin
2012-07-26 11:25:36	alanhollis	Why rebase?
2012-07-26 11:25:38	MaxGaudron	look the difference : http://cl.ly/image/2m3v1U1l0B3f with a git merge
2012-07-26 11:25:51	johnhamelink	ArnaudFrugier: yep that's correct, are they set mandatory right now?
2012-07-26 11:26:00	MaxGaudron	and now the same with a rebase instead : http://cl.ly/image/35062Y093R2A
2012-07-26 11:26:23	alanhollis	hmmm
2012-07-26 11:26:24	MaxGaudron	it replays your commit on top of the one you want, so there is no longer any "merge unstable into unstable"
2012-07-26 11:26:42	MaxGaudron	you just have to replay your commit on top on the latest one you got from the git pull
2012-07-26 11:26:47	MaxGaudron	and it's clean in the historic :)
2012-07-26 11:26:54	MaxGaudron	now the AWS DB :p
2012-07-26 11:26:58	alanhollis	Wondering why git tells me to pull
2012-07-26 11:27:00	alanhollis	and not to rebase
2012-07-26 11:27:03	alanhollis	must be a reason?
2012-07-26 11:27:07	MaxGaudron	you have to pull
2012-07-26 11:27:13	MaxGaudron	but you can rebase after the pull
2012-07-26 11:27:17	MaxGaudron	instead of merging
2012-07-26 11:27:19	alanhollis	ahh okay
2012-07-26 11:27:21	alanhollis	uhh
2012-07-26 11:27:27	alanhollis	but pull automagically merges?
2012-07-26 11:27:32	MaxGaudron	seems so
2012-07-26 11:27:33	alanhollis	pull = fetch + merge
2012-07-26 11:27:50	MaxGaudron	in this case -> fetch + rebase :p
2012-07-26 11:28:14	MaxGaudron	http://www.kernel.org/pub/software/scm/git/docs/git-pull.html
2012-07-26 11:28:25	MaxGaudron	2nd line of the description
2012-07-26 11:28:38	MaxGaudron	i'll do an alias on my machine for auto rebase
2012-07-26 11:28:57	alanhollis	ahh okay
2012-07-26 11:29:02	alanhollis	git pull --rebase
2012-07-26 11:29:09	alanhollis	for small changes
2012-07-26 11:29:14	alanhollis	git pull for big changes
2012-07-26 11:29:17	alanhollis	I'm happy with that
2012-07-26 11:30:07	alanhollis	hmm
2012-07-26 11:30:15	alanhollis	good warning on that rebase page though
2012-07-26 11:30:24	alanhollis	rebase and is actually re-writing history
2012-07-26 11:30:28	MaxGaudron	yes :)
2012-07-26 11:30:29	alanhollis	dangerous that is
2012-07-26 11:31:34	MaxGaudron	normally i use it when i made a commit, a pull and somebody did a commit on bitbucket before mine, in this case it's a mess in the history so -> rebase, to replay my commit on top on the latest one, and once it's clean i push my work :)
2012-07-26 11:32:48	alanhollis	good discussion here
2012-07-26 11:32:51	alanhollis	http://stackoverflow.com/questions/2472254/when-should-i-use-git-pull-rebase
2012-07-26 11:33:09	alanhollis	I'll start doing rebase as you suggest :)
2012-07-26 11:33:15	alanhollis	ty
2012-07-26 11:33:25	MaxGaudron	http://symble3.symble.net/dumpMongoAWS.tar.gz
2012-07-26 11:33:32	MaxGaudron	tell me when i can delete the archive
2012-07-26 11:36:52	alanhollis	got it thanks MaxGaudron
2012-07-26 11:39:48	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #51: FAILURE in 17 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/51/
2012-07-26 11:39:48	SymbleJenkins	* maxxg57: symbleApi.js : bug fix, the remove method doesn't have parameters
2012-07-26 11:39:49	SymbleJenkins	* maxxg57: tests: added tests on delete method (soft delete)
2012-07-26 11:41:32	alanhollis	ohh love this Add event buttob mr BenjaminMaugain
2012-07-26 11:41:47	alanhollis	I wish I could do design :( much easier to appreciate good design than it is good code!
2012-07-26 11:51:25	alanhollis	johnhamelink, has the getSocketIO method in the api at any point recently?
2012-07-26 11:52:34	alanhollis	event log no longer works as it's failing on $socketio->script?
2012-07-26 11:52:37	MaxGaudron	symbleapi::getSocketIO() ?
2012-07-26 11:52:41	alanhollis	yeah
2012-07-26 11:53:13	MaxGaudron	it should be still here -_-
2012-07-26 11:53:32	alanhollis	hmm
2012-07-26 11:53:44	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #52: STILL FAILING in 13 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/52/
2012-07-26 11:53:45	SymbleJenkins	maxxg57: test suite: bug fix, as mocha don't isolate every tests suite. A (global)variable declared in one test can interfere in the other one. -> variable name changed.
2012-07-26 11:54:05	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #53: STILL FAILING in 15 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/53/
2012-07-26 11:54:29	alanhollis	ohhh
2012-07-26 11:54:32	alanhollis	it's me I brokes it
2012-07-26 11:54:57	alanhollis	the route /socketio
2012-07-26 11:55:04	alanhollis	tries to call a method in routes.js
2012-07-26 11:55:39	johnhamelink	trying to upgrade my researchTemplates model in node is proving a little confusing
2012-07-26 11:55:53	johnhamelink	"Cannot read property controllers of undefined"
2012-07-26 11:56:11	alanhollis	it's going to the wrong route
2012-07-26 11:56:13	alanhollis	uhh
2012-07-26 11:56:15	alanhollis	well the right route
2012-07-26 11:56:18	alanhollis	what that's saying is
2012-07-26 11:56:22	alanhollis	researchTemplates.controllers
2012-07-26 11:56:24	alanhollis	doesn't exist
2012-07-26 11:56:54	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #54: STILL FAILING in 18 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/54/
2012-07-26 11:57:05	johnhamelink	hmm alanhollis ok
2012-07-26 11:57:18	alanhollis	what's the route you're hitting
2012-07-26 11:57:45	alanhollis	it now does a /:moduleName/
2012-07-26 11:57:48	alanhollis	so in your request
2012-07-26 11:57:58	alanhollis	. /account/ for instance
2012-07-26 11:58:11	alanhollis	it then does account.controllers.someAction
2012-07-26 11:58:30	johnhamelink	yeah
2012-07-26 11:58:38	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #55: STILL FAILING in 1 min 40 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/55/
2012-07-26 11:58:44	johnhamelink	i get that much, just not sure how I can check which module the test is hitting
2012-07-26 11:58:56	alanhollis	it logs the request
2012-07-26 11:59:07	alanhollis	"GET /blablabla/?"
2012-07-26 11:59:31	alanhollis	So you'll see the error output
2012-07-26 11:59:34	alanhollis	then the next line
2012-07-26 11:59:39	alanhollis	is the request that failed
2012-07-26 11:59:51	johnhamelink	aha
2012-07-26 12:00:05	johnhamelink	ok let me loko deeper into that thanks alanhollis 
2012-07-26 12:00:18	alanhollis	any questions just ask
2012-07-26 12:00:35	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #56: ABORTED in 14 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/56/
2012-07-26 12:01:11	MaxGaudron	fixed
2012-07-26 12:01:12	MaxGaudron	fixed
2012-07-26 12:01:13	MaxGaudron	fixed
2012-07-26 12:01:14	MaxGaudron	!
2012-07-26 12:01:16	alanhollis	:)
2012-07-26 12:02:05	alanhollis	first pull --rebase
2012-07-26 12:02:08	alanhollis	that was scary
2012-07-26 12:02:09	alanhollis	;)
2012-07-26 12:02:13	MaxGaudron	:p
2012-07-26 12:02:25	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #57: STILL FAILING in 1 min 41 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/57/
2012-07-26 12:02:31	MaxGaudron	-_-
2012-07-26 12:02:34	alanhollis	hahaa
2012-07-26 12:02:50	SymbleJenkins	Yippie, build fixed!
2012-07-26 12:02:50	SymbleJenkins	Project Symble 3 - AUT - Web frontend build #20: FIXED in 13 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Web%20frontend/20/
2012-07-26 12:03:05	SymbleJenkins	Yippie, build fixed!
2012-07-26 12:03:05	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #58: FIXED in 20 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/58/
2012-07-26 12:03:06	SymbleJenkins	me: Fix route for socketio
2012-07-26 12:03:14	johnhamelink	works now :)
2012-07-26 12:03:18	SymbleJenkins	Project Symble 3 - AUT - Backend build #21: SUCCESS in 8.2 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/21/
2012-07-26 12:03:19	SymbleJenkins	* maxxg57: symbleApi.js : bug fix, the remove method doesn't have parameters
2012-07-26 12:03:19	SymbleJenkins	* maxxg57: tests: added tests on delete method (soft delete)
2012-07-26 12:03:20	SymbleJenkins	* maxxg57: test suite: bug fix, as mocha don't isolate every tests suite. A (global)variable declared in one test can interfere in the other one. -> variable name changed.
2012-07-26 12:03:20	MaxGaudron	and now it's fixed -_-
2012-07-26 12:03:20	SymbleJenkins	* me: Fix route for socketio
2012-07-26 12:04:13	MaxGaudron	yeah but there is only 517 tests
2012-07-26 12:04:45	MaxGaudron	we should have 577 tests
2012-07-26 12:04:49	MaxGaudron	ha -_-
2012-07-26 12:05:05	MaxGaudron	and now on my local machine i have 517 too
2012-07-26 12:07:04	MaxGaudron	ah no it's normal
2012-07-26 12:07:06	ArnaudFrugier	johnhamelink: ?
2012-07-26 12:07:39	johnhamelink	ArnaudFrugier? :)
2012-07-26 12:07:44	ArnaudFrugier	johnhamelink: sylvainreiter is telling me the dateFrom and dateTo field are not mandatory
2012-07-26 12:07:58	johnhamelink	yes i already responded to you about that
2012-07-26 12:08:23	johnhamelink	i said you're right, they shouldn't be mandatory on the model
2012-07-26 12:08:43	ArnaudFrugier	oh i didn't saw your messages
2012-07-26 12:08:45	ArnaudFrugier	sorry
2012-07-26 12:08:53	johnhamelink	hehe no worries mate :)
2012-07-26 12:08:55	johnhamelink	bbs lunch
2012-07-26 12:09:27	ArnaudFrugier	bon appetit
2012-07-26 12:10:27	alanhollis	aww I've buggered something up with the events
2012-07-26 12:10:37	alanhollis	:(
2012-07-26 12:11:00	alanhollis	socketio is getting sent the staff member not the event
2012-07-26 12:24:34	alanhollis	I can see where we send 'newActivity'
2012-07-26 12:24:44	alanhollis	but where the shmeg do we pick that up?
2012-07-26 12:25:08	alanhollis	AHHH I'm an idiot
2012-07-26 12:25:31	MaxGaudron	?
2012-07-26 12:25:36	alanhollis	socket.send
2012-07-26 12:25:40	alanhollis	isn't sending an event
2012-07-26 12:25:42	alanhollis	it's a function
2012-07-26 12:25:47	alanhollis	it's confusing because it should really be
2012-07-26 12:25:50	alanhollis	global.socket.send
2012-07-26 12:26:11	alanhollis	and socket.io has it's own method
2012-07-26 12:26:16	alanhollis	so I was getting muchly confused
2012-07-26 12:27:10	alanhollis	You know anything about this socketio / events stuff MaxGaudron ?
2012-07-26 12:27:31	MaxGaudron	Euh, when you call socket.send
2012-07-26 12:27:53	MaxGaudron	it use the method defined in /src/socket/socket.js
2012-07-26 12:27:57	alanhollis	yeah
2012-07-26 12:28:06	alanhollis	took me a LONG while to figure out :(
2012-07-26 12:28:10	MaxGaudron	this method call the API  (post an event)
2012-07-26 12:28:24	alanhollis	I assumed *wrongly*
2012-07-26 12:28:27	MaxGaudron	and send an event
2012-07-26 12:28:36	alanhollis	that it was part of the socket.io library
2012-07-26 12:28:50	MaxGaudron	and it's weird johnhamelink because you are not sending the event :/
2012-07-26 12:29:02	alanhollis	yeah you're making a request to yourself
2012-07-26 12:29:26	alanhollis	not sure why you can't just create an object and call save on it
2012-07-26 12:29:28	MaxGaudron	yes because we wanted to split the API in two separate part -> one for the socket IO and one for mongo
2012-07-26 12:30:41	alanhollis	so where is the event variables meant to be initialised?
2012-07-26 12:30:46	alanhollis	Things like direction ?
2012-07-26 12:31:13	MaxGaudron	the code should be add an event, call an URL ( another node application ) and the other node application should manage the socket.io stuff
2012-07-26 12:31:22	MaxGaudron	but we are not here :p
2012-07-26 12:31:28	alanhollis	cool
2012-07-26 12:31:31	alanhollis	That all makes sense.,
2012-07-26 12:31:34	alanhollis	What I don't get
2012-07-26 12:31:54	alanhollis	is how we know what the event model should be populated with
2012-07-26 12:31:58	alanhollis	based on the instance passed to it
2012-07-26 12:32:34	MaxGaudron	Yeah :/ that's weird because we pass the object we created to the post params
2012-07-26 12:32:51	alanhollis	yessum
2012-07-26 12:32:53	MaxGaudron	johnhamelink ?
2012-07-26 12:32:59	alanhollis	Think he's on lunch
2012-07-26 12:33:02	MaxGaudron	Ah yeah
2012-07-26 12:33:05	MaxGaudron	Huuumm
2012-07-26 12:33:19	MaxGaudron	i suppose, the whole thing is not up to date
2012-07-26 12:34:24	alanhollis	yeah I don't like the fact that the event is emitted before the event is saved either
2012-07-26 12:34:33	MaxGaudron	imo the best thing to do is to ( take at look at the feature/mobileRoute branch), add a callback to the controllers and create a specific event for each create/update/remove…. action on each module ?
2012-07-26 12:34:41	MaxGaudron	in the callback we can populate with what we need
2012-07-26 12:36:31	MaxGaudron	i'm going to lunch too :)
2012-07-26 12:36:38	alanhollis	me too I think
2012-07-26 12:36:47	alanhollis	well I don't think
2012-07-26 12:36:48	alanhollis	I am
2012-07-26 12:36:49	alanhollis	:)
2012-07-26 12:36:51	alanhollis	bbs
2012-07-26 12:36:54	MaxGaudron	:p
2012-07-26 12:38:20	MaxGaudron	johnhamelink : http://blogs.computerworld.com/security/20745/black-hat-hotel-keycard-lock-picking-less-time-it-takes-blink <-- arduino !
2012-07-26 12:39:10	--	ArnaudFrugier is now known as ArnaudFrugierBNC
2012-07-26 12:51:56	--	ArnaudFrugierBNC is now known as ArnaudFrugier
2012-07-26 12:55:39	johnhamelink	MaxGaudron:  im back
2012-07-26 12:58:58	MaxGaudron	news in france : a children (8ans) attacked two policeman with a hammer and a tear gas bomb xD
2012-07-26 12:59:47	MaxGaudron	funny part : the children won xD
2012-07-26 13:09:51	johnhamelink	lol!
2012-07-26 13:15:38	alanhollis	johnhamelink,  I broke events :(
2012-07-26 13:17:21	johnhamelink	doh!
2012-07-26 13:17:29	johnhamelink	brb alanhollis, let me help in 2 secs :)
2012-07-26 13:19:13	johnhamelink	back
2012-07-26 13:19:21	johnhamelink	ok how can i help :)
2012-07-26 13:19:24	alanhollis	so
2012-07-26 13:19:29	alanhollis	I've changed a few things...
2012-07-26 13:19:35	alanhollis	as you may have noticed on the backend..
2012-07-26 13:19:52	alanhollis	Now when any object is created
2012-07-26 13:20:04	alanhollis	socket.send is called wit that new object passed in as a parameter
2012-07-26 13:20:19	alanhollis	that then gets send as a post request to /event/
2012-07-26 13:20:26	alanhollis	which creates an event based on that object
2012-07-26 13:20:28	alanhollis	butttt
2012-07-26 13:20:32	alanhollis	that doesn't work
2012-07-26 13:20:34	MaxGaudron	what if we create an event ? it creates another one ?
2012-07-26 13:20:46	alanhollis	No the create method is overwritten for events in the controller
2012-07-26 13:21:03	alanhollis	I've now moved the emit to that method too
2012-07-26 13:21:18	alanhollis	so now the new event activity is only sent if the event has actually been stored in the database
2012-07-26 13:21:31	alanhollis	The "that doesn't work " bit
2012-07-26 13:21:42	alanhollis	is because the new objects that have been created as events
2012-07-26 13:21:49	alanhollis	don't have all the things that an event object needs
2012-07-26 13:21:52	alanhollis	i.e direction
2012-07-26 13:22:14	johnhamelink	but what about the index.js templates you add?
2012-07-26 13:22:26	alanhollis	?
2012-07-26 13:22:49	johnhamelink	there's a callback in index.js in research bundle
2012-07-26 13:22:54	johnhamelink	that defines direction, ethc
2012-07-26 13:22:58	johnhamelink	*etc
2012-07-26 13:23:25	alanhollis	in controller.js
2012-07-26 13:23:33	alanhollis	yeah I see you add that in the create
2012-07-26 13:23:45	alanhollis	we "could" do that for every create method
2012-07-26 13:23:49	johnhamelink	right (I never wrote that code btw)
2012-07-26 13:23:58	alanhollis	but it doesn't seem tidy
2012-07-26 13:24:11	alanhollis	I think maybe having it as part of index.js
2012-07-26 13:24:14	alanhollis	would be a good idea
2012-07-26 13:24:18	johnhamelink	can we not write a standard function and pass in the structure
2012-07-26 13:24:22	johnhamelink	yeah
2012-07-26 13:24:53	alanhollis	okay
2012-07-26 13:24:54	alanhollis	Soooo
2012-07-26 13:24:57	alanhollis	for each vendor
2012-07-26 13:25:03	alanhollis	what are the directons :)
2012-07-26 13:25:13	alanhollis	and other variables we need
2012-07-26 13:25:38	johnhamelink	haha ok if you write the function and push it, I'll go through each bundle and add the structure. Fair?
2012-07-26 13:26:36	alanhollis	instance.direction = req.module.direction;
2012-07-26 13:26:50	alanhollis	then it's just part of the object in index.js?
2012-07-26 13:27:32	alanhollis	just direction and type are those the only two?
2012-07-26 13:27:34	MaxGaudron	stupid idea : we can add a plugin in the model
2012-07-26 13:27:39	MaxGaudron	on the create method
2012-07-26 13:27:51	MaxGaudron	to add a specific event for each model, no ?
2012-07-26 13:28:11	alanhollis	I like that, and it stops the request going to itself
2012-07-26 13:28:34	alanhollis	i.e we don't need to fire an unnecessary request to localhost
2012-07-26 13:28:44	MaxGaudron	http://mongoosejs.com/docs/model-definition.html <-- "Beyond keys: middleware" title
2012-07-26 13:29:16	johnhamelink	yep good idea :)
2012-07-26 13:29:19	MaxGaudron	Yeah but alan, one day or another we'll need to, because for big installation it'll be necessary to split the API in two part mongo and socket.io
2012-07-26 13:29:55	alanhollis	I can't see why?
2012-07-26 13:30:07	alanhollis	It's such an infrequent request
2012-07-26 13:30:50	MaxGaudron	ok but socket.io have one connection per client on the portal
2012-07-26 13:31:13	MaxGaudron	on big installations it'll manage a lot of connections + the CRUD requests
2012-07-26 13:32:37	alanhollis	socket.io single core using websockets 1900+ connections
2012-07-26 13:33:08	alanhollis	I'd say if it gets to the stage where there's that many connections
2012-07-26 13:33:24	alanhollis	we'd be pointing them to seperate apis
2012-07-26 13:33:33	alanhollis	before we worry about socket.io part of the api
2012-07-26 13:34:23	MaxGaudron	ok ok
2012-07-26 13:34:37	alanhollis	ha sorry that's not me telling you
2012-07-26 13:34:42	alanhollis	that's open to discussin
2012-07-26 13:36:02	alanhollis	it's all kind of null and void if we use the plugin to create an event anyway
2012-07-26 13:36:27	alanhollis	socket.io would then only be used to send events to the eventlog
2012-07-26 13:38:04	ArnaudFrugier	johnhamelink: https://bitbucket.org/symble/symble-3-staff-web-frontend/src/5f6d4e13181a/bundles/callsheet/models/SymbleEvent.php I don't see any field for the "interaction" ?
2012-07-26 13:38:35	ArnaudFrugier	oh god
2012-07-26 13:38:47	ArnaudFrugier	I didn't see the foreach
2012-07-26 13:38:57	alanhollis	;)
2012-07-26 13:39:01	ArnaudFrugier	There can be many interactions per event ?
2012-07-26 13:39:04	alanhollis	yes
2012-07-26 13:39:12	alanhollis	This shouldn't be being handled on the phone
2012-07-26 13:39:19	alanhollis	this should be being handled in the api level
2012-07-26 13:39:28	alanhollis	but
2012-07-26 13:39:32	alanhollis	at the moment it's not
2012-07-26 13:39:39	ArnaudFrugier	But on the wireframe user can choose a interaction
2012-07-26 13:40:03	ArnaudFrugier	Should I switch that to a multiple select ? :/
2012-07-26 13:40:17	alanhollis	No, there's only one interaction per event
2012-07-26 13:40:24	alanhollis	there's multiple events per day
2012-07-26 13:41:11	ArnaudFrugier	ArnaudFrug…	There can be many interactions per event ?	
2012-07-26 13:41:11	ArnaudFrugier	alanhollis	yes
2012-07-26 13:41:15	ArnaudFrugier	I'm not sure to understand
2012-07-26 13:41:39	alanhollis	Sorry I got that wrong
2012-07-26 13:41:46	alanhollis	When you're creating an event
2012-07-26 13:41:51	alanhollis	there can only be one interaction
2012-07-26 13:42:10	ArnaudFrugier	ok ok
2012-07-26 13:42:23	alanhollis	On any given day, for any given client
2012-07-26 13:42:30	alanhollis	there can be multiple events
2012-07-26 13:42:41	ArnaudFrugier	if($interaction->id === (int) $array['interaction']) { // a php cast, so cute !
2012-07-26 13:45:14	alanhollis	yeah I don't like using ==
2012-07-26 13:45:34	alanhollis	You see that getInteractions method
2012-07-26 13:45:39	alanhollis	with the TODO
2012-07-26 13:45:44	alanhollis	that needs to be Todooood
2012-07-26 13:51:30	ArnaudFrugier	:D
2012-07-26 13:54:16	ArnaudFrugier	alanhollis: $event->set('idStaff',Session::get(Auth::user_key));
2012-07-26 13:54:26	ArnaudFrugier	I don't have implemented any auth system
2012-07-26 13:54:27	alanhollis	Fix
2012-07-26 13:54:31	alanhollis	oh dear
2012-07-26 13:54:40	ArnaudFrugier	they told me not to
2012-07-26 13:54:52	alanhollis	That's yet more work that needs to be done
2012-07-26 13:54:58	alanhollis	auth needs to be moved into the api
2012-07-26 13:55:46	ArnaudFrugier	in the meantime, what do I send for the idStaff field ?
2012-07-26 13:55:57	alanhollis	um
2012-07-26 13:56:09	alanhollis	the id of the person you login as
2012-07-26 13:56:18	alanhollis	guess you could just hardcode it to that
2012-07-26 13:56:26	ArnaudFrugier	yes, but you don't use it here
2012-07-26 13:56:33	alanhollis	?
2012-07-26 13:57:08	ArnaudFrugier	forget it, I said a stupid thing
2012-07-26 13:58:35	alanhollis	don't we all :(
2012-07-26 14:11:59	ArnaudFrugier	alanhollis if($interaction->id === (int) $array['interaction']), how do I know the interaction id ? could you send them to me ?
2012-07-26 14:12:19	ArnaudFrugier	for the moment it's hardcoded on my side
2012-07-26 14:12:39	alanhollis	hardcoded that side too
2012-07-26 14:12:46	alanhollis	they need to be pulled from the database
2012-07-26 14:12:49	alanhollis	hence the todo
2012-07-26 14:24:41	alanhollis	johnhamelink, think next sprint needs to sort out date parsing everywhere
2012-07-26 14:25:02	alanhollis	UTC the lot right until the point of display
2012-07-26 14:28:19	johnhamelink	yeah sounds like a good idea
2012-07-26 14:28:24	johnhamelink	force everything into 1 timezone
2012-07-26 14:38:38	alanhollis	yeah, it's already messing me up a lot
2012-07-26 14:38:40	alanhollis	with the event log
2012-07-26 14:38:48	alanhollis	and I'm only having to cope with gmt/bst
2012-07-26 14:39:57	johnhamelink	alanhollis: can you not force GMT on php-side, then it should all work ok actually
2012-07-26 14:40:04	johnhamelink	because mongo stores in UTCtime
2012-07-26 14:40:08	johnhamelink	which includes the timezone
2012-07-26 14:40:21	alanhollis	javascript too
2012-07-26 14:40:26	johnhamelink	so if you specify the timezone yourself, then it will be kept in sync
2012-07-26 14:40:40	alanhollis	needs to be UTC
2012-07-26 14:41:06	alanhollis	it's the only way you can consistently know what the hell is going on ;)
2012-07-26 14:41:56	johnhamelink	so how do you want to do this? add a plugin to mongoose to always output in UTC?
2012-07-26 14:42:11	alanhollis	Didn't we find there a switch in mongo
2012-07-26 14:42:18	alanhollis	which you put in the config file which makes it UTC
2012-07-26 14:42:55	johnhamelink	ahh yeah that's right
2012-07-26 14:43:09	johnhamelink	ok that's fine, but how do we check it's set in our code?
2012-07-26 14:43:20	johnhamelink	that's just the sort of thing it's v. easy to forget
2012-07-26 14:43:25	johnhamelink	*that's
2012-07-26 14:44:26	alanhollis	Can you query that information in mongo@?
2012-07-26 14:46:39	johnhamelink	no idea ;)
2012-07-26 14:47:07	alanhollis	I'm assuming you can
2012-07-26 14:49:42	alanhollis	bah
2012-07-26 14:49:55	alanhollis	Not sure even php gets timezone right
2012-07-26 14:50:17	alanhollis	I'm passing in the response from Mongo with the datetime I'm assuming set at BST?
2012-07-26 14:50:34	alanhollis	then calling to UTC on that method is giving me the UTC of the BST
2012-07-26 14:50:41	alanhollis	which is
2012-07-26 14:50:42	alanhollis	uhh
2012-07-26 14:50:43	alanhollis	wrong
2012-07-26 14:51:24	alanhollis	ah
2012-07-26 14:51:27	alanhollis	timezone is blank?
2012-07-26 14:51:28	alanhollis	Z?
2012-07-26 14:52:54	alanhollis	so confused right now
2012-07-26 14:53:55	alanhollis	I hate time zone stuff :(
2012-07-26 14:56:39	MaxGaudron	Piouuuu
2012-07-26 14:56:50	MaxGaudron	almost done with the tests on the search feature
2012-07-26 14:57:19	MaxGaudron	my brain melts
2012-07-26 14:57:48	johnhamelink	good stuff MaxGaudron 
2012-07-26 15:20:16	MaxGaudron	609 tests !
2012-07-26 15:20:17	MaxGaudron	Wouhouuu
2012-07-26 15:20:25	MaxGaudron	and i just tested "eq" and "neq"
2012-07-26 15:23:53	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #59: SUCCESS in 18 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/59/
2012-07-26 15:23:54	SymbleJenkins	* maxxg57: test suite: deleted the node_modules folder (conflict with the "mocha --recursive" option).
2012-07-26 15:23:54	SymbleJenkins	* maxxg57: symbleApi.js bug fix
2012-07-26 15:24:09	SymbleJenkins	Project Symble 3 - AUT - Backend build #22: SUCCESS in 10 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/22/
2012-07-26 15:24:10	SymbleJenkins	* maxxg57: test suite: deleted the node_modules folder (conflict with the "mocha --recursive" option).
2012-07-26 15:24:10	SymbleJenkins	* maxxg57: symbleApi.js bug fix
2012-07-26 15:25:52	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #60: SUCCESS in 17 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/60/
2012-07-26 15:25:52	SymbleJenkins	maxxg57: test suite: bug fix, variable name conflict between tests
2012-07-26 15:26:05	SymbleJenkins	Project Symble 3 - AUT - Backend build #23: SUCCESS in 7.8 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/23/
2012-07-26 15:26:05	SymbleJenkins	maxxg57: test suite: bug fix, variable name conflict between tests
2012-07-26 15:26:53	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #61: SUCCESS in 17 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/61/
2012-07-26 15:26:54	SymbleJenkins	* maxxg57: test suite: added data needed by the "search" tests .
2012-07-26 15:26:54	SymbleJenkins	* maxxg57: test suite: search feature test ( test filters "eq" and "neq" )
2012-07-26 15:27:07	SymbleJenkins	Project Symble 3 - AUT - Backend build #24: SUCCESS in 8.2 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/24/
2012-07-26 15:27:07	SymbleJenkins	* maxxg57: test suite: added data needed by the "search" tests .
2012-07-26 15:27:08	SymbleJenkins	* maxxg57: test suite: search feature test ( test filters "eq" and "neq" )
2012-07-26 15:27:47	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #62: SUCCESS in 19 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/62/
2012-07-26 15:28:32	MaxGaudron	spam ? noooooo
2012-07-26 15:29:34	SymbleJenkins	Project Symble 3 - AUT - Backend build #25: SUCCESS in 1 min 41 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/25/
2012-07-26 15:33:52	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #63: SUCCESS in 17 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/63/
2012-07-26 15:33:53	SymbleJenkins	* me: Add eventlog filter to backend
2012-07-26 15:33:53	SymbleJenkins	* me: Change model
2012-07-26 15:33:54	SymbleJenkins	* me: Change defaults updated if default filter is changed
2012-07-26 15:33:54	SymbleJenkins	* me: Fix default for owner only
2012-07-26 15:33:55	SymbleJenkins	* me: Add emit to after event is created
2012-07-26 15:33:56	SymbleJenkins	* me: Fix event log filter controller
2012-07-26 15:33:56	SymbleJenkins	* me: Move where instance event is fired
2012-07-26 15:33:57	SymbleJenkins	* me: Move event emit
2012-07-26 15:34:05	SymbleJenkins	Project Symble 3 - AUT - Backend build #26: SUCCESS in 7.8 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/26/
2012-07-26 15:34:06	SymbleJenkins	* me: Add eventlog filter to backend
2012-07-26 15:34:06	SymbleJenkins	* me: Change model
2012-07-26 15:34:07	SymbleJenkins	* me: Change defaults updated if default filter is changed
2012-07-26 15:34:07	SymbleJenkins	* me: Fix default for owner only
2012-07-26 15:34:08	SymbleJenkins	* me: Add emit to after event is created
2012-07-26 15:34:08	SymbleJenkins	* me: Fix event log filter controller
2012-07-26 15:34:09	SymbleJenkins	* me: Move where instance event is fired
2012-07-26 15:34:09	SymbleJenkins	* me: Move event emit
2012-07-26 15:34:49	johnhamelink	so much success MaxGaudron XD
2012-07-26 15:34:58	MaxGaudron	?
2012-07-26 15:35:04	johnhamelink	look up
2012-07-26 15:35:11	johnhamelink	success success success
2012-07-26 15:35:11	johnhamelink	XD
2012-07-26 15:35:48	MaxGaudron	for the first time i see the sun : http://cl.ly/image/322v2b3o2i3W
2012-07-26 15:37:25	johnhamelink	haha :D
2012-07-26 15:37:46	johnhamelink	notice how the balls are GREEN and not bloody BLUE
2012-07-26 15:39:37	MaxGaudron	Yep
2012-07-26 15:46:16	alanhollis	Callsheet
2012-07-26 15:46:19	alanhollis	is very very flow
2012-07-26 15:46:20	alanhollis	slow
2012-07-26 15:49:30	MaxGaudron	and every time i use the test suite it take + 0.3 ms
2012-07-26 15:49:34	MaxGaudron	takes
2012-07-26 15:50:52	MaxGaudron	http://cl.ly/image/2W212L2s0R05 <-- here :)
2012-07-26 15:57:52	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #64: FAILURE in 17 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/64/
2012-07-26 15:57:53	SymbleJenkins	me: Remove extra console.log
2012-07-26 15:58:10	MaxGaudron	lol
2012-07-26 15:58:38	MaxGaudron	do a lot of things -> success, remove console.log -> failure
2012-07-26 15:58:51	alanhollis	I hadn't noticed that
2012-07-26 15:58:52	alanhollis	wtf
2012-07-26 15:58:59	alanhollis	what did I do :(
2012-07-26 15:59:33	MaxGaudron	HAHAHAHA
2012-07-26 15:59:34	MaxGaudron	johnhamelink
2012-07-26 16:00:14	MaxGaudron	http://cl.ly/image/1P3T272C231l
2012-07-26 16:01:07	alanhollis	ohh
2012-07-26 16:01:11	alanhollis	memory leak!
2012-07-26 16:01:54	MaxGaudron	wow, jenkins use a lot of memory, 58%
2012-07-26 16:01:55	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #65: STILL FAILING in 19 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/65/
2012-07-26 16:01:55	SymbleJenkins	me: Fix remove more console.log debug
2012-07-26 16:02:45	johnhamelink	hello
2012-07-26 16:03:13	johnhamelink	MaxGaudron: yeah i had that the other day
2012-07-26 16:03:30	johnhamelink	I'm no java guy... what can we do to lower footprint?
2012-07-26 16:03:44	johnhamelink	or is there anything we can do to lower footprint?
2012-07-26 16:03:56	MaxGaudron	http://aws.amazon.com/ec2/pricing/ <-- :p
2012-07-26 16:04:15	alanhollis	To me it sounds like there's a leak
2012-07-26 16:04:28	alanhollis	Watch the memory usage
2012-07-26 16:04:32	alanhollis	does it go up after every test
2012-07-26 16:04:57	johnhamelink	interesting... perhaps there is something we can do about it alanhollis ?
2012-07-26 16:05:15	alanhollis	could find and fix it
2012-07-26 16:05:23	alanhollis	if there is one
2012-07-26 16:05:33	MaxGaudron	it's jenkins not node
2012-07-26 16:05:40	alanhollis	yeah
2012-07-26 16:06:03	alanhollis	run top for a bit with it running
2012-07-26 16:06:10	alanhollis	and see if it just keeps consuming memory
2012-07-26 16:07:20	alanhollis	awww man
2012-07-26 16:07:28	alanhollis	this sectors / regions stuff now on the callsheet
2012-07-26 16:07:34	alanhollis	is going to need yet more requests to the api!!!!!!!
2012-07-26 16:08:22	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #66: STILL FAILING in 20 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/66/
2012-07-26 16:08:41	MaxGaudron	nop no increase :/
2012-07-26 16:09:03	alanhollis	is it just crashing straight away?
2012-07-26 16:09:06	MaxGaudron	but when the API is running, mongoDB goes to 100% process
2012-07-26 16:09:10	MaxGaudron	yep, at the end of the tests
2012-07-26 16:09:19	MaxGaudron	100% CPU*
2012-07-26 16:09:41	alanhollis	sure there's not a memory leak in the tests?
2012-07-26 16:10:02	MaxGaudron	how ? everything is in node.js
2012-07-26 16:10:04	alanhollis	some object getting created loads of times
2012-07-26 16:10:07	MaxGaudron	the API, the test suites
2012-07-26 16:10:20	alanhollis	doesn't mean you can't have memory leaks
2012-07-26 16:10:26	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #67: STILL FAILING in 1 min 2 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/67/
2012-07-26 16:11:04	MaxGaudron	ah there is a zombie node process
2012-07-26 16:11:31	alanhollis	google this MaxGaudron , github.com node memory-leak-tutorial
2012-07-26 16:13:02	MaxGaudron	humm, i try
2012-07-26 16:17:15	alanhollis	don't know if that's the problem
2012-07-26 16:17:26	alanhollis	but if you're getting zombie processes
2012-07-26 16:17:29	alanhollis	is could be
2012-07-26 16:28:44	johnhamelink	any luck folks?
2012-07-26 16:41:20	MaxGaudron	hum
2012-07-26 16:41:30	MaxGaudron	the server is freezed
2012-07-26 16:41:52	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #68: STILL FAILING in 2 min 41 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/68/
2012-07-26 16:41:52	SymbleJenkins	* Max Gaudron: test suite:bug fix: the "find_limit"  test suite wasn't working if used alone.
2012-07-26 16:41:53	SymbleJenkins	* Max Gaudron: API : update node_modules
2012-07-26 16:41:53	SymbleJenkins	* Max Gaudron: test suite: clean the results arrays after each test suites.
2012-07-26 16:41:54	MaxGaudron	ah no
2012-07-26 16:42:15	SymbleJenkins	Project Symble 3 - AUT - Web frontend build #21: SUCCESS in 33 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Web%20frontend/21/
2012-07-26 16:43:32	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #69: STILL FAILING in 1 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/69/
2012-07-26 16:45:10	MaxGaudron	johnhamelink ?
2012-07-26 16:46:05	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #70: STILL FAILING in 34 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/70/
2012-07-26 16:46:05	<--	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has quit (Remote host closed the connection)
2012-07-26 16:47:02	-->	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has joined #symble
2012-07-26 16:47:49	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #71: STILL FAILING in 43 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/71/
2012-07-26 16:50:19	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #72: STILL FAILING in 52 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/72/
2012-07-26 16:50:31	johnhamelink	hello
2012-07-26 16:50:37	MaxGaudron	Raaaaahh it's annoying
2012-07-26 16:50:43	johnhamelink	:(
2012-07-26 16:50:48	johnhamelink	what so you want to do?
2012-07-26 16:51:16	MaxGaudron	i added a after() method to each test to clean the data
2012-07-26 16:51:35	MaxGaudron	i restarted jenkins to use less memory ( from 58% to 22% after restart
2012-07-26 16:51:52	johnhamelink	ok
2012-07-26 16:52:00	MaxGaudron	the test suite is running
2012-07-26 16:52:07	MaxGaudron	but there is still something wrong
2012-07-26 16:52:25	MaxGaudron	i think i'll move to ANT for the test suite … it will be better
2012-07-26 16:59:47	alanhollis	hmm
2012-07-26 16:59:52	alanhollis	I am confused again!!!
2012-07-26 16:59:56	alanhollis	:(
2012-07-26 16:59:57	alanhollis	Poor brain
2012-07-26 17:00:38	alanhollis	interestRegions = _id in countries collection
2012-07-26 17:00:41	alanhollis	for a client
2012-07-26 17:00:48	alanhollis	butttttt
2012-07-26 17:01:16	alanhollis	findAllRegions gets idCountry?
2012-07-26 17:02:00	alanhollis	So clients region = country?
2012-07-26 17:02:27	alanhollis	but findAllRegions = idCountry?
2012-07-26 17:02:32	alanhollis	MY POOR BRAIN :)
2012-07-26 17:06:08	alanhollis	johnhamelink,  as for the other two boxes, the comments / last 5 interactions?
2012-07-26 17:06:19	alanhollis	They're on the wireframe but are they on this release?
2012-07-26 17:06:50	MaxGaudron	findAllRegions == findBy['idCountry' == null]
2012-07-26 17:06:56	MaxGaudron	region = a document without a parent
2012-07-26 17:07:11	MaxGaudron	and country = a document with a parent ( a country depends of a region )
2012-07-26 17:08:38	alanhollis	okay
2012-07-26 17:08:42	alanhollis	So it's alittle confusing
2012-07-26 17:09:04	alanhollis	because
2012-07-26 17:09:07	alanhollis	the client model in the backend
2012-07-26 17:09:12	alanhollis	is interestRegions
2012-07-26 17:09:17	alanhollis	but in the client bundle on the front end
2012-07-26 17:09:19	alanhollis	the select box
2012-07-26 17:09:23	alanhollis	is findAllCountries
2012-07-26 17:09:31	alanhollis	should that be findAllREgions?
2012-07-26 17:15:15	MaxGaudron	good question
2012-07-26 17:15:17	MaxGaudron	johnhamelink ? :D
2012-07-26 17:21:47	johnhamelink	im here :)
2012-07-26 17:21:58	johnhamelink	need to get beep working on my machine lol
2012-07-26 17:22:06	MaxGaudron	?
2012-07-26 17:22:16	johnhamelink	normally when you say my name I get a noise
2012-07-26 17:22:29	johnhamelink	no noise = john concentrating and not noticing IRC ^_^
2012-07-26 17:22:57	johnhamelink	alanhollis: just reading what you're saying :D
2012-07-26 17:23:23	johnhamelink	alanhollis: are you talking callsheet?
2012-07-26 17:28:15	MaxGaudron	http://www.twitter.com/
2012-07-26 17:28:16	MaxGaudron	that's bad
2012-07-26 17:28:37	johnhamelink	ooooh shit!
2012-07-26 17:28:52	MaxGaudron	too big to fail ? :p
2012-07-26 17:29:02	alanhollis	uhh yes
2012-07-26 17:29:19	johnhamelink	it's been down for 45 mins apparently
2012-07-26 17:29:24	alanhollis	johnhamelink,
2012-07-26 17:29:27	johnhamelink	according to their twitter status page
2012-07-26 17:29:28	johnhamelink	alanhollis: :)
2012-07-26 17:29:29	alanhollis	in the client create screen
2012-07-26 17:29:44	alanhollis	the regions drop down
2012-07-26 17:29:47	alanhollis	is populated with countries
2012-07-26 17:29:53	alanhollis	is that correct?
2012-07-26 17:30:41	johnhamelink	yeah :)
2012-07-26 17:31:25	alanhollis	That's correct?
2012-07-26 17:31:56	johnhamelink	yep :)
2012-07-26 17:32:03	alanhollis	okay
2012-07-26 17:32:07	alanhollis	so the label should be Countries
2012-07-26 17:32:12	alanhollis	and the backend should be Countries
2012-07-26 17:32:37	johnhamelink	Well there are two things going on here
2012-07-26 17:32:41	johnhamelink	there are regions
2012-07-26 17:32:46	johnhamelink	and there are countries
2012-07-26 17:32:51	johnhamelink	a region contains countries
2012-07-26 17:33:04	johnhamelink	so it's OK to just put everything in there (at least for now)
2012-07-26 17:33:10	johnhamelink	it still makes sense
2012-07-26 17:33:12	alanhollis	everything?
2012-07-26 17:33:24	alanhollis	so just findAllCountries
2012-07-26 17:33:26	johnhamelink	everything being \Entity\Countries::findAll()
2012-07-26 17:33:27	johnhamelink	yeah
2012-07-26 17:33:28	alanhollis	okay
2012-07-26 17:33:32	alanhollis	soooooooooooo
2012-07-26 17:33:41	alanhollis	Regions and countries all in the same chosen multiple select
2012-07-26 17:33:47	johnhamelink	basically
2012-07-26 17:33:49	alanhollis	with the label as regions
2012-07-26 17:34:01	johnhamelink	if that discomforts you then make it just regions ;)
2012-07-26 17:34:05	alanhollis	Hah
2012-07-26 17:34:15	alanhollis	I just want a yes / no answer :)
2012-07-26 17:34:22	alanhollis	Tell me what to dooooooo ;)
2012-07-26 17:34:41	MaxGaudron	johnhamelink a region doesn't contains countries, a country is another document who have a foreign key to the region :)
2012-07-26 17:34:49	johnhamelink	alanhollis: yes / no
2012-07-26 17:34:51	johnhamelink	:P
2012-07-26 17:34:54	alanhollis	grrr ;)
2012-07-26 17:35:01	johnhamelink	make it just regions 
2012-07-26 17:35:20	alanhollis	coolio
2012-07-26 17:35:20	alanhollis	ty
2012-07-26 17:35:36	johnhamelink	MaxGaudron: woops! yeah that's what I meant :D
2012-07-26 17:35:47	johnhamelink	if it has a parent then it's a country
2012-07-26 17:36:08	johnhamelink	parent being foreignID
2012-07-26 17:39:13	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #73: STILL FAILING in 3.9 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/73/
2012-07-26 17:39:13	SymbleJenkins	Max Gaudron: added possibility to choose the database with a parameter.
2012-07-26 17:39:41	MaxGaudron	the goal is to use ant
2012-07-26 17:39:49	MaxGaudron	who start the API with a different port and database
2012-07-26 17:39:53	MaxGaudron	launch the tests
2012-07-26 17:40:01	MaxGaudron	and drop the other DP and clean the repo :)
2012-07-26 17:40:20	MaxGaudron	so you can launch the tests suite without any effect on your current working copy/DB :)
2012-07-26 17:41:02	johnhamelink	MaxGaudron: good stuff, if you get it working i'll buy you an irn bru next time im down XD
2012-07-26 17:41:24	MaxGaudron	it's just ANT config :p
2012-07-26 17:41:41	johnhamelink	^_^
2012-07-26 17:47:27	alanhollis	okay peeps. I've pushed branch fix/SprintlyDefects
2012-07-26 17:47:38	alanhollis	there's a whole heap of commits to fix things that have broken
2012-07-26 17:47:48	alanhollis	Still a lot more things to fix mind you :(
2012-07-26 17:48:01	alanhollis	This is my last day cyber-ducking this week
2012-07-26 17:48:10	alanhollis	but I'll be around tomorrow for questions
2012-07-26 17:50:54	alanhollis	johnhamelink, that branch is merged relatively recently with develop and includes all the validation stuff
2012-07-26 17:51:04	alanhollis	so it would be a good/easy one to merge in
2012-07-26 17:51:13	johnhamelink	alanhollis: alrighty, I'll be on that tomorrow and I'll let you know how it goes :)
2012-07-26 17:56:47	--	ArnaudFrugier is now known as ArnaudFrugierBNC
2012-07-26 18:00:53	MaxGaudron	i'll continue tomorrow
2012-07-26 18:00:59	MaxGaudron	almost done :p
2012-07-26 18:01:07	MaxGaudron	the bus is calling me :p
2012-07-26 18:05:14	SymbleJenkins	Project Symble 3 - Backend - Node.Js API build #74: STILL FAILING in 3.9 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20Backend%20-%20Node.Js%20API/74/
2012-07-26 18:05:14	SymbleJenkins	Alan Hollis: Fix eventlog filter controller, missing update default method
2012-07-26 18:05:38	--	MaxGaudron is now known as MaxGaudronBNC
2012-07-26 18:27:39	--	BenjaminMaugain is now known as benjMaugain_AFK
2012-07-26 21:10:52		irc: disconnected from server
2012-07-27 11:37:19	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-27 11:37:19	--	Nicks #symble: [alanhollis ArnaudFrugier BenjaminMaugain johnhame_ johnhamelink MaxGaudron sylvainreiter SymbleJenkins]
2012-07-27 11:37:19	--	Channel #symble: 8 nicks (0 ops, 0 halfops, 0 voices, 8 normals)
2012-07-27 11:37:23	--	Mode #symble [+cnt]
2012-07-27 11:37:23	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-27 11:37:31	johnhamelink	Yay, managed to fix it :)
2012-07-27 11:37:40	johnhamelink	... but for how long :/
2012-07-27 11:37:54	<--	johnhame_ (~johnhamel@245.91.112.87.dyn.plus.net) has quit (Quit: Textual IRC Client: http://www.textualapp.com/)
2012-07-27 11:45:06		irc: disconnected from server
2012-07-27 13:21:41	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-07-27 13:21:41	--	Nicks #symble: [alanhollis ArnaudFrugierBNC BenjaminMaugain johnhamelink MaxGaudron sylvainreiter SymbleJenkins]
2012-07-27 13:21:41	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-07-27 13:21:45	--	Mode #symble [+cnt]
2012-07-27 13:21:45	--	Channel created on Fri, 25 May 2012 16:17:53
2012-07-27 13:25:13	johnhamelink	how's it going MaxGaudron ?
2012-07-27 13:30:08	--	ArnaudFrugierBNC is now known as ArnaudFrugier
2012-07-27 13:49:37	MaxGaudron	johnhamelink bad :D
2012-07-27 13:49:48	MaxGaudron	so, i have 2 builds
2012-07-27 13:49:54	MaxGaudron	build -> for us
2012-07-27 13:49:59	MaxGaudron	jenkins -> for jenkins :p
2012-07-27 13:50:06	MaxGaudron	it's working on my machine
2012-07-27 13:50:09	MaxGaudron	the two of them
2012-07-27 13:50:32	MaxGaudron	when i ssh to jenkins.cyberduck.net and i launch the two builds
2012-07-27 13:50:38	MaxGaudron	from the shell, it's working
2012-07-27 13:50:38	MaxGaudron	but
2012-07-27 13:50:44	MaxGaudron	from jenkins its failing
2012-07-27 13:57:14	johnhamelink	aaah shiy
2012-07-27 13:57:17	johnhamelink	*shit
2012-07-27 13:57:27	johnhamelink	that's always enjoyable
2012-07-27 13:57:48	johnhamelink	I'm getting the preferences bundle up to scratch right now, then I want to merge everything together and have it on the UAT machine
2012-07-27 13:58:13	MaxGaudron	yeah ?
2012-07-27 13:58:43	johnhamelink	yeah, end of sprint to sylv etc want to see the new version
2012-07-27 14:01:39	MaxGaudron	13:01:31 up 10 days, 20:46,  2 users,  load average: 7.53, 3.34, 1.53
2012-07-27 14:01:40	MaxGaudron	-_-
2012-07-27 14:01:42	MaxGaudron	7.53
2012-07-27 14:02:13	johnhamelink	ouch
2012-07-27 14:02:18	MaxGaudron	9.70 now :D
2012-07-27 14:02:26	johnhamelink	lolol
2012-07-27 14:02:31	MaxGaudron	and i was running the test suite
2012-07-27 14:02:34	MaxGaudron	that's all
2012-07-27 14:03:45	johnhamelink	:/
2012-07-27 14:04:02	johnhamelink	that's what it's like when you run the suiteby hand without jenkins?
2012-07-27 14:04:09	MaxGaudron	yes
2012-07-27 14:04:12	MaxGaudron	without jenkins
2012-07-27 14:04:19	johnhamelink	and is jenkins daemon off?
2012-07-27 14:04:33	MaxGaudron	no, but jenkins do nothing
2012-07-27 14:05:05	johnhamelink	:/
2012-07-27 14:05:22	johnhamelink	old dependency?
2012-07-27 14:08:00	<--	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has quit
2012-07-27 14:10:13	MaxGaudron	so, everything is up to date now, time to test agan :p
2012-07-27 14:10:15	MaxGaudron	again
2012-07-27 14:11:26	johnhamelink	good luck :)
2012-07-27 14:15:38	johnhamelink	urgh MaxGaudron I'm having a nightmare with these embedded docs :(
2012-07-27 14:15:54	johnhamelink	I'm using client model as a reference, I'm doing the same thing and it's not working.
2012-07-27 14:16:07	alanhollis	you tried using ->save()
2012-07-27 14:16:11	alanhollis	from the new branch
2012-07-27 14:16:14	alanhollis	makes it all so much easier
2012-07-27 14:16:29	johnhamelink	alanhollis: which branch is that?
2012-07-27 14:16:43	alanhollis	validation
2012-07-27 14:16:44	alanhollis	or
2012-07-27 14:16:49	alanhollis	fix/symble thingy
2012-07-27 14:16:56	johnhamelink	k let me merge
2012-07-27 14:16:57	alanhollis	both have the ->save method in
2012-07-27 14:17:06	alanhollis	you'll need to merge the odm and api
2012-07-27 14:17:14	alanhollis	but then take a look at the staff bundle
2012-07-27 14:17:20	alanhollis	you'll be like, ohhhh that's pretty
2012-07-27 14:21:45	MaxGaudron	johnhamelink, when you have 5 minutes
2012-07-27 14:22:01	MaxGaudron	can you update to the latest commit on the unstable branch ( backend )
2012-07-27 14:22:18	MaxGaudron	and launch "ant" in a shell.
2012-07-27 14:22:27	MaxGaudron	terminal*
2012-07-27 14:23:46	MaxGaudron	RAAAHHH it's annoying
2012-07-27 14:24:46	johnhamelink	yeah, once i've got this embedded stuff done then i want to merge anyway so that's a good time :)
2012-07-27 14:24:49	MaxGaudron	on AWS, the tests pass but only 1 time on 3 builds
2012-07-27 14:24:54	johnhamelink	:/
2012-07-27 14:25:11	johnhamelink	once it's rock solid MaxGaudron it'll be so easy to test :)
2012-07-27 14:27:32	alanhollis	I'll have a quick go now if you want
2012-07-27 14:28:15	alanhollis	error unknown option --recursive
2012-07-27 14:28:25	MaxGaudron	npm update -g
2012-07-27 14:28:35	MaxGaudron	you have an old version of mocha :p
2012-07-27 14:28:39	alanhollis	uh oh
2012-07-27 14:28:40	MaxGaudron	i suppose*
2012-07-27 14:28:47	alanhollis	that's going to download a lot of stuff ;)
2012-07-27 14:30:00	alanhollis	hah I like this message
2012-07-27 14:30:11	alanhollis	Attempting to compile blazing fast native extensions.
2012-07-27 14:30:29	alanhollis	not just fast, blazing fast
2012-07-27 14:30:41	MaxGaudron	haha
2012-07-27 14:31:22	johnhamelink	argh, I'm doing things basically the same way you are alanhollis but it's still not saving the embedded doc correctly https://gist.github.com/3188072
2012-07-27 14:31:51	johnhamelink	only difference is I can't blank-save everything, I need to pick and choose what to save, but it's all set correctly if I print_r($me);
2012-07-27 14:31:58	MaxGaudron	what's this "switch" ?
2012-07-27 14:32:03	alanhollis	why can't you save everything?
2012-07-27 14:32:08	MaxGaudron	do you use the same controller in the two portals ?
2012-07-27 14:32:40	johnhamelink	alanhollis: because I don't know what other preferences are there
2012-07-27 14:32:51	johnhamelink	I can't do what you're doing and just delete everything and start again
2012-07-27 14:32:57	johnhamelink	I need to add to an embedded doc
2012-07-27 14:33:06	johnhamelink	or update an existing one
2012-07-27 14:33:21	johnhamelink	and this was working before, but I guess the syntax has changed?
2012-07-27 14:33:37	alanhollis	don't think so
2012-07-27 14:33:52	alanhollis	you should be getting better errors come back if things have gone wrong now
2012-07-27 14:34:08	alanhollis	$model->getErrors() I think
2012-07-27 14:34:09	johnhamelink	well this used to be only for client-portal, so maybe it was written for old version and never checked after
2012-07-27 14:34:12	johnhamelink	kk will check alanhollis 
2012-07-27 14:35:03	johnhamelink	no output from that method, so it's not failing
2012-07-27 14:36:19	-->	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has joined #symble
2012-07-27 14:37:56	johnhamelink	MaxGaudron: here's my output https://gist.github.com/a7516f60737aa2e1ec98
2012-07-27 14:38:29	johnhamelink	This is what happens before/after I run $me->update($me);
2012-07-27 14:38:56	alanhollis	why would you pass $me into update?
2012-07-27 14:39:19	johnhamelink	I'm just copying stuff from other models
2012-07-27 14:39:28	johnhamelink	it doesn't seem to make a difference either way
2012-07-27 14:44:39	johnhamelink	MaxGaudron: any ideas?
2012-07-27 14:47:43	MaxGaudron	in the constructor on the client/staff
2012-07-27 14:47:52	MaxGaudron	add the collection here ( an empty one )
2012-07-27 14:48:51	johnhamelink	but i don't want to create a new collection, i want to add to one?
2012-07-27 14:49:09	MaxGaudron	line 19 : $prefs->save();
2012-07-27 14:49:29	johnhamelink	uhuh?
2012-07-27 14:49:59	alanhollis	yeah the save method isn't going to do waht you want
2012-07-27 14:50:14	MaxGaudron	why ? did you changed it ?
2012-07-27 14:50:22	alanhollis	uhh
2012-07-27 14:50:31	alanhollis	Sorry thought that was model->save()
2012-07-27 14:50:37	alanhollis	prefs is a different thing
2012-07-27 14:50:39	alanhollis	my bad
2012-07-27 14:50:43	MaxGaudron	ok :p
2012-07-27 14:52:52	johnhamelink	OK so it doesn't seem to be able to update existing docs or add new ones :(
2012-07-27 14:53:16	johnhamelink	I added $pref->save() just before updateEmbeddedCollection()
2012-07-27 14:53:25	MaxGaudron	delete the updateEmbeddedCollection
2012-07-27 14:53:29	johnhamelink	*updateEmbeddedDcoument sorry
2012-07-27 14:53:33	MaxGaudron	save() do that
2012-07-27 14:53:47	johnhamelink	ok
2012-07-27 14:53:59	MaxGaudron	it loop on every element, check if it's a new one or if it's a updated one
2012-07-27 14:54:03	MaxGaudron	and call the correct method
2012-07-27 14:55:16	johnhamelink	Still no luck MaxGaudron https://gist.github.com/3188165
2012-07-27 14:55:44	MaxGaudron	$prefs->save();
2012-07-27 14:55:47	MaxGaudron	on the collection
2012-07-27 14:55:56	MaxGaudron	not $pref->save();
2012-07-27 14:56:06	johnhamelink	aha
2012-07-27 14:56:35	johnhamelink	still no difference :/
2012-07-27 14:56:55	johnhamelink	and no errors either
2012-07-27 14:57:04	MaxGaudron	check the API log
2012-07-27 14:57:12	MaxGaudron	to see if the portal is sending the correct requests
2012-07-27 15:01:25	johnhamelink	Doesn't look to me like it's calling a request on the embedded docs at all
2012-07-27 15:01:44	johnhamelink	https://gist.github.com/1cfff04d037d229155b0
2012-07-27 15:02:16	johnhamelink	aah no, profile is empty when it's saved!
2012-07-27 15:02:23	MaxGaudron	yep, not at all
2012-07-27 15:04:06	johnhamelink	so what am I doing wrong :(
2012-07-27 15:12:11	johnhamelink	MaxGaudron: ?
2012-07-27 15:12:20	MaxGaudron	Sorry
2012-07-27 15:12:21	MaxGaudron	euh
2012-07-27 15:12:23	SymbleJenkins	Project Symble3_Backend_API build #83: STILL FAILING in 6.2 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/83/
2012-07-27 15:12:34	MaxGaudron	can you push your modifications ?
2012-07-27 15:12:55	johnhamelink	it's ok MaxGaudron, don't mean to put pressure on you :)
2012-07-27 15:13:01	johnhamelink	of course i can :) 2 secs
2012-07-27 15:13:08	SymbleJenkins	Project Symble3_Backend_API build #84: STILL FAILING in 15 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/84/
2012-07-27 15:14:39	SymbleJenkins	Project Symble3_Backend_API build #85: STILL FAILING in 16 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/85/
2012-07-27 15:16:57	SymbleJenkins	Project Symble3_Backend_API build #86: STILL FAILING in 13 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/86/
2012-07-27 15:17:06	johnhamelink	MaxGaudron: feature/research on frontend
2012-07-27 15:17:26	johnhamelink	feature/research on backend too
2012-07-27 15:18:29	johnhamelink	the model I'm editing is preferences inside preferences bundle
2012-07-27 15:18:45	SymbleJenkins	Project Symble3_Backend_API build #87: STILL FAILING in 13 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/87/
2012-07-27 15:19:03	johnhamelink	you can see it working (or where it's supposed to work) at /research
2012-07-27 15:19:24	johnhamelink	the search prefs there are supposed to be saved and fetched every time someone goes there
2012-07-27 15:21:16	MaxGaudron	hummm
2012-07-27 15:21:18	MaxGaudron	http://cl.ly/image/1n0F3J342H1k
2012-07-27 15:21:44	johnhamelink	o.0
2012-07-27 15:22:14	johnhamelink	git pull
2012-07-27 15:22:47	MaxGaudron	ok
2012-07-27 15:22:51	MaxGaudron	now, what do i have to do ?
2012-07-27 15:23:23	johnhamelink	go to /research, look at your staff user
2012-07-27 15:23:30	johnhamelink	try a search
2012-07-27 15:23:39	johnhamelink	it should work, but not actually save your settnigs
2012-07-27 15:24:03	SymbleJenkins	Project Symble3_Backend_API build #88: STILL FAILING in 13 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/88/
2012-07-27 15:25:28	MaxGaudron	i have nothing
2012-07-27 15:25:36	MaxGaudron	it does nothing ::
2012-07-27 15:26:47	johnhamelink	what do you mean nothing?
2012-07-27 15:27:01	MaxGaudron	I change the filters
2012-07-27 15:27:07	MaxGaudron	and i don't have any preferences
2012-07-27 15:27:15	MaxGaudron	and nothing move in the list
2012-07-27 15:27:21	MaxGaudron	it's alway the same result
2012-07-27 15:27:26	johnhamelink	yep
2012-07-27 15:27:31	johnhamelink	and the preferences don't stick?
2012-07-27 15:27:55	MaxGaudron	no
2012-07-27 15:28:10	MaxGaudron	the inputs don't stick
2012-07-27 15:28:24	MaxGaudron	ah
2012-07-27 15:28:32	MaxGaudron	wait, when i add a date filter i have that :
2012-07-27 15:28:51	MaxGaudron	http://cl.ly/image/0k46203r293E
2012-07-27 15:29:59	MaxGaudron	fixed
2012-07-27 15:32:03	johnhamelink	what've you fixed?
2012-07-27 15:32:10	johnhamelink	the foreach bug?
2012-07-27 15:33:32	MaxGaudron	yes
2012-07-27 15:34:27	johnhamelink	ok so can you replicate my problem now?
2012-07-27 15:35:08	MaxGaudron	yes
2012-07-27 15:37:55	johnhamelink	Anything jumping out at you?
2012-07-27 15:39:45	MaxGaudron	yes
2012-07-27 15:39:57	MaxGaudron	first you don't have a preferences embedded collection in the staff model
2012-07-27 15:40:06	MaxGaudron	( i'm working from the staff portal )
2012-07-27 15:40:28	johnhamelink	umm yes i do
2012-07-27 15:40:39	johnhamelink	are you on feature/research branch
2012-07-27 15:40:48	MaxGaudron	yes
2012-07-27 15:40:50	johnhamelink	on backend?
2012-07-27 15:40:54	MaxGaudron	yes :)
2012-07-27 15:41:02	MaxGaudron	or you didn't commited your model :p
2012-07-27 15:41:14	johnhamelink	perhaps, but im sure i did
2012-07-27 15:41:39	MaxGaudron	ok
2012-07-27 15:41:52	MaxGaudron	my code :
2012-07-27 15:42:12	MaxGaudron	with this i have : http://cl.ly/image/3p361J262Y02
2012-07-27 15:42:35	MaxGaudron	hum
2012-07-27 15:42:40	MaxGaudron	cloudapp is down again -_-
2012-07-27 15:42:47	johnhamelink	http://imgur.com/1czUk
2012-07-27 15:42:48	MaxGaudron	so i have :
2012-07-27 15:42:49	MaxGaudron	2012-07-27 14:39:33 NOTICE - Symble API: POST request http://localhost:3000/staff/5012a4bdd8101d31d600045f/?format=.json
2012-07-27 15:42:49	MaxGaudron	 Parameters: key=browseResearchDateFrom&value=27-09-2011
2012-07-27 15:43:15	johnhamelink	I don't get that..
2012-07-27 15:43:29	MaxGaudron	with my code :p
2012-07-27 15:45:21	MaxGaudron	ok
2012-07-27 15:45:24	MaxGaudron	now, next step
2012-07-27 15:45:27	MaxGaudron	the URL is not correct
2012-07-27 15:45:31	MaxGaudron	it should be :
2012-07-27 15:45:44	MaxGaudron	staff/idStaff/nameOfTheEmbeddedCollection
2012-07-27 15:46:53	MaxGaudron	ah no
2012-07-27 15:49:21	johnhamelink	?
2012-07-27 15:50:41	MaxGaudron	working
2012-07-27 15:50:42	MaxGaudron	:)
2012-07-27 15:50:49	johnhamelink	>_< what did i do wrong?
2012-07-27 15:50:53	MaxGaudron	i commit that :p
2012-07-27 15:54:13	MaxGaudron	pushed johnhamelink
2012-07-27 15:54:56	johnhamelink	yeah im trying to figure out how i should have known that before hand >_>
2012-07-27 15:55:46	MaxGaudron	sorry ?
2012-07-27 15:56:36	johnhamelink	well I think I don't understand what that code does, and I don't understand why it's necessary
2012-07-27 15:57:01	MaxGaudron	which part ? :/
2012-07-27 15:57:27	johnhamelink	well all of your change lol
2012-07-27 15:57:57	MaxGaudron	the line in the constructor
2012-07-27 15:58:33	MaxGaudron	it's to ensure we have a collection everytime, even if it's a new object, so you don't need to check ( the foreach error example )
2012-07-27 15:59:05	MaxGaudron	in my 2nd commit, i just added a pref object to the collection
2012-07-27 15:59:20	MaxGaudron	and i didn't touched your code, if it needs update, it's updated that's all
2012-07-27 15:59:26	johnhamelink	hmm ok
2012-07-27 15:59:35	MaxGaudron	the only modification is : i put $collection->save() at the end of the loop
2012-07-27 15:59:46	MaxGaudron	and $collection->save() ($prefs sorry)
2012-07-27 16:00:15	MaxGaudron	loop on every element, and call removeEmbeddedDocument / addEmbeddedDocument or UpdateEmbeddedDocument
2012-07-27 16:00:20	MaxGaudron	and do the work :)
2012-07-27 16:01:05	johnhamelink	I think I get it... I think :p
2012-07-27 16:01:15	MaxGaudron	now can you just launch "ant" please :p
2012-07-27 16:01:22	johnhamelink	Oh yeah sure:D
2012-07-27 16:01:39	johnhamelink	I merged from unstable so I should be able to run from this branch, yes?
2012-07-27 16:01:41	alanhollis	oh yeah
2012-07-27 16:01:49	alanhollis	I get Unexpected token U
2012-07-27 16:02:10	johnhamelink	U for undefined
2012-07-27 16:02:31	MaxGaudron	unexpected token ? :/
2012-07-27 16:02:45	MaxGaudron	it's because the API isn't started correctly i suppose
2012-07-27 16:03:04	MaxGaudron	if you launch "node app.js 3001 SymbleTest"
2012-07-27 16:03:09	MaxGaudron	and after "ant mocha"
2012-07-27 16:03:13	MaxGaudron	what do you have ?
2012-07-27 16:03:38	johnhamelink	MaxGaudron: on the unstable branch? There's no build.xml for me
2012-07-27 16:03:50	alanhollis	yeah
2012-07-27 16:03:54	alanhollis	build.xml does not exist
2012-07-27 16:03:59	MaxGaudron	:/
2012-07-27 16:04:01	johnhamelink	so i can't run ant?
2012-07-27 16:04:06	MaxGaudron	yeah
2012-07-27 16:04:10	johnhamelink	just checking :P
2012-07-27 16:04:20	johnhamelink	thought there might be some java voodoo going on
2012-07-27 16:05:02	MaxGaudron	but
2012-07-27 16:05:05	MaxGaudron	it's in the repo :/
2012-07-27 16:05:39	alanhollis	MaxGaudron,
2012-07-27 16:05:47	alanhollis	just look through delete.js
2012-07-27 16:05:58	alanhollis	ahh nm
2012-07-27 16:06:04	MaxGaudron	?
2012-07-27 16:06:13	alanhollis	Few weird things
2012-07-27 16:06:27	alanhollis	but nothing major
2012-07-27 16:06:36	alanhollis	thought I might have uncovered sometihng
2012-07-27 16:07:28	MaxGaudron	yes ?
2012-07-27 16:07:28	alanhollis	3 nestesd api calls in an async loop
2012-07-27 16:07:34	alanhollis	is just about distroying my mind ;)
2012-07-27 16:07:39	MaxGaudron	hahaha
2012-07-27 16:07:45	MaxGaudron	but i added comments :/
2012-07-27 16:07:56	alanhollis	in delete.js?
2012-07-27 16:08:13	MaxGaudron	:/
2012-07-27 16:08:20	MaxGaudron	there is no comments at all in the tests :/
2012-07-27 16:08:24	MaxGaudron	Raaaaahh
2012-07-27 16:08:32	MaxGaudron	where are they :/
2012-07-27 16:11:56	MaxGaudron	:'(
2012-07-27 16:12:04	ArnaudFrugier	http://cl.ly/image/1p0l080Q2A0m
2012-07-27 16:12:37	ArnaudFrugier	cc alanhollis johnhamelink
2012-07-27 16:12:38	MaxGaudron	:'(
2012-07-27 16:13:05	alanhollis	What does that mean?
2012-07-27 16:13:15	alanhollis	stripped loads of commits
2012-07-27 16:13:16	alanhollis	?
2012-07-27 16:13:24	alanhollis	doesn't seem good
2012-07-27 16:13:47	MaxGaudron	Yep :)
2012-07-27 16:14:13	johnhamelink	uuuh
2012-07-27 16:14:29	alanhollis	Who used --force
2012-07-27 16:15:31	johnhamelink	yep well looks like it was me doesn't it
2012-07-27 16:15:37	MaxGaudron	alanhollis for my defend, i did write some comments in the tests :p ! they are somewhere in git :p
2012-07-27 16:15:41	johnhamelink	exce[t o
2012-07-27 16:15:47	johnhamelink	*except i'm pretty sure i didn't
2012-07-27 16:16:04	alanhollis	haha MaxGaudron no worries, codes not really that hard to follow anyway
2012-07-27 16:16:14	MaxGaudron	Yep async help a lot for the readability
2012-07-27 16:16:22	alanhollis	just trying to get your head around the loops and async is quite tricky
2012-07-27 16:20:43	MaxGaudron	YEAH
2012-07-27 16:20:50	MaxGaudron	i found my commits
2012-07-27 16:20:51	MaxGaudron	ouf
2012-07-27 16:23:45	johnhamelink	MaxGaudron: can i test your ant config now?
2012-07-27 16:24:03	MaxGaudron	let me just apply my commit on top of unstable and merge the whole thing :p
2012-07-27 16:24:13	alanhollis	any idea what that stripped stuff is all about?
2012-07-27 16:24:19	johnhamelink	ok thanks MaxGaudron 
2012-07-27 16:24:22	alanhollis	A quick google seems to suggest we've lost all those commits?
2012-07-27 16:24:52	MaxGaudron	yes alanhollis
2012-07-27 16:24:58	MaxGaudron	but in git it's always somewhere ;)
2012-07-27 16:25:42	MaxGaudron	i suppose johnhamelink rewrote the repository history somehow
2012-07-27 16:26:29	MaxGaudron	ok
2012-07-27 16:26:34	MaxGaudron	you can pull alanhollis johnhamelink
2012-07-27 16:26:39	MaxGaudron	my commits are back :p
2012-07-27 16:27:01	alanhollis	build.xml does not exist
2012-07-27 16:27:14	johnhamelink	yep
2012-07-27 16:27:29	johnhamelink	i have it
2012-07-27 16:27:46	johnhamelink	Error, cannot find module should
2012-07-27 16:28:03	alanhollis	I had that issue
2012-07-27 16:28:07	alanhollis	I installed via -g
2012-07-27 16:28:12	alanhollis	but still had to sym link
2012-07-27 16:28:17	alanhollis	to where it wanted to find it
2012-07-27 16:28:22	johnhamelink	which is?
2012-07-27 16:28:24	MaxGaudron	install the library globally
2012-07-27 16:28:26	alanhollis	uhhh
2012-07-27 16:28:27	MaxGaudron	and alan, add thaat :
2012-07-27 16:28:28	alanhollis	I can't remember
2012-07-27 16:28:32	johnhamelink	^_^
2012-07-27 16:28:42	MaxGaudron	export NODE_PATH=/usr/local/lib/node_modules
2012-07-27 16:28:46	johnhamelink	i need to update my path
2012-07-27 16:28:47	MaxGaudron	john take a look at the README
2012-07-27 16:28:49	johnhamelink	ah there you go :D
2012-07-27 16:28:53	MaxGaudron	it's a markdown file
2012-07-27 16:29:04	MaxGaudron	if you want the list of the needed libraries
2012-07-27 16:29:53	johnhamelink	MaxGaudron: I added that node_path and re-sourced and i get the same error
2012-07-27 16:30:18	MaxGaudron	npm install -g should blitz mocha request async
2012-07-27 16:30:19	MaxGaudron	?
2012-07-27 16:31:15	johnhamelink	aha, i think i had to re-install with -g flag
2012-07-27 16:31:33	johnhamelink	no, still fails on require should
2012-07-27 16:31:56	MaxGaudron	:/
2012-07-27 16:31:59	MaxGaudron	that's weird
2012-07-27 16:32:01	alanhollis	yeah
2012-07-27 16:32:03	alanhollis	same problem I had
2012-07-27 16:32:08	alanhollis	had to symlink
2012-07-27 16:32:11	johnhamelink	fixed it
2012-07-27 16:32:15	MaxGaudron	use mac os x :p everything is working on mac os x :p
2012-07-27 16:32:29	johnhamelink	my export is /usr/lib/node_modules
2012-07-27 16:32:33	johnhamelink	and that works :)
2012-07-27 16:32:38	MaxGaudron	ahh xD sorry :p
2012-07-27 16:32:43	johnhamelink	609 tests complete :)
2012-07-27 16:32:52	johnhamelink	MaxGaudron: not your fault; you're using brew :)
2012-07-27 16:32:56	MaxGaudron	with ? ant or ant mocha ?
2012-07-27 16:32:59	johnhamelink	anty
2012-07-27 16:33:00	johnhamelink	*ant
2012-07-27 16:33:04	MaxGaudron	Wouhouuu
2012-07-27 16:33:07	MaxGaudron	cool
2012-07-27 16:33:09	johnhamelink	ant mocha fai;s
2012-07-27 16:33:11	johnhamelink	*fails
2012-07-27 16:33:19	MaxGaudron	yeah because it depends of the API
2012-07-27 16:33:23	johnhamelink	ah ok
2012-07-27 16:33:29	MaxGaudron	and "ant" launch build who launch the API :)
2012-07-27 16:33:36	johnhamelink	ah but i had it open already :p
2012-07-27 16:33:42	MaxGaudron	on port 3001 ?
2012-07-27 16:33:49	johnhamelink	still works
2012-07-27 16:33:55	MaxGaudron	i use a different port and a different database
2012-07-27 16:33:57	johnhamelink	ok i understand :)
2012-07-27 16:34:06	johnhamelink	good, I like that, that makes me happy XD
2012-07-27 16:34:10	MaxGaudron	:p
2012-07-27 16:34:24	johnhamelink	and it's fast considering what it's doing
2012-07-27 16:34:35	MaxGaudron	Yep
2012-07-27 16:34:38	MaxGaudron	a LOT of request
2012-07-27 16:34:53	johnhamelink	3.4seconds is v fast considering the throughput imho
2012-07-27 16:35:23	johnhamelink	my CPU does go up to like 60% when I'm running the test
2012-07-27 16:35:28	johnhamelink	but that's to be expected i gues
2012-07-27 16:35:32	johnhamelink	but that's to be expected i guess*
2012-07-27 16:35:37	MaxGaudron	mongodb :p
2012-07-27 16:36:56	johnhamelink	no its node actually :)
2012-07-27 16:37:04	MaxGaudron	:o
2012-07-27 16:37:10	johnhamelink	node and mocha
2012-07-27 16:37:14	SymbleJenkins	Project Symble3_Backend_API build #89: STILL FAILING in 15 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/89/
2012-07-27 16:37:14	SymbleJenkins	* Alan Hollis: Fix on remove account update client active and delete variables
2012-07-27 16:37:15	SymbleJenkins	* Max Gaudron: symbleApi.js : bug fix, the remove method doesn't have parameters
2012-07-27 16:37:15	SymbleJenkins	* Max Gaudron: tests: added tests on delete method (soft delete)
2012-07-27 16:37:16	SymbleJenkins	* Max Gaudron: test suite: bug fix, as mocha don't isolate every tests suite. A (global)variable declared in one test can interfere in the other one. -> variable name changed.
2012-07-27 16:37:16	SymbleJenkins	* Alan Hollis: Fix route for socketio
2012-07-27 16:37:17	SymbleJenkins	* Max Gaudron: test suite: deleted the node_modules folder (conflict with the "mocha --recursive" option).
2012-07-27 16:37:17	SymbleJenkins	* Max Gaudron: symbleApi.js bug fix
2012-07-27 16:37:18	SymbleJenkins	* Max Gaudron: test suite: bug fix, variable name conflict between tests
2012-07-27 16:37:19	SymbleJenkins	* Max Gaudron: test suite: added data needed by the "search" tests .
2012-07-27 16:37:19	SymbleJenkins	* Max Gaudron: test suite: search feature test ( test filters "eq" and "neq" )
2012-07-27 16:37:19	SymbleJenkins	* Alan Hollis: Add eventlog filter to backend
2012-07-27 16:37:20	MaxGaudron	SPAM :D
2012-07-27 16:37:20	SymbleJenkins	* Alan Hollis: Change model
2012-07-27 16:37:20	SymbleJenkins	* Alan Hollis: Change defaults updated if default filter is changed
2012-07-27 16:37:21	SymbleJenkins	* Alan Hollis: Fix default for owner only
2012-07-27 16:37:21	SymbleJenkins	* Alan Hollis: Add emit to after event is created
2012-07-27 16:37:22	SymbleJenkins	* Alan Hollis: Fix event log filter controller
2012-07-27 16:37:22	SymbleJenkins	* Alan Hollis: Move where instance event is fired
2012-07-27 16:37:27	alanhollis	you'd expect it to be node
2012-07-27 16:37:38	johnhamelink	yeah it's doing all the input and output
2012-07-27 16:37:42	johnhamelink	it's not sitting idle waiting
2012-07-27 16:37:49	johnhamelink	it's making all the connections
2012-07-27 16:37:58	alanhollis	and it's all bound to one cpu
2012-07-27 16:38:07	johnhamelink	but, one thing to point out is
2012-07-27 16:38:16	johnhamelink	it goes from 0 - 60% CPU very quickly
2012-07-27 16:38:24	johnhamelink	so it's not hogging resources
2012-07-27 16:38:31	johnhamelink	it's using them only when it needs them
2012-07-27 16:40:10	MaxGaudron	on your machine alan ? is ant working ?
2012-07-27 16:40:37	alanhollis	shutdown for the weekend sorry boss
2012-07-27 16:40:52	alanhollis	will probably give it a try later
2012-07-27 16:41:23	MaxGaudron	ah sorry ok
2012-07-27 16:41:24	johnhamelink	he's not a CI instance MaxGaudron :P
2012-07-27 16:43:09	MaxGaudron	:p
2012-07-27 16:43:26	MaxGaudron	but it's still working only one time on 3 :/
2012-07-27 16:43:28	MaxGaudron	only on AWS
2012-07-27 16:44:10	johnhamelink	I'll upgrade the spex
2012-07-27 16:44:12	johnhamelink	*spec
2012-07-27 16:44:27	alanhollis	Why?
2012-07-27 16:44:40	alanhollis	Aren't all the resources closed after every test?
2012-07-27 16:44:45	MaxGaudron	yes
2012-07-27 16:44:51	alanhollis	hmmm
2012-07-27 16:44:51	MaxGaudron	but it's still not working :D
2012-07-27 16:45:04	alanhollis	same thing jenkins crashes?
2012-07-27 16:45:17	MaxGaudron	no, i'm not using jenkins
2012-07-27 16:45:19	MaxGaudron	just the CLI
2012-07-27 16:45:20	MaxGaudron	ant
2012-07-27 16:45:24	alanhollis	oh
2012-07-27 16:45:31	MaxGaudron	jenkins is configured to use ant
2012-07-27 16:45:32	alanhollis	Running ant three times in a row?
2012-07-27 16:45:37	alanhollis	crashes?
2012-07-27 16:47:18	MaxGaudron	something it's working
2012-07-27 16:47:33	MaxGaudron	sometime i have a SyntaxError: Unexpected token U
2012-07-27 16:47:42	MaxGaudron	and something the API just stop working and the test suite timeout
2012-07-27 16:48:05	MaxGaudron	in a random order :)
2012-07-27 16:48:43	alanhollis	seems like there's deeper errors to me
2012-07-27 16:49:21	alanhollis	I recon it will by to do with asyncy stuff
2012-07-27 16:49:47	alanhollis	hence why it appears "random"
2012-07-27 16:49:48	MaxGaudron	in this case why is it okay on johnhamelink's machine ?
2012-07-27 16:49:59	johnhamelink	yep it's a RAM thing I'm sure of it
2012-07-27 16:50:01	alanhollis	johnhamelink, ran it multiple times?
2012-07-27 16:50:04	johnhamelink	yep
2012-07-27 16:50:16	johnhamelink	run ant && ant && ant && ant
2012-07-27 16:50:55	alanhollis	doesn't make sense why you'd get syntaxerror messages
2012-07-27 16:50:56	alanhollis	if it were ram
2012-07-27 16:51:11	alanhollis	you'd expect it to all fall over
2012-07-27 16:51:13	MaxGaudron	on the API i have "error connection refused"
2012-07-27 16:51:14	johnhamelink	because node is returning something non-json
2012-07-27 16:51:19	MaxGaudron	DB error* to be exact
2012-07-27 16:51:32	johnhamelink	so the test is receiving non-json data
2012-07-27 16:51:56	johnhamelink	MaxGaudron: im going to upgrade your instance; to do this i need to take a snapshot, then make a new instance and bind to it, you ok with that?
2012-07-27 16:52:12	alanhollis	I'd probably add some logging around the area where the syntax error is created
2012-07-27 16:52:16	alanhollis	just to make sure
2012-07-27 16:52:28	johnhamelink	yeah MaxGaudron can you do that first?
2012-07-27 16:52:29	MaxGaudron	Euh yes but can't you just upgrade temporary ?
2012-07-27 16:52:47	johnhamelink	yeah i can create a new snapshot MaxGaudron and then then launch from it
2012-07-27 16:52:48	alanhollis	if node were running out of memory I'd expect the process to fall over
2012-07-27 16:52:54	alanhollis	not to return something funny
2012-07-27 16:53:03	johnhamelink	but either way you shouldn't edit the instance :P
2012-07-27 16:53:18	MaxGaudron	johnhamelink let me backup the jenkins config
2012-07-27 16:53:20	johnhamelink	so before i do that do a bit of log testing first :)
2012-07-27 16:53:25	MaxGaudron	and yes :)
2012-07-27 16:53:26	johnhamelink	no problem mate :)
2012-07-27 16:54:33	johnhamelink	aah apparently there's an easier way to upgrade now, will try that when you're ready MaxGaudron 
2012-07-27 16:54:51	alanhollis	Could also be that johnhamelink machines running faster than aws instance, so all the async stuff returns in the order expected?
2012-07-27 16:55:10	alanhollis	who knows
2012-07-27 16:55:17	MaxGaudron	Aahhh
2012-07-27 16:55:19	alanhollis	Right enjoy your weekends one and all
2012-07-27 16:55:27	alanhollis	I'm offski
2012-07-27 16:55:27	johnhamelink	alright alanhollis have a good one mate :)
2012-07-27 16:55:56	MaxGaudron	have a good weekend alanhollis !
2012-07-27 16:58:58	MaxGaudron	ok johnhamelink
2012-07-27 16:59:31	johnhamelink	ready?
2012-07-27 16:59:40	MaxGaudron	yeah the config is on my machine !
2012-07-27 16:59:53	<--	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has quit
2012-07-27 17:00:17	johnhamelink	shutting down the instance now
2012-07-27 17:00:44	--	ArnaudFrugier is now known as ArnaudFrugierBNC
2012-07-27 17:01:06	johnhamelink	coming back up now
2012-07-27 17:01:18	MaxGaudron	what did you changed ?
2012-07-27 17:02:10	johnhamelink	upgraded the instance's spec
2012-07-27 17:02:16	-->	SymbleJenkins (~PircBotx@ec2-46-137-32-86.eu-west-1.compute.amazonaws.com) has joined #symble
2012-07-27 17:02:23	MaxGaudron	from what to what ? ^^
2012-07-27 17:02:41	johnhamelink	micro to medium :)
2012-07-27 17:03:47	johnhamelink	better now?
2012-07-27 17:04:01	MaxGaudron	i can't connect
2012-07-27 17:04:07	MaxGaudron	( ssh )
2012-07-27 17:04:17	johnhamelink	ah yeah, i need to reassign the elastic ip
2012-07-27 17:04:35	johnhamelink	try now
2012-07-27 17:04:52	MaxGaudron	same
2012-07-27 17:04:59	MaxGaudron	ah no
2012-07-27 17:04:59	johnhamelink	keep trying, might take a wee while
2012-07-27 17:05:00	MaxGaudron	SSH ok
2012-07-27 17:05:03	MaxGaudron	ok working
2012-07-27 17:05:18	johnhamelink	cool :)\
2012-07-27 17:05:20	johnhamelink	and test?
2012-07-27 17:06:56	johnhamelink	https://gist.github.com/1ae189298ac1e6ac6082
2012-07-27 17:06:58	<--	SymbleJenkins (~PircBotx@ec2-46-137-32-86.eu-west-1.compute.amazonaws.com) has quit (Ping timeout: 244 seconds)
2012-07-27 17:07:05	johnhamelink	jenkins does not like that
2012-07-27 17:07:11	johnhamelink	or rather, node does not like that
2012-07-27 17:07:17	MaxGaudron	yeah it's me
2012-07-27 17:07:18	MaxGaudron	2se
2012-07-27 17:07:21	MaxGaudron	2sec
2012-07-27 17:07:31	johnhamelink	kk
2012-07-27 17:08:30	MaxGaudron	the same :/
2012-07-27 17:08:33	johnhamelink	:(
2012-07-27 17:09:07	MaxGaudron	but now with the CLI it's working
2012-07-27 17:09:09	MaxGaudron	funny
2012-07-27 17:09:16	johnhamelink	hudson.util.IOException2: Failed to read /var/lib/jenkins/workspace/Symble3_Backend_API/build/results/mocha.xml
2012-07-27 17:09:23	johnhamelink	is that where the error is showing?
2012-07-27 17:09:30	johnhamelink	in the xml?
2012-07-27 17:09:33	MaxGaudron	it's before that
2012-07-27 17:09:45	johnhamelink	why isn't it spilling into the console?
2012-07-27 17:09:58	MaxGaudron	Error: Cannot find module 'should'
2012-07-27 17:09:58	MaxGaudron	    at Function._resolveFilename (module.js:332:11)
2012-07-27 17:09:58	MaxGaudron	    at Function._load (module.js:279:25)
2012-07-27 17:09:58	MaxGaudron	    at Module.require (module.js:354:17)
2012-07-27 17:09:58	MaxGaudron	    at require (module.js:370:17)
2012-07-27 17:09:58	MaxGaudron	    at Object.<anonymous> (/var/lib/jenkins/workspace/Symble3_Backend_API/test/search/search_eq.js:1:76)
2012-07-27 17:09:59	MaxGaudron	:o
2012-07-27 17:10:14	johnhamelink	aha
2012-07-27 17:10:21	johnhamelink	need to define NODE_PATH
2012-07-27 17:10:37	johnhamelink	/usr/lib/node_modules
2012-07-27 17:10:38	MaxGaudron	yep
2012-07-27 17:10:47	johnhamelink	almost there :D
2012-07-27 17:11:05	johnhamelink	http://ant.apache.org/manual/Tasks/condition.html
2012-07-27 17:11:12	johnhamelink	set the path based on OS :D
2012-07-27 17:13:05	MaxGaudron	it's the same path
2012-07-27 17:13:23	MaxGaudron	ah
2012-07-27 17:15:12	MaxGaudron	ok
2012-07-27 17:15:13	MaxGaudron	working
2012-07-27 17:15:21	johnhamelink	yay :D
2012-07-27 17:15:42	johnhamelink	where's symbleJenkins?
2012-07-27 17:15:51	MaxGaudron	sorry ?
2012-07-27 17:15:57	MaxGaudron	Ah le bot
2012-07-27 17:16:07	MaxGaudron	don't know, i restart jenkins
2012-07-27 17:16:11	MaxGaudron	the bot*
2012-07-27 17:17:19	-->	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has joined #symble
2012-07-27 17:17:22	<--	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has quit (Client Quit)
2012-07-27 17:17:30	johnhamelink	lol oops
2012-07-27 17:17:46	MaxGaudron	?
2012-07-27 17:18:12	-->	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has joined #symble
2012-07-27 17:18:23	MaxGaudron	he's back ! :)
2012-07-27 17:18:40	SymbleJenkins	Project Symble3_Backend_API build #97: SUCCESS in 11 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/97/
2012-07-27 17:18:42	johnhamelink	i rebooted jenkins and then SymbleJenkins came back straight away, lol
2012-07-27 17:18:52	SymbleJenkins	Project Symble 3 - AUT - Backend build #29: SUCCESS in 6.7 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/29/
2012-07-27 17:19:20	MaxGaudron	do we try to go back to the tiny instance ?
2012-07-27 17:19:32	MaxGaudron	now it's too fast for me, i can't work :p
2012-07-27 17:20:18	johnhamelink	yeah we should try to stay on smaller instances, because it encourages us to have good performance :P
2012-07-27 17:20:34	--	ArnaudFrugierBNC is now known as ArnaudFrugier
2012-07-27 17:20:36	MaxGaudron	and because it cost less to the company =)
2012-07-27 17:20:55	<--	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has quit (Remote host closed the connection)
2012-07-27 17:21:15	johnhamelink	you cost a lot more than jenkins, i'd rather keep you, lol
2012-07-27 17:21:33	MaxGaudron	a lot :p
2012-07-27 17:21:41	johnhamelink	^_^
2012-07-27 17:23:09	johnhamelink	done
2012-07-27 17:23:27	-->	SymbleJenkins (~PircBotx@ec2-46-51-131-180.eu-west-1.compute.amazonaws.com) has joined #symble
2012-07-27 17:24:00	johnhamelink	MaxGaudron: do you think we should delete the workspace after each test to make sure we're 100% working on a clean, whats-on-the-repo codebase?
2012-07-27 17:26:21	ArnaudFrugier	johnhamelink: events'date on website are displayed on UTC0
2012-07-27 17:26:44	ArnaudFrugier	I think it should be localized
2012-07-27 17:27:44	<--	SymbleJenkins (~PircBotx@ec2-46-51-131-180.eu-west-1.compute.amazonaws.com) has quit (Ping timeout: 250 seconds)
2012-07-27 17:28:10	johnhamelink	yes it should, i agree
2012-07-27 17:28:47	johnhamelink	currently it's actually ISO on the website, but we're going to switch to using UTC throughout the whole system, then converting to localised at the end of the process
2012-07-27 17:29:43	johnhamelink	so mobile app receives UTC and adjusts based on settings or something to that effect
2012-07-27 17:29:52	johnhamelink	and website does the same
2012-07-27 17:29:59	ArnaudFrugier	mobile app already does it
2012-07-27 17:30:28	johnhamelink	excellent :D
2012-07-27 17:30:30	ArnaudFrugier	that's why, at the moment, for a same event dates are not the same on the site or on the mobile app
2012-07-27 17:31:26	ArnaudFrugier	johnhamelink: if you want to have a look http://cl.ly/1O1B0p1i0L0g
2012-07-27 17:31:33	johnhamelink	yep, that's fine though. Yes please!
2012-07-27 17:31:59	-->	SymbleJenkins (~PircBotx@ec2-54-247-118-87.eu-west-1.compute.amazonaws.com) has joined #symble
2012-07-27 17:31:59	ArnaudFrugier	I'm starting blackberry native app on monday
2012-07-27 17:32:23	johnhamelink	ok cool ArnaudFrugier 
2012-07-27 17:33:05	ArnaudFrugier	on the android app : "directory" is harcoded, and the "add to callsheet" button is implemented but not working on your side
2012-07-27 17:33:46	MaxGaudron	johnhamelink no need, ant clean the repo for each build
2012-07-27 17:33:54	MaxGaudron	and jenkins copy the files to anoter folder
2012-07-27 17:35:28	--	MaxGaudron is now known as MaxGaudronBNC
2012-07-27 17:53:28	--	MaxGaudronBNC is now known as MaxGaudron
2012-07-27 17:54:28		irc: disconnected from server
2012-08-03 11:22:09	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-08-03 11:22:09	--	Nicks #symble: [alanhollis ArnaudFrugierBNC BenjaminMaugain johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-08-03 11:22:09	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-08-03 11:22:13	--	Mode #symble [+cnt]
2012-08-03 11:22:13	--	Channel created on Fri, 25 May 2012 16:17:53
2012-08-03 12:07:29	sylvainreiter	hi alanhollis can you come on Skype to speak to Nash?
2012-08-03 12:08:05	sylvainreiter	dont want to distract you from Symble now but he has a few questions, and possiblt some quick fixes, can you check later tonight after your Symble tasks?
2012-08-03 12:21:35	alanhollis	hi sylvainreiter not symbling today. I'm off out later this afternoon but if they're quick things I can look right now for you
2012-08-03 12:22:19	sylvainreiter	great alanhollis, thanks
2012-08-03 12:22:24	sylvainreiter	see you on skype
2012-08-03 12:22:26	sylvainreiter	:-)
2012-08-03 13:19:34	SymbleJenkins	Project Symble 3 - AUT - Web frontend build #59: SUCCESS in 8.3 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Web%20frontend/59/
2012-08-03 13:19:34	SymbleJenkins	John Hamelink: Tweaked Staff Research bundle to better match wireframes.
2012-08-03 14:05:26	--	BenjaminMaugain is now known as benjMaugain_AFK
2012-08-03 14:14:29		irc: disconnected from server
2012-08-03 14:14:39	-->	johnhamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-08-03 14:14:39	--	Nicks #symble: [alanhollis ArnaudFrugierBNC benjMaugain_AFK johnhamelink MaxGaudronBNC sylvainreiter SymbleJenkins]
2012-08-03 14:14:39	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-08-03 14:15:01	--	Mode #symble [+cnt]
2012-08-03 14:15:01	--	Channel created on Fri, 25 May 2012 16:17:53
2012-08-03 17:12:12		irc: disconnected from server
2012-08-13 08:16:54	-->	JohnHamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-08-13 08:16:54	--	Nicks #symble: [ArnaudFrugierBNC benjMaugain_AFK JohnHamelink MaxGaudronBNC sylvainreiter211 SymbleJenkins]
2012-08-13 08:16:54	--	Channel #symble: 6 nicks (0 ops, 0 halfops, 0 voices, 6 normals)
2012-08-13 08:16:58	--	Mode #symble [+cnt]
2012-08-13 08:16:58	--	Channel created on Fri, 25 May 2012 16:17:53
2012-08-13 08:39:08	-->	alanhollis (~alan@027c0d8d.bb.sky.com) has joined #symble
2012-08-13 08:39:16	alanhollis	Morning all
2012-08-13 08:41:53	--	ArnaudFrugierBNC is now known as ArnaudFrugier
2012-08-13 08:41:57	ArnaudFrugier	Morning
2012-08-13 08:42:53	JohnHamelink	Morning :)
2012-08-13 09:02:03	sylvainreiter211	hello everyone
2012-08-13 09:02:17	sylvainreiter211	how was your trip back JohnHamelink? No delays this time?
2012-08-13 09:04:10	JohnHamelink	sylvainreiter211: yeah not too bad thanks
2012-08-13 09:14:00	--	MaxGaudronBNC is now known as MaxGaudron
2012-08-13 09:14:04	MaxGaudron	Morning !
2012-08-13 09:14:39	alanhollis	morning MaxGaudron
2012-08-13 09:14:51	JohnHamelink	mornin' :)
2012-08-13 09:18:15	JohnHamelink	MaxGaudron: tests are failing on unstable branch for me, just pulled:https://gist.github.com/3338132
2012-08-13 09:18:23	MaxGaudron	i know
2012-08-13 09:18:36	JohnHamelink	Cool, just checking it wasn't me :)
2012-08-13 09:18:37	MaxGaudron	since your commit :p
2012-08-13 09:18:42	JohnHamelink	ha which one?
2012-08-13 09:18:55	MaxGaudron	last week
2012-08-13 09:19:10	MaxGaudron	you change the required value of "country"
2012-08-13 09:19:14	MaxGaudron	values*
2012-08-13 09:19:19	MaxGaudron	so the tests are failing
2012-08-13 09:19:30	JohnHamelink	ahh
2012-08-13 09:19:34	MaxGaudron	but no worries, i have to merge a branch and it'll be okay
2012-08-13 09:19:57	MaxGaudron	( and there was some others issues that i don't remember … )
2012-08-13 09:24:07	MaxGaudron	i merge feature/mergeStaffAndClient into unstable
2012-08-13 09:24:25	alanhollis	Are all those tests completing in that branch?
2012-08-13 09:24:29	MaxGaudron	yes :)
2012-08-13 09:24:32	alanhollis	I tried running it on my machine over the weekend
2012-08-13 09:24:41	alanhollis	was getting < 610 tests and a couple of errors
2012-08-13 09:25:40	MaxGaudron	:o now after the merge i have some errors
2012-08-13 09:25:43	MaxGaudron	hum
2012-08-13 09:26:38	SymbleJenkins	Project Symble3_Backend_API build #125: STILL UNSTABLE in 1 min 10 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/125/
2012-08-13 09:26:39	SymbleJenkins	* Max Gaudron: staff/client model, cleaning and preparation for merging
2012-08-13 09:26:39	SymbleJenkins	* Max Gaudron: modification of the module loader, it checks if the file exist now.
2012-08-13 09:26:40	SymbleJenkins	* Max Gaudron: client model modifications
2012-08-13 09:26:40	SymbleJenkins	* Max Gaudron: added mongoose-schema-extender
2012-08-13 09:26:41	SymbleJenkins	* Max Gaudron: added mongoose-schema-extend to the API and store the schema into a global array.
2012-08-13 09:26:41	SymbleJenkins	* Max Gaudron: added user model, staff/client extend from user model
2012-08-13 09:26:42	SymbleJenkins	* Max Gaudron: update node_modules
2012-08-13 09:26:42	SymbleJenkins	* Max Gaudron: express call changed from express.createServer() to express() (method create server is depreciated)
2012-08-13 09:26:43	SymbleJenkins	* Max Gaudron: bug fix bug fix bug fix bug fix but there is still more bug with the mongoose-extend-schema library
2012-08-13 09:26:43	SymbleJenkins	* Max Gaudron: deleted the buggy mongoose-extend-schema library
2012-08-13 09:26:44	SymbleJenkins	* Max Gaudron: model extend without the library
2012-08-13 09:26:44	SymbleJenkins	* Max Gaudron: search/get methods fix
2012-08-13 09:26:45	SymbleJenkins	* Max Gaudron: deleted lost console.log
2012-08-13 09:26:45	SymbleJenkins	* Max Gaudron: simple dependence resolution for client/staff models -> require()
2012-08-13 09:26:46	SymbleJenkins	* Max Gaudron: fixed the test suite to match the modules. bug fix
2012-08-13 09:33:40	SymbleJenkins	Yippie, build fixed!
2012-08-13 09:33:41	SymbleJenkins	Project Symble3_Backend_API build #126: FIXED in 21 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/126/
2012-08-13 09:33:41	SymbleJenkins	Max Gaudron: bug fix: wrong folder name in the /test/vendor folder causing the test suite to fail
2012-08-13 09:33:49	MaxGaudron	hop :)
2012-08-13 09:34:58	SymbleJenkins	Project Symble3_Backend_API build #127: SUCCESS in 1 min 16 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/127/
2012-08-13 09:35:28	SymbleJenkins	Project Symble 3 - AUT - Backend build #51: SUCCESS in 1 min 42 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/51/
2012-08-13 09:35:29	SymbleJenkins	* Alan Hollis: Add better error message on uncaught errors.
2012-08-13 09:35:29	SymbleJenkins	* Max Gaudron: staff/client model, cleaning and preparation for merging
2012-08-13 09:35:30	SymbleJenkins	* Max Gaudron: modification of the module loader, it checks if the file exist now.
2012-08-13 09:35:30	SymbleJenkins	* Max Gaudron: client model modifications
2012-08-13 09:35:31	SymbleJenkins	* Max Gaudron: added mongoose-schema-extender
2012-08-13 09:35:31	SymbleJenkins	* unknown: Add Countries List module & tests
2012-08-13 09:35:32	SymbleJenkins	* Max Gaudron: added mongoose-schema-extend to the API and store the schema into a global array.
2012-08-13 09:35:32	SymbleJenkins	* Max Gaudron: added user model, staff/client extend from user model
2012-08-13 09:35:33	SymbleJenkins	* Max Gaudron: update node_modules
2012-08-13 09:35:33	SymbleJenkins	* Max Gaudron: express call changed from express.createServer() to express() (method create server is depreciated)
2012-08-13 09:35:34	SymbleJenkins	* Max Gaudron: bug fix bug fix bug fix bug fix but there is still more bug with the mongoose-extend-schema library
2012-08-13 09:35:34	SymbleJenkins	* Max Gaudron: deleted the buggy mongoose-extend-schema library
2012-08-13 09:35:35	SymbleJenkins	* Max Gaudron: model extend without the library
2012-08-13 09:35:35	SymbleJenkins	* Max Gaudron: search/get methods fix
2012-08-13 09:35:36	SymbleJenkins	* Max Gaudron: deleted lost console.log
2012-08-13 09:35:36	SymbleJenkins	* Max Gaudron: simple dependence resolution for client/staff models -> require()
2012-08-13 09:35:37	SymbleJenkins	* Max Gaudron: fixed the test suite to match the modules. bug fix
2012-08-13 09:56:19	JohnHamelink	MaxGaudron: I think I've fixed the ant script so it fails on error now. I've also made a check to see if the API is already up and restarts it if it is (if the build fails the process stays up).
2012-08-13 09:56:58	MaxGaudron	cool, can you push it in branch ?
2012-08-13 09:58:14	JohnHamelink	yep want me to make a new one or put it on unstable so jenkins will try it?
2012-08-13 09:59:57	MaxGaudron	make a new one please
2012-08-13 10:00:07	JohnHamelink	kk 2 secs
2012-08-13 10:02:06	JohnHamelink	MaxGaudron: pushed to fix/ant
2012-08-13 10:11:18	alanhollis	:(
2012-08-13 10:12:17	alanhollis	backend changes seem to make bad things happen on front end
2012-08-13 10:12:35	JohnHamelink	what's up alanhollis ?
2012-08-13 10:12:39	MaxGaudron	the dashboard i suppose ?
2012-08-13 10:13:04	alanhollis	Yeah, things I think you know about
2012-08-13 10:13:09	alanhollis	Register function
2012-08-13 10:13:14	alanhollis	Existing logins
2012-08-13 10:13:18	alanhollis	Dashboard
2012-08-13 10:13:19	alanhollis	Eventlog
2012-08-13 10:13:22	alanhollis	Callsheet
2012-08-13 10:14:02	MaxGaudron	pull the frontend
2012-08-13 10:14:10	MaxGaudron	erf 2sec
2012-08-13 10:14:38	MaxGaudron	you can pull :)
2012-08-13 10:15:34	alanhollis	same
2012-08-13 10:15:39	SymbleJenkins	Project Symble 3 - AUT - Web frontend build #92: SUCCESS in 11 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Web%20frontend/92/
2012-08-13 10:15:40	SymbleJenkins	Max Gaudron: fix for backend changes
2012-08-13 10:16:04	alanhollis	the callsheet thing is because it redirects to dashboard
2012-08-13 10:16:11	alanhollis	so I'm assuming it's an auth issue
2012-08-13 10:19:56	MaxGaudron	Dashboard fixed
2012-08-13 10:20:06	MaxGaudron	it was because i deleted staff points
2012-08-13 10:20:44	MaxGaudron	and for the callsheet i have "invalid sort argument, must be a string or object" on the backend side
2012-08-13 10:21:43	SymbleJenkins	Project Symble3_Backend_API build #128: SUCCESS in 16 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/128/
2012-08-13 10:21:43	SymbleJenkins	Max Gaudron: readied staff points in the model (it needs to be moved later ���)
2012-08-13 10:22:10	SymbleJenkins	Project Symble 3 - AUT - Backend build #53: SUCCESS in 22 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/53/
2012-08-13 10:22:11	SymbleJenkins	Max Gaudron: readied staff points in the model (it needs to be moved later ���)
2012-08-13 10:37:43	alanhollis	Cheers MaxGaudron
2012-08-13 10:37:59	JohnHamelink	MaxGaudron: any thoughts on my ant script change?
2012-08-13 10:39:26	MaxGaudron	i like it ! JohnHamelink
2012-08-13 10:39:33	JohnHamelink	cool :)
2012-08-13 10:39:35	MaxGaudron	i'll merge it back in unstable
2012-08-13 10:39:36	alanhollis	I can't create a client through the front end with the backend changes. Not a big deal
2012-08-13 10:39:52	alanhollis	but how did the client test pass on the backend?
2012-08-13 10:40:02	JohnHamelink	alanhollis: im wondering the same thing :/
2012-08-13 10:40:27	MaxGaudron	i modified the test suite
2012-08-13 10:40:29	alanhollis	ahh
2012-08-13 10:40:37	alanhollis	makes sense :)
2012-08-13 10:40:39	MaxGaudron	on friday when i corrected the whole thing
2012-08-13 10:40:49	MaxGaudron	2sec i fix the client bundle, it's just one line to add ..
2012-08-13 10:41:22	alanhollis	Thanks MaxGaudron
2012-08-13 10:49:36	SymbleJenkins	Project Symble 3 - AUT - Web frontend build #93: SUCCESS in 9.6 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Web%20frontend/93/
2012-08-13 10:49:36	SymbleJenkins	Max Gaudron: client bundle: fix for backend changes
2012-08-13 10:54:54	alanhollis	has the syntax for sorters changed in the api does any one know?
2012-08-13 10:55:19	MaxGaudron	i didn't modified it
2012-08-13 10:55:29	alanhollis	$api->sorters(['tier'=>'asc']);
2012-08-13 10:56:00	alanhollis	is broken, due to it being [['tier'=>'asc']]
2012-08-13 10:56:10	alanhollis	by the time it goes through the api
2012-08-13 10:57:52	alanhollis	any thing you know about mr JohnHamelink ?
2012-08-13 10:58:13	JohnHamelink	nope, not noticed either tbh
2012-08-13 10:58:22	JohnHamelink	what branch are you guys working out of?
2012-08-13 10:58:42	alanhollis	odm/api unstable /unstable
2012-08-13 10:59:36	JohnHamelink	yeah same as me
2012-08-13 11:00:45	alanhollis	weird not nsure how this code ever worked :)
2012-08-13 11:01:49	MaxGaudron	sorting ?
2012-08-13 11:01:53	MaxGaudron	it works on the backend :)
2012-08-13 11:02:07	alanhollis	the syntax I have in the callsheet
2012-08-13 11:02:16	alanhollis	shouldn't of worked with the code in the api ever
2012-08-13 11:02:25	MaxGaudron	ah xD
2012-08-13 11:08:40	alanhollis	it's the checkForSorters middlewares
2012-08-13 11:08:54	MaxGaudron	on the backend ?
2012-08-13 11:08:59	alanhollis	yeah
2012-08-13 11:09:25	MaxGaudron	i don't understand, i wrote some tests on this feature
2012-08-13 11:09:27	MaxGaudron	and it's passing
2012-08-13 11:10:50	JohnHamelink	dunno if you guys are interested, but I wrote a custom standard for php codesniffer so that it isn't constantly winging to me about laravel's non-camelcase class methods
2012-08-13 11:12:02	alanhollis	I was looking at phpcodesniffer over the weekend
2012-08-13 11:12:08	alanhollis	I came to the conclusion
2012-08-13 11:12:09	alanhollis	it's pants
2012-08-13 11:12:10	alanhollis	;)
2012-08-13 11:13:17	JohnHamelink	it's very strict, but I've loosened it up a bit :)
2012-08-13 11:15:15	MaxGaudron	hoo they changed the design of sprint.ly
2012-08-13 11:16:06	alanhollis	MaxGaudron, the urls we pass through the api on the front end
2012-08-13 11:16:21	alanhollis	are search/?sort=[tier|asc]
2012-08-13 11:16:31	MaxGaudron	yes
2012-08-13 11:17:09		irc: disconnected from server
2012-08-13 11:17:24	-->	JohnHamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-08-13 11:17:24	--	Nicks #symble: [alanhollis ArnaudFrugier benjMaugain_AFK JohnHamelink MaxGaudron sylvainreiter211 SymbleJenkins]
2012-08-13 11:17:24	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-08-13 11:17:28	--	Mode #symble [+cnt]
2012-08-13 11:17:28	--	Channel created on Fri, 25 May 2012 16:17:53
2012-08-13 11:17:51	alanhollis	wasn't the reaction I was expecting ;) I'll investigate further
2012-08-13 11:18:39	JohnHamelink	^_^
2012-08-13 11:21:33	MaxGaudron	alanhollis i have that when i'm on the callsheet view : 2012-08-13 10:21:00 ERROR - Invalid argument supplied for foreach() in /Volumes/Data/Sites/cyber-duck/symble/symble-staff-frontend/bundles/callsheet/models/callsheet.php on line 70
2012-08-13 11:22:00	alanhollis	?
2012-08-13 11:22:10	alanhollis	Callsheet is broken due to the sorting stuff
2012-08-13 11:22:19	alanhollis	looking at it now
2012-08-13 11:35:06	MaxGaudron	alanhollis it's because of the mongoose update
2012-08-13 11:35:10	MaxGaudron	they changed the syntax
2012-08-13 11:35:17	MaxGaudron	alanhollis http://mongoosejs.com/docs/api.html#query_Query-sort
2012-08-13 11:36:02	alanhollis	yeah ;)
2012-08-13 11:36:07	alanhollis	Was there too
2012-08-13 11:36:19	alanhollis	it's horrible horrible horrible syntax
2012-08-13 11:39:04	MaxGaudron	i fixed it, but now we loose the support for multiple sort with my solution :)
2012-08-13 11:42:07	alanhollis	var sort = {};
2012-08-13 11:42:22	alanhollis	sort[val[0]] = val[1];
2012-08-13 11:42:28	alanhollis	query.sort(sort);
2012-08-13 11:42:54	MaxGaudron	ah no i'm stupid it's working
2012-08-13 11:43:19	alanhollis	your solution same as mine?
2012-08-13 11:44:26	MaxGaudron	                    var direction = (val[1] === 'asc') ? '' : '-' ;
2012-08-13 11:44:27	MaxGaudron	                    query.sort(direction + val[1]);
2012-08-13 11:44:31	MaxGaudron	i did that
2012-08-13 11:45:32	alanhollis	ah you went down string route
2012-08-13 11:45:35	alanhollis	I went down object route
2012-08-13 11:46:08	MaxGaudron	with the string we can have a cleaner sort syntax on the api
2012-08-13 11:46:10	JohnHamelink	hmm dunno if you guys know this but I can't log into the staff portal now?
2012-08-13 11:46:18	MaxGaudron	register again ;)
2012-08-13 11:46:20	alanhollis	new staff member needed
2012-08-13 11:46:21	JohnHamelink	k
2012-08-13 11:46:27	MaxGaudron	it's because we merged the client/staff
2012-08-13 11:46:29	alanhollis	yeah do your method MaxGaudron
2012-08-13 11:46:41	MaxGaudron	ok alan, i push that
2012-08-13 11:46:50	alanhollis	mines hackier and not as tidy as yours
2012-08-13 11:47:09	JohnHamelink	works now, what's changed out of interest?
2012-08-13 11:47:32	MaxGaudron	staff and client are now stored in one collection
2012-08-13 11:47:46	JohnHamelink	aha cool :0
2012-08-13 11:48:11	alanhollis	Was looking at that this morning MaxGaudron
2012-08-13 11:48:19	alanhollis	I think I prefer the _ extend method
2012-08-13 11:48:34	alanhollis	it's yet another lib to use..... but it's cleaner
2012-08-13 11:48:38	alanhollis	and you can properly extend the object
2012-08-13 11:49:03	alanhollis	for instance if you want to overwrite a variable in the schema, the way the code is at the moment you can't do it neatly
2012-08-13 11:49:47	SymbleJenkins	Project Symble3_Backend_API build #129: SUCCESS in 21 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/129/
2012-08-13 11:49:48	SymbleJenkins	Max Gaudron: bug fix: sorters
2012-08-13 11:50:14	SymbleJenkins	Project Symble 3 - AUT - Backend build #54: SUCCESS in 21 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/54/
2012-08-13 11:50:15	SymbleJenkins	Max Gaudron: bug fix: sorters
2012-08-13 11:50:34	MaxGaudron	i prefere underscore as well, i want to implement the auth, and having a base "user" object is useful for me :)
2012-08-13 11:51:25	MaxGaudron	at first i wanted to create a tiny library (like the buggy one … but bug free ) but if underscore works
2012-08-13 11:51:46	alanhollis	cool
2012-08-13 11:51:59	alanhollis	Also why were the tests not failing for the sort method?
2012-08-13 11:52:03	alanhollis	Something to look at quickly
2012-08-13 12:00:00	alanhollis	JohnHamelink, did you get around to asking Paul about interactions images?
2012-08-13 12:00:16	alanhollis	I'm working off the list sylvainreiter211 sent on Friday
2012-08-13 12:06:46	JohnHamelink	alanhollis yeah i did
2012-08-13 12:06:57	JohnHamelink	apparently it's already been done, will dig out the email now
2012-08-13 12:11:46	JohnHamelink	alanhollis: can't find the email, going to ask the designer again but he's probably out to lunch now. Will get them to you as soon as I can :)
2012-08-13 12:12:35	alanhollis	Cool, how you doing on sorting out this sprint?
2012-08-13 12:12:55	MaxGaudron	alanhollis was it working with underscore ?
2012-08-13 12:13:17	alanhollis	Yeah sort of MaxGaudron , it wasn't all going into the User collection
2012-08-13 12:13:26	JohnHamelink	alanhollis: yeah after lunch i'm going to order it correctly
2012-08-13 12:13:37	alanhollis	didn't test too much I'll be honest!
2012-08-13 12:13:37	MaxGaudron	ummmm it goes nowhere on my machine
2012-08-13 12:13:46	JohnHamelink	im offski, bbs :)
2012-08-13 12:18:13	MaxGaudron	ok alanhollis it's not working
2012-08-13 12:18:52	MaxGaudron	it you create an client it still goes to "client" collection
2012-08-13 12:19:03	MaxGaudron	even if you add collection:"users"
2012-08-13 12:19:10	alanhollis	oh
2012-08-13 12:19:15	MaxGaudron	in the constructor of the extended object ( client )
2012-08-13 12:19:15	alanhollis	that's weird
2012-08-13 12:19:29	MaxGaudron	so it'll be more hacky
2012-08-13 12:19:44	alanhollis	bug in mongoose ?
2012-08-13 12:19:50	MaxGaudron	i don't know
2012-08-13 12:20:04	MaxGaudron	i suppose the extends method isn't perfect
2012-08-13 12:20:24	alanhollis	yeah, hopefully that pull request will be merged into mongoose
2012-08-13 12:20:41	alanhollis	then we can use the Polymorphic schema right out of the box
2012-08-13 12:20:55	MaxGaudron	is this coming from this pull request ?
2012-08-13 12:21:22	MaxGaudron	because in my client collection, i don't see the specific attributes of the client constructor
2012-08-13 12:21:30	MaxGaudron	it's an user, but not a client on my machine
2012-08-13 12:21:46	alanhollis	https://github.com/LearnBoost/mongoose/pull/1003
2012-08-13 12:21:59	alanhollis	is what I was talking about sorry
2012-08-13 12:22:30	MaxGaudron	but, if you want something cleaner :
2012-08-13 12:23:20	MaxGaudron	i wanted to wrote a tiny library, it should extends the Model object, and store the schema's attributes and options in two attributes.
2012-08-13 12:23:55	MaxGaudron	add the "extends' method -> as we have the schema's attributes and options in the parent object, i can clone the schema, we don't need to clone the whole thing, just the schema
2012-08-13 12:24:47	MaxGaudron	and to finish, we'll need to mimic the buggy library to have an "discriminator column'" like i did with my code
2012-08-13 12:25:08	MaxGaudron	and, it's clean :) it's not a real OO extends, but for our use case it'll be perfect :)
2012-08-13 12:25:33	alanhollis	Sounds good to me, I'll have a play with _ later tonight because I'm curious as to why it didn't work
2012-08-13 12:25:45	MaxGaudron	*i suppose*
2012-08-13 12:25:49	alanhollis	but if it's quick and easy for you to knock up a library based on the existing code
2012-08-13 12:25:54	alanhollis	that seems fine to me
2012-08-13 12:26:03	MaxGaudron	it's because you are cloning the object and trying to pass some parameters in the extended object contructor
2012-08-13 12:26:09	MaxGaudron	and mongoose doesn't like that :D
2012-08-13 12:26:24	MaxGaudron	it can't just merge the existing attributes with the new one
2012-08-13 12:26:36	alanhollis	yeah I wouldn't of thought that would have worked actually
2012-08-13 12:26:51	alanhollis	you'd have to set those attributes after the object has been cloned
2012-08-13 12:27:08	alanhollis	although....
2012-08-13 12:27:18	alanhollis	I'd of though _extend would do that
2012-08-13 12:27:31	MaxGaudron	if you really want to do that, you'll have to extend the Model object first
2012-08-13 12:27:39	MaxGaudron	and modify the default constructor
2012-08-13 12:27:41	MaxGaudron	again ¨i suppose*
2012-08-13 12:28:15	alanhollis	isn't the second parameter enough to overwrite the contents of original object?
2012-08-13 12:28:34	alanhollis	Guess that didn't work?
2012-08-13 12:28:46	MaxGaudron	i don't know, but we don't want to override, we want to merge
2012-08-13 12:28:57	MaxGaudron	and that's the issue
2012-08-13 12:29:06	alanhollis	?
2012-08-13 12:29:26	MaxGaudron	Bah, you want to extend the user object and merge the new schema with the user schema
2012-08-13 12:29:41	MaxGaudron	like extending an object from another one
2012-08-13 12:29:50	alanhollis	yessum
2012-08-13 12:30:06	MaxGaudron	but in our case the schema is an attribute
2012-08-13 12:30:17	MaxGaudron	it's not fixed, we can change it
2012-08-13 12:30:47	MaxGaudron	if you clone the object you clone the attributes inside of it, and after you try to add another schema with the 2nd parameter of the _.extend method
2012-08-13 12:31:01	MaxGaudron	and that doesn't works :D
2012-08-13 12:31:14	alanhollis	You shouldn't need to clone and extend?
2012-08-13 12:31:15	alanhollis	Just extend
2012-08-13 12:31:42	MaxGaudron	No, because we want to extend the schema, and the schema is defined in the constructor of the parent object
2012-08-13 12:31:56	MaxGaudron	so you are just clone the object, and you can't call the constructor again :)
2012-08-13 12:32:09	MaxGaudron	and there is no method in mongoose to change the schema after the object creation
2012-08-13 12:32:17	MaxGaudron	( or i didn't saw it )
2012-08-13 12:34:05	alanhollis	ahh I see what you means
2012-08-13 12:35:51	MaxGaudron	that's why with my solution i just merge the two arrays
2012-08-13 12:36:43	MaxGaudron	but i'm not done with it, i'll implement the "extend" as well
2012-08-13 12:36:47	MaxGaudron	but after my lunch :p
2012-08-13 12:58:08	alanhollis	MaxGaudron, feature/MergeStaffAndClientUnderscore works as expected
2012-08-13 12:58:49	alanhollis	just needs tidying, as I'm making a new schema in the init function for both staff/client which isn't necessary
2012-08-13 13:00:11	SymbleJenkins	Project Symble3_Backend_API build #130: SUCCESS in 44 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/130/
2012-08-13 13:00:11	SymbleJenkins	Alan Hollis: Add console.log on unexpected error
2012-08-13 13:00:38	SymbleJenkins	Project Symble 3 - AUT - Backend build #55: SUCCESS in 22 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/55/
2012-08-13 13:00:39	SymbleJenkins	Alan Hollis: Add console.log on unexpected error
2012-08-13 13:18:36	JohnHamelink	back
2012-08-13 13:23:18	MaxGaudron	same here !
2012-08-13 13:23:41	alanhollis	checkout the branch max, the problem was the code needs to extend the schema
2012-08-13 13:23:44	alanhollis	and not the model
2012-08-13 13:25:10	MaxGaudron	the tests are failing
2012-08-13 13:26:01	alanhollis	Bah, you didn't expect me to actually test the branch did you ;) ;)
2012-08-13 13:37:34	MaxGaudron	alanhollis i create some client and staffb
2012-08-13 13:37:39	MaxGaudron	but it's the same schema
2012-08-13 13:37:44	MaxGaudron	it's not the extended one :)
2012-08-13 13:38:23	--	benjMaugain_AFK is now known as BenjaminMaugain
2012-08-13 13:38:23	MaxGaudron	it can't work with underscore
2012-08-13 13:39:09	alanhollis	?
2012-08-13 13:39:30	alanhollis	That's weird, when you console.log after extending the schema you see the new attributes
2012-08-13 13:45:49	SymbleJenkins	Project Symble3_Backend_API build #131: SUCCESS in 20 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/131/
2012-08-13 13:45:49	SymbleJenkins	* John Hamelink: Modified build.xml to check mocha's return value and fail if it is a
2012-08-13 13:45:49	SymbleJenkins	* John Hamelink: Added ant stop to allow you to manually stop the API
2012-08-13 13:46:15	SymbleJenkins	Project Symble 3 - AUT - Backend build #56: SUCCESS in 21 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/56/
2012-08-13 13:46:16	SymbleJenkins	* John Hamelink: Modified build.xml to check mocha's return value and fail if it is a
2012-08-13 13:46:16	SymbleJenkins	* John Hamelink: Added ant stop to allow you to manually stop the API
2012-08-13 14:12:40	alanhollis	MaxGaudron, this is a lesson why you shouldn't do so much in the construct method of an object
2012-08-13 14:12:55	alanhollis	means things like extending classes become a pain in the neck ;)
2012-08-13 14:12:58	alanhollis	Stupid mongoose ;)
2012-08-13 14:15:04	MaxGaudron	hahahaha
2012-08-13 14:31:18	MaxGaudron	alanhollis JohnHamelink stupid question
2012-08-13 14:31:33	MaxGaudron	i'm merging the auth branch into the backend and i modify the portal
2012-08-13 14:31:45	MaxGaudron	each request of the portal should be done with the correct user
2012-08-13 14:32:08	MaxGaudron	so if a user is logged on the portal, the queries should be sent with his username/password
2012-08-13 14:32:21	MaxGaudron	No, nevermind
2012-08-13 14:32:35	MaxGaudron	found the solution =)
2012-08-13 14:32:37	MaxGaudron	i*
2012-08-13 14:33:28	JohnHamelink	^_^
2012-08-13 14:34:50	alanhollis	JohnHamelink,  you see my email about the images
2012-08-13 14:35:22	alanhollis	that's the only part I need now, ideally I guess a sprite with the image buttons and selected non selected versions
2012-08-13 14:35:40	alanhollis	but individual would be find if easier.
2012-08-13 14:35:44	alanhollis	fine*
2012-08-13 14:42:01	MaxGaudron	it's working :D
2012-08-13 14:42:05	 *	MaxGaudron happy
2012-08-13 14:43:18	MaxGaudron	if a user is connected to the portal, the portal sends requests with his login/pass to the API :)
2012-08-13 14:48:05	JohnHamelink	alanhollis: tbh i didn'
2012-08-13 14:48:11	JohnHamelink	tbh i didn't understand the email :(
2012-08-13 14:48:24	alanhollis	essentially the images I require
2012-08-13 14:48:35	alanhollis	were not in the zip file
2012-08-13 14:48:40	alanhollis	in anyway I could use
2012-08-13 14:50:08	alanhollis	I was expecting 12 icons
2012-08-13 14:50:11	alanhollis	uhh
2012-08-13 14:50:16	alanhollis	24 icons
2012-08-13 14:50:24	alanhollis	2 icons for each interaction
2012-08-13 14:50:31	alanhollis	one "selected" image
2012-08-13 14:50:34	JohnHamelink	Ahh
2012-08-13 14:50:35	alanhollis	and one standard image
2012-08-13 14:50:46	JohnHamelink	For now can you just put a border round it on hover or something?
2012-08-13 14:50:52	JohnHamelink	the designer's off for a week >_>
2012-08-13 14:50:52	alanhollis	Okay
2012-08-13 14:50:58	alanhollis	I still need 12 standard images
2012-08-13 14:51:05	alanhollis	...
2012-08-13 14:51:10	alanhollis	Guess not going to get them ;)
2012-08-13 14:51:16	JohnHamelink	Sorry alanhollis :(
2012-08-13 14:51:22	alanhollis	no problem
2012-08-13 14:51:29	alanhollis	what's the next priority in sprint.ly/
2012-08-13 14:51:30	alanhollis	?
2012-08-13 14:51:36	alanhollis	I'll leave this branch as it is
2012-08-13 14:51:44	alanhollis	it's working but with standard placeholder images right now
2012-08-13 14:51:46	JohnHamelink	let me check
2012-08-13 14:51:52	alanhollis	interactions are pulled from the database
2012-08-13 14:53:09	JohnHamelink	Cool
2012-08-13 14:53:22	JohnHamelink	2 secs need to check laptop
2012-08-13 14:54:17	JohnHamelink	Account Review Admin Report probably
2012-08-13 14:58:21	JohnHamelink	alanhollis: is that on sprint.ly?
2012-08-13 14:58:30	alanhollis	it is
2012-08-13 15:00:17	JohnHamelink	cool :)
2012-08-13 15:01:53	alanhollis	JohnHamelink,  this requires the upload revenue data functionality to be completed first?
2012-08-13 15:02:26	alanhollis	you know, I really don't like sprint.ly
2012-08-13 15:02:30	alanhollis	it's a blinking mess
2012-08-13 15:03:20	MaxGaudron	i push the auth stuff in unstable
2012-08-13 15:03:30	sylvainreiter211	alanhollis, do you know another good backlog management web tool?
2012-08-13 15:03:35	SymbleJenkins	Project Symble3_Backend_API build #132: FAILURE in 8.5 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/132/
2012-08-13 15:03:36	SymbleJenkins	* Max Gaudron: added magic key to bypass the auth for development
2012-08-13 15:03:36	SymbleJenkins	* Max Gaudron: added connect lib
2012-08-13 15:03:37	SymbleJenkins	* Max Gaudron: Added a modified version of "basicAuth" middleware to return JSON error instead of a string. the auth system is now using the new middleware.
2012-08-13 15:03:37	SymbleJenkins	* Max Gaudron: bug fix: the socket module was sending request to the port 3000 instead matching the one from the API.
2012-08-13 15:03:38	SymbleJenkins	* Max Gaudron: bug fix: event creation was broken
2012-08-13 15:03:38	SymbleJenkins	* Max Gaudron: test suite updated to use the auth magic key.
2012-08-13 15:03:39	SymbleJenkins	* Max Gaudron: fix ant script, it's not possible to call 2 time a target from another target
2012-08-13 15:03:56	sylvainreiter211	got an invite to easybacklog.com but quite complex as well
2012-08-13 15:04:11	alanhollis	only that one by 37 signals
2012-08-13 15:04:17	sylvainreiter211	basecamp?
2012-08-13 15:04:18	alanhollis	which I think you're using else where?
2012-08-13 15:06:27	alanhollis	Trello
2012-08-13 15:07:03	alanhollis	watched a video presentation a few weeks ago, but obviously I've never used it in anger
2012-08-13 15:07:28	alanhollis	seems like it would be good for sprints
2012-08-13 15:07:49	alanhollis	backlog -> current sprint -> completed tasks -> sign off . Something like that for the columns I guess
2012-08-13 15:08:19	MaxGaudron	14 lines of code -> auth enabled on SymbleAPI/Portals hehehe
2012-08-13 15:09:46	SymbleJenkins	Project Symble 3 - AUT - Web frontend build #94: SUCCESS in 15 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Web%20frontend/94/
2012-08-13 15:09:46	SymbleJenkins	Max Gaudron: Api auth enabled
2012-08-13 15:10:00	alanhollis	even better would probably be
2012-08-13 15:10:14	alanhollis	backlog -> next sprint -> current sprint -> completed tasks -> sign off
2012-08-13 15:10:38	JohnHamelink	alanhollis:  we already use trello for other projects
2012-08-13 15:10:49	alanhollis	yeah I saw it in use in your office
2012-08-13 15:10:56	MaxGaudron	how do we keep track of the previous sprints with this ?
2012-08-13 15:11:06	JohnHamelink	alanhollis: about the revenue data functionality
2012-08-13 15:11:18	JohnHamelink	I've already written something rudimentary
2012-08-13 15:11:24	JohnHamelink	it's in its own bundle on the frontend
2012-08-13 15:11:28	JohnHamelink	it does the excel upload
2012-08-13 15:13:40	alanhollis	any idea what the bundle is?
2012-08-13 15:13:49	alanhollis	dataimporter
2012-08-13 15:14:27	JohnHamelink	aye
2012-08-13 15:16:00	JohnHamelink	alanhollis: make sense to you?
2012-08-13 15:16:02	JohnHamelink	oh wait
2012-08-13 15:16:02	JohnHamelink	you'
2012-08-13 15:16:11	JohnHamelink	you'll need some revenue data to play with hehe
2012-08-13 15:16:42	JohnHamelink	sylvainreiter211: can you send alanhollis some example revenue excel docs?
2012-08-13 15:17:00	JohnHamelink	i don't have any
2012-08-13 15:18:17	alanhollis	Small thing, I think there needs to be an upload revenue button some where on the account overview page, not on wireframes that I can see currently
2012-08-13 15:19:02	MaxGaudron	JohnHamelink / alanhollis i'm starting to work for arnaud, on the mobile routes, what do you think is best : create a module "mobile" with all the custom stuff for the mobile devices ? or add some routes everywhere in the application for mobile ?
2012-08-13 15:19:29	alanhollis	I think as the mobile routes get created, they should replace the standard routes of the php application
2012-08-13 15:19:36	alanhollis	*used by the php application
2012-08-13 15:19:44	MaxGaudron	Gloups
2012-08-13 15:20:03	alanhollis	at the moment what we're probably doing is more "hard work" in php than we need to
2012-08-13 15:20:25	alanhollis	especially true of things like the callsheet / eventlog
2012-08-13 15:20:45	MaxGaudron	yes but for the CRUD stuff is easier to have the *full* routes and the ODM
2012-08-13 15:20:58	MaxGaudron	for the callshet/eventlog you are 200% right
2012-08-13 15:21:35	alanhollis	Yeah, I was making the assumption that the mobile app wouldn't need different routes for CRUD operations anyway?
2012-08-13 15:25:58	JohnHamelink	I think we should have it in a mobile module so we aren't muddying the other modules?
2012-08-13 15:26:14	MaxGaudron	as i see on the wireframes, no, mobile apps are just for browsing
2012-08-13 15:26:27	MaxGaudron	the only interaction it's the callsheet
2012-08-13 15:26:44	MaxGaudron	staff users should be able to add interactions
2012-08-13 15:27:27	alanhollis	I'm again assuming, that most of these new routes would be part of a new vendor bundle anyway?
2012-08-13 15:27:33	alanhollis	Routes like
2012-08-13 15:27:45	alanhollis	. /callsheet/blablabla
2012-08-13 15:27:51	alanhollis	. /eventlog/ bla bla bla
2012-08-13 15:28:26	MaxGaudron	-_-
2012-08-13 15:28:30	MaxGaudron	Ahh it's working again
2012-08-13 15:28:46	MaxGaudron	sometime my IRC client don't want to send my messages :o
2012-08-13 15:29:05	MaxGaudron	i was thinking to a /vendor/mobile bundle, with everything inside
2012-08-13 15:29:12	alanhollis	why?
2012-08-13 15:29:38	alanhollis	if we're exposing the api to third parties it makes to have sensible descriptive routes
2012-08-13 15:30:05	alanhollis	I don't see why we'd ever have mobile specific routes
2012-08-13 15:30:33	MaxGaudron	because if you are override the default CRUD system, the whole portal will crash
2012-08-13 15:30:43	MaxGaudron	because we'll have missing data
2012-08-13 15:30:59	alanhollis	?
2012-08-13 15:31:59	MaxGaudron	ok i'm lost, you want to replace the default routes by the mobile one
2012-08-13 15:32:05	alanhollis	no
2012-08-13 15:32:15	alanhollis	Why would that happen?
2012-08-13 15:32:35	MaxGaudron	[15:19:28] <alanhollis> I think as the mobile routes get created, they should replace the standard routes of the php application <-- ?
2012-08-13 15:32:44	alanhollis	Ahhh
2012-08-13 15:33:03	alanhollis	The new routes you create for mobile
2012-08-13 15:33:15	alanhollis	are only being created because they're more complex than the basic crud system uses
2012-08-13 15:33:56	alanhollis	in those instances, like for instance in the callsheet where we currently do n amount of requests to the api everytime the page loads
2012-08-13 15:34:16	alanhollis	it would make sense to replace that with one route which returns the data
2012-08-13 15:34:44	alanhollis	and that's not mobile specific then, so the route is something like
2012-08-13 15:34:46	alanhollis	GET /callsheet/
2012-08-13 15:34:54	MaxGaudron	ok for this part
2012-08-13 15:35:04	MaxGaudron	The mobile devices needs to have client data with the account / sectors / etc etc already added in the JSON
2012-08-13 15:35:06	MaxGaudron	in this case ?
2012-08-13 15:35:28	alanhollis	What view was that for?
2012-08-13 15:35:34	MaxGaudron	ArnaudFrugier ?
2012-08-13 15:36:13	ArnaudFrugier	client view
2012-08-13 15:41:49	alanhollis	I'd say the REST way to have that view would be something like
2012-08-13 15:41:59	alanhollis	GET /client/?with=account/sectors
2012-08-13 15:42:49	MaxGaudron	Hum
2012-08-13 15:43:05	MaxGaudron	sounds difficult to implement cleanly
2012-08-13 15:43:38	alanhollis	What is the route currently?
2012-08-13 15:43:50	alanhollis	. /mobile/client/
2012-08-13 15:43:55	alanhollis	or something like that
2012-08-13 15:44:54	MaxGaudron	./client/search/mobile/
2012-08-13 15:45:02	alanhollis	the point is when you request that URL you don't really have a clue what you're getting back, it's not intuitive. Anyway this probably isn't too important and would be easy to change before production :)
2012-08-13 15:45:47	MaxGaudron	ok, i'll do that so
2012-08-13 15:47:29	alanhollis	to be honest I'm not sure what the best practice thing to do in these scenarios there's so many ways
2012-08-13 15:47:38	alanhollis	GET /all/client/sectors/accounts
2012-08-13 15:47:44	alanhollis	might be nicer still
2012-08-13 15:48:12	alanhollis	but combine that with limits etc etc
2012-08-13 15:48:15	alanhollis	it gets confusing ;)
2012-08-13 15:48:16	SymbleJenkins	Project Symble3_Backend_API build #133: STILL FAILING in 8.1 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/133/
2012-08-13 15:49:03	MaxGaudron	 GET /client/?with=account/sectors <-- that's clean i think
2012-08-13 15:51:00	alanhollis	going back to the use case of these routes
2012-08-13 15:51:37	alanhollis	it's a bit weird the route, because you're asking for all sectors/accounts I guess but only a limited number of clients
2012-08-13 15:52:26	MaxGaudron	what arnaud need it's an array of clients
2012-08-13 15:52:40	MaxGaudron	with the accountId/sectorId replaced by the real object
2012-08-13 15:53:12	alanhollis	ahhh
2012-08-13 15:53:33	alanhollis	client/join/accounts+sectors
2012-08-13 15:53:49	alanhollis	as that's essentially what you're doing
2012-08-13 15:54:03	MaxGaudron	Yes
2012-08-13 15:54:13	MaxGaudron	but the other syntax was better :D
2012-08-13 15:54:39	alanhollis	yeah client/with/accounts+sectors what ever really
2012-08-13 15:54:50	alanhollis	I dont like using the  / as that normally represents a distinction
2012-08-13 15:55:23	MaxGaudron	same here
2012-08-13 15:56:53	SymbleJenkins	Project Symble3_Backend_API build #134: STILL FAILING in 12 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/134/
2012-08-13 16:00:32	SymbleJenkins	Project Symble3_Backend_API build #135: STILL FAILING in 47 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/135/
2012-08-13 16:00:32	SymbleJenkins	Max Gaudron: Removed bcrypt library, from now we'll need to install it globally.
2012-08-13 16:01:56	alanhollis	probably worth looking into mongoose populate again MaxGaudron  too
2012-08-13 16:02:03	alanhollis	could save a few hours / headaches later on
2012-08-13 16:03:20	MaxGaudron	i'll take a look
2012-08-13 16:03:46	MaxGaudron	alanhollis / JohnHamelink you'll need to install the 'bcrypt' npm module globally on your machine.
2012-08-13 16:04:31	alanhollis	Why? ;)
2012-08-13 16:04:35	alanhollis	I'm like a child
2012-08-13 16:05:09	MaxGaudron	i deleted it because it's a C shared node library, and when you install it, it's compiled for your machine, and jenkins (on linux) doesn't like the compiled module for mac os x
2012-08-13 16:07:32	alanhollis	you know what would be cool .....
2012-08-13 16:07:49	MaxGaudron	let me guess, to install linux on my machine ? =)
2012-08-13 16:07:52	alanhollis	a post pull hook to recompile the module ;)
2012-08-13 16:09:25	alanhollis	bah, that involves installing another node module globally too tho :(
2012-08-13 16:09:45	alanhollis	I'll succumb, you should install linux ;) ;)
2012-08-13 16:10:40	MaxGaudron	http://cl.ly/image/0Q1X3c191H2o
2012-08-13 16:11:20	alanhollis	uh oh
2012-08-13 16:14:33	SymbleJenkins	Yippie, build fixed!
2012-08-13 16:14:33	SymbleJenkins	Project Symble3_Backend_API build #136: FIXED in 18 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/136/
2012-08-13 16:14:54	SymbleJenkins	Project Symble 3 - AUT - Backend build #57: SUCCESS in 16 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/57/
2012-08-13 16:14:55	SymbleJenkins	* Max Gaudron: added magic key to bypass the auth for development
2012-08-13 16:14:55	SymbleJenkins	* Max Gaudron: added connect lib
2012-08-13 16:14:56	SymbleJenkins	* Max Gaudron: Added a modified version of "basicAuth" middleware to return JSON error instead of a string. the auth system is now using the new middleware.
2012-08-13 16:14:56	SymbleJenkins	* Max Gaudron: bug fix: the socket module was sending request to the port 3000 instead matching the one from the API.
2012-08-13 16:14:57	SymbleJenkins	* Max Gaudron: bug fix: event creation was broken
2012-08-13 16:14:57	SymbleJenkins	* Max Gaudron: test suite updated to use the auth magic key.
2012-08-13 16:14:58	SymbleJenkins	* Max Gaudron: fix ant script, it's not possible to call 2 time a target from another target
2012-08-13 16:14:58	SymbleJenkins	* Max Gaudron: Removed bcrypt library, from now we'll need to install it globally.
2012-08-13 16:32:01	SymbleJenkins	Project Symble3_Backend_API build #137: SUCCESS in 34 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/137/
2012-08-13 16:32:02	SymbleJenkins	Max Gaudron: init.d script now export the NODE_PATH
2012-08-13 16:32:30	SymbleJenkins	Project Symble 3 - AUT - Backend build #58: SUCCESS in 23 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/58/
2012-08-13 16:32:30	SymbleJenkins	Max Gaudron: init.d script now export the NODE_PATH
2012-08-13 16:49:44	SymbleJenkins	Project Symble3_Backend_API build #138: SUCCESS in 17 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/138/
2012-08-13 16:49:45	SymbleJenkins	Max Gaudron: cleaned the app.js file, moved the module loading into a separate object, added back the vendor/module/routes.js file loading (it'll be used to declare custom routes )
2012-08-13 16:49:58	SymbleJenkins	Project Symble 3 - AUT - Backend build #59: SUCCESS in 8.5 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/59/
2012-08-13 16:49:58	SymbleJenkins	Max Gaudron: cleaned the app.js file, moved the module loading into a separate object, added back the vendor/module/routes.js file loading (it'll be used to declare custom routes )
2012-08-13 16:51:09		irc: disconnected from server
2012-08-13 16:52:34	-->	JohnHamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-08-13 16:52:34	--	Nicks #symble: [alanhollis ArnaudFrugier BenjaminMaugain JohnHamelink MaxGaudron sylvainreiter211 SymbleJenkins]
2012-08-13 16:52:34	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-08-13 16:52:38	--	Mode #symble [+cnt]
2012-08-13 16:52:38	--	Channel created on Fri, 25 May 2012 16:17:53
2012-08-13 16:55:19	sylvainreiter211	JohnHamelink, how are you about re-organising the sprint? Are we one for the 2 weeks updates? Shall we move to Trello?
2012-08-13 16:59:06	JohnHamelink	sylvainreiter211: Been working on the research stuff most of today; alanhollis is working on the revenue stuff now in preperation for the first report. I think we should move to trello because we can't do the priority organisation part which is a shame
2012-08-13 17:00:15	JohnHamelink	if you get a change sylvainreiter211 would be very beneficial if you could give alanhollis some example revenue data from imara or beltone or something - would probably help a lot :)
2012-08-13 17:00:24	alanhollis	Could do with a little clarification based on the spreadsheet, do staff members upload revenue on a per account basis, or is it an upload for every account?
2012-08-13 17:00:24	sylvainreiter211	ok, do you want me to move the tasks? I will use a color code for the tasks estimate (1pt, 2 pt, 4 pt, 8 pt, 16+pt)
2012-08-13 17:00:57	JohnHamelink	sylvainreiter211: you can if you like :)
2012-08-13 17:01:01	MaxGaudron	we are moving to trello ?
2012-08-13 17:01:44	JohnHamelink	MaxGaudron: yeah it's probably better because we can do the whole priority organisation thing
2012-08-13 17:02:33	JohnHamelink	there's a lot in sprint.ly i'll miss but trello makes more sense for us right now I think
2012-08-13 17:03:13	MaxGaudron	i like sprint.ly :D
2012-08-13 17:03:19	sylvainreiter211	any objection MaxGaudron?
2012-08-13 17:03:38	sylvainreiter211	we can vote around the table if needed
2012-08-13 17:04:40	MaxGaudron	Huum, not really, i just like sprint.ly more than trello, to manage a project like symble for me it make more sense to stay on a tool like sprint.ly than trello.
2012-08-13 17:05:01	sylvainreiter211	what features will you miss?
2012-08-13 17:05:28	MaxGaudron	markdown, stories with tasks / defects
2012-08-13 17:06:57	sylvainreiter211	we will use color code and tags
2012-08-13 17:07:14	sylvainreiter211	lets me migrate it, i wont delete sprintly straight away if it does not work out
2012-08-13 17:08:01	alanhollis	I think half the problem with sprint.ly at the moment is it's become a mess
2012-08-13 17:08:14	sylvainreiter211	sp JohnHamelink, I will send a new high level timeline to everyone with new deadline and completion of MVP in 2 weeks
2012-08-13 17:08:59	alanhollis	the tasks have too little information, and it's not clear what's due for the current sprint are my two biggest gripes
2012-08-13 17:09:19	sylvainreiter211	ok alanhollis, i agree. timeline screen is a mess
2012-08-13 17:09:37	JohnHamelink	alanhollis: agreed, part of the reason for this is because its not possible to prioritise :/
2012-08-13 17:11:47	alanhollis	JohnHamelink, do you have time for a skype chat regarding financial stuff?
2012-08-13 17:11:50	alanhollis	please
2012-08-13 17:11:58	JohnHamelink	of course, give me 2 secs
2012-08-13 17:12:19	sylvainreiter211	can I join on skype as well?
2012-08-13 17:12:48	JohnHamelink	sure sylvainreiter211 
2012-08-13 17:19:38	--	MaxGaudron is now known as MaxGaudronBNC
2012-08-13 17:20:08	--	MaxGaudronBNC is now known as MaxGaudron
2012-08-13 17:50:46	sylvainreiter211	JohnHamelink can you give me admin role on the board me@alanhollis.com
2012-08-13 17:50:57	sylvainreiter211	on the board https://trello.com/board/symble-3-featurelist/4f4662220b4f0def04368982
2012-08-13 17:51:03	sylvainreiter211	sorry, wrong paste :-)
2012-08-13 17:58:35	--	ArnaudFrugier is now known as ArnaudFrugierBNC
2012-08-13 17:59:41	MaxGaudron	Bye bye !
2012-08-13 17:59:48	alanhollis	night MaxGaudron
2012-08-13 18:00:13	--	MaxGaudron is now known as MaxGaudronBNC
2012-08-13 18:26:46	--	BenjaminMaugain is now known as benjMaugain_AFK
2012-08-13 18:48:49	--	ArnaudFrugierBNC is now known as ArnaudFrugier
2012-08-13 21:36:06		irc: disconnected from server
2012-08-14 08:56:50	-->	JohnHamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-08-14 08:56:50	--	Nicks #symble: [alanhollis ArnaudFrugier BenjaminMaugain JohnHamelink MaxGaudronBNC sylvainreiter211 SymbleJenkins]
2012-08-14 08:56:50	--	Channel #symble: 7 nicks (0 ops, 0 halfops, 0 voices, 7 normals)
2012-08-14 08:56:54	--	Mode #symble [+cnt]
2012-08-14 08:56:54	--	Channel created on Fri, 25 May 2012 16:17:53
2012-08-14 08:58:09	JohnHamelink	morning :)
2012-08-14 09:15:36	--	MaxGaudronBNC is now known as MaxGaudron
2012-08-14 09:15:37	MaxGaudron	Hellooo
2012-08-14 09:16:37	alanhollis	Morning MaxGaudron
2012-08-14 09:17:57	MaxGaudron	alanhollis yesterday i tried to play with mongoose "populate" method, it's working perfectly
2012-08-14 09:28:40	alanhollis	awesome!
2012-08-14 09:28:55	alanhollis	That's really good news, I was so worried about having to do joins ourselves
2012-08-14 09:29:10	MaxGaudron	 that's the code : http://cl.ly/image/1E3a0A330M2u
2012-08-14 09:29:14	MaxGaudron	it's much cleaner
2012-08-14 09:29:37	alanhollis	that's perfect
2012-08-14 09:29:41	MaxGaudron	( i use the client?with=account,blablabla
2012-08-14 09:47:18	JohnHamelink	MaxGaudron: http://gist.github.com/3347593
2012-08-14 09:47:31	JohnHamelink	just pulled in from unstable :(
2012-08-14 09:48:06	MaxGaudron	open the file build/API_test.log
2012-08-14 09:48:22	MaxGaudron	* i suppose * you have to install bcrypt globally
2012-08-14 09:48:23	JohnHamelink	>_>
2012-08-14 09:48:32	JohnHamelink	derp
2012-08-14 09:48:55	JohnHamelink	i installed it locally last time i think >_>
2012-08-14 09:49:12	MaxGaudron	if you install it locally please don't push it on bitbucket :)
2012-08-14 09:50:10	JohnHamelink	ha no i reset and pulled :)
2012-08-14 09:50:15	JohnHamelink	works now thanks
2012-08-14 09:58:17	SymbleJenkins	Project Symble3_Backend_API build #139: FAILURE in 49 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/139/
2012-08-14 09:58:17	SymbleJenkins	Alan Hollis: Add account to event
2012-08-14 10:00:08	MaxGaudron	alanhollis
2012-08-14 10:00:20	alanhollis	yes Mr MaxGaudron
2012-08-14 10:00:23	MaxGaudron	now the backend knows which client is doing the requests
2012-08-14 10:00:54	MaxGaudron	am looking at your commit right now, you are sending the IdClient with the request
2012-08-14 10:01:14	alanhollis	Aye, because it's a staff member adding to the callsheet
2012-08-14 10:01:16	alanhollis	not a client
2012-08-14 10:01:32	alanhollis	but the "event" is against a client and a staff member
2012-08-14 10:01:40	MaxGaudron	Heu, the backend knows the user* it can be a client or an event
2012-08-14 10:01:47	MaxGaudron	client or staff*
2012-08-14 10:01:56	alanhollis	?
2012-08-14 10:02:02	MaxGaudron	and it's available here : req.user
2012-08-14 10:02:09	alanhollis	but it can't be a client and a staff member which is what I need in this instance
2012-08-14 10:02:16	MaxGaudron	Ah yes
2012-08-14 10:02:23	alanhollis	I could probably remove the idStaff bit as I configure that from the PHP side at the moment
2012-08-14 10:02:48	MaxGaudron	but it'll be usefull for the interaction :)
2012-08-14 10:02:50	alanhollis	Can we do req.use instance of Staff/Client
2012-08-14 10:02:55	alanhollis	req.user*
2012-08-14 10:03:17	MaxGaudron	check the type of the document
2012-08-14 10:03:24	MaxGaudron	if( req.user == "client")
2012-08-14 10:04:10	alanhollis	cool, I'll modify events to check for staff member / client and set the idStaff/idClient in the collection as appropriate!
2012-08-14 10:04:13	alanhollis	Cheers Max
2012-08-14 10:04:17	MaxGaudron	when i'm done with the mobile route i'll do a proper OO extend User -> child classes Staff/client and add a method .isClient() isStaff()
2012-08-14 10:04:29	alanhollis	Yeah that would be nice
2012-08-14 10:04:48	alanhollis	if(user instanceOf client) would be cool
2012-08-14 10:04:58	MaxGaudron	Huuumm
2012-08-14 10:05:06	MaxGaudron	that's polymorphisme
2012-08-14 10:05:16	MaxGaudron	polymorphism*
2012-08-14 10:05:33	MaxGaudron	i can do it but i don't know how to do it in a clean way
2012-08-14 10:05:38	alanhollis	yeah, not sure it's going to be possible, unless that pull request comes in
2012-08-14 10:06:07	MaxGaudron	i'll check, the buggy library do that, i'll check later
2012-08-14 10:06:52	alanhollis	He's taken a fair bit of time over that module
2012-08-14 10:07:04	alanhollis	I wonder how quick he'd respond to issue requests
2012-08-14 10:07:37	MaxGaudron	there is no issue requests :o
2012-08-14 10:09:20	alanhollis	the latest commit is "fix for plugin support" which I know was causing an issue, I guess whether it handles embeddeds is the big one
2012-08-14 10:09:35	alanhollis	Did I break the tests on the backend btw?
2012-08-14 10:09:51	alanhollis	It's failing on my machine on add Embedded
2012-08-14 10:10:18	MaxGaudron	http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/lastCompletedBuild/testReport/
2012-08-14 10:10:28	MaxGaudron	it's failing on jenkins : search by name
2012-08-14 10:10:42	MaxGaudron	and it's since your commit
2012-08-14 10:11:49	alanhollis	it's failing because "should" is not installed I think
2012-08-14 10:12:15	MaxGaudron	no it's working
2012-08-14 10:12:21	MaxGaudron	clic on workspace
2012-08-14 10:12:29	MaxGaudron	buid/API_test.log
2012-08-14 10:12:31	MaxGaudron	build*
2012-08-14 10:12:39	MaxGaudron	the API is started and the tests were running
2012-08-14 10:13:28	alanhollis	it's failing all over the shop
2012-08-14 10:13:47	alanhollis	my commit only worked on the event vendor stuff :(
2012-08-14 10:18:01	alanhollis	console.log(req.user) // not null !
2012-08-14 10:18:52	MaxGaudron	Ah, yes
2012-08-14 10:19:13	MaxGaudron	are you using a real user ?
2012-08-14 10:19:26	MaxGaudron	check app.js line 91
2012-08-14 10:19:27	alanhollis	people keep telling me that
2012-08-14 10:19:42	alanhollis	I keep saying Yes I'm a user, but for somereason everyone thinks I'm a program
2012-08-14 10:19:51	MaxGaudron	:p
2012-08-14 10:19:54	alanhollis	and I have to wear this stupid suit
2012-08-14 10:19:58	alanhollis	and race around on bikes
2012-08-14 10:21:16	MaxGaudron	sounds like matrix
2012-08-14 10:21:21	alanhollis	close
2012-08-14 10:21:24	alanhollis	Tron
2012-08-14 10:21:36	MaxGaudron	Hum, which one ?
2012-08-14 10:21:47	alanhollis	both ;)
2012-08-14 10:22:27	alanhollis	How could I use the web pages if I was an invalid user?
2012-08-14 10:22:50	alanhollis	and how have I broken all these tests :(
2012-08-14 10:23:33	alanhollis	hmmm
2012-08-14 10:23:42	alanhollis	793 tests complete on my machine
2012-08-14 10:26:08	alanhollis	can I force it to run another build?
2012-08-14 10:26:18	MaxGaudron	yes yes
2012-08-14 10:26:42	SymbleJenkins	Yippie, build fixed!
2012-08-14 10:26:43	SymbleJenkins	Project Symble3_Backend_API build #140: FIXED in 20 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/140/
2012-08-14 10:27:00	alanhollis	wtf
2012-08-14 10:27:07	alanhollis	bugs!!!!
2012-08-14 10:27:08	alanhollis	;)
2012-08-14 10:27:23	alanhollis	I changed nothing :)
2012-08-14 10:27:24	SymbleJenkins	Project Symble 3 - AUT - Backend build #60: SUCCESS in 37 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/60/
2012-08-14 10:27:25	SymbleJenkins	Alan Hollis: Add account to event
2012-08-14 10:29:07	SymbleJenkins	Project Symble3_Backend_API build #141: SUCCESS in 37 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/141/
2012-08-14 10:29:27	alanhollis	One more time..
2012-08-14 10:29:50	SymbleJenkins	Project Symble 3 - AUT - Backend build #61: SUCCESS in 38 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/61/
2012-08-14 10:29:52	alanhollis	Guessing something didn't tidy up properly after the last test?
2012-08-14 10:30:24	SymbleJenkins	Project Symble3_Backend_API build #142: SUCCESS in 55 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/142/
2012-08-14 10:30:24	MaxGaudron	i don't think so, the database is deleted after each job
2012-08-14 10:30:36	SymbleJenkins	Project Symble 3 - AUT - Backend build #62: SUCCESS in 7.5 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/62/
2012-08-14 10:30:37	MaxGaudron	between each tests the collections are cleaned
2012-08-14 10:30:47	MaxGaudron	and the files are deleted as well
2012-08-14 10:31:03	alanhollis	hmmm, I wonder, something caused it to get its knickers in a twist
2012-08-14 10:31:23	MaxGaudron	now i reallly want to generalise the ?with= syntax to the whole API
2012-08-14 10:31:27	MaxGaudron	it's really usefull :)
2012-08-14 10:33:54	MaxGaudron	it's the ant script
2012-08-14 10:34:01	MaxGaudron	something is wrong on my machine as well
2012-08-14 10:34:20	MaxGaudron	sometime the api isn't stopped correctly
2012-08-14 10:34:39	alanhollis	yeah I'm seeing that stoApi.sh kill no such process
2012-08-14 10:35:43	SymbleJenkins	Project Symble3_Backend_API build #143: SUCCESS in 16 sec: http://jenkins.cyberduck.net:8080/job/Symble3_Backend_API/143/
2012-08-14 10:35:43	SymbleJenkins	Max Gaudron: Added logic to the GET /client and POST /client/search REST method, example: /client/search?with=account|country|interestRegions|interestSectors
2012-08-14 10:36:11	SymbleJenkins	Project Symble 3 - AUT - Backend build #63: SUCCESS in 23 sec: http://jenkins.cyberduck.net:8080/job/Symble%203%20-%20AUT%20-%20Backend/63/
2012-08-14 10:36:12	SymbleJenkins	Max Gaudron: Added logic to the GET /client and POST /client/search REST method, example: /client/search?with=account|country|interestRegions|interestSectors
2012-08-14 10:42:45	alanhollis	hmm why is my password magic_key_is_magic?
2012-08-14 10:43:30	alanhollis	is this a configuration option in the front end?
2012-08-14 10:45:22	MaxGaudron	the portal use the magic key to use the API without user
2012-08-14 10:45:26	MaxGaudron	like the login
2012-08-14 10:45:37	alanhollis	Why?
2012-08-14 10:45:38	alanhollis	;)
2012-08-14 10:46:05	MaxGaudron	because we are in development :p for the production the API will have a API user or something like that
2012-08-14 10:46:57	alanhollis	but, we'll need to know who's logged in from the portal on the backend
2012-08-14 10:46:59	alanhollis	?
2012-08-14 10:47:46	MaxGaudron	yes, 2sec
2012-08-14 10:47:50	MaxGaudron	i'll find the commit on bitbucket
2012-08-14 10:48:45	MaxGaudron	that's for the API : https://bitbucket.org/symble/symble-3-php-client/changeset/b6bead593d2facfbc47ebf496ef5aa37
2012-08-14 10:49:17	MaxGaudron	and for the portal : https://bitbucket.org/symble/symble-3-staff-web-frontend/changeset/210e1e46e3ce0dc1e0a1ec49493c72418fa20dd0
2012-08-14 10:50:06	MaxGaudron	( for the portal, bitbucket is buggy, i added 2 lines in the authDriver and in the application/routes.php file )
2012-08-14 10:50:17	alanhollis	aye, but why does the API have it's own user?
2012-08-14 10:50:23	alanhollis	Am I reading this wrong?
2012-08-14 10:50:33	alanhollis	Why isn't the api using the currently logged in user
2012-08-14 10:51:35	alanhollis	or are we persisting the logged in user in the backend in some other way?
2012-08-14 10:52:53	MaxGaudron	because how do you want to query the API to check the user if there is no connected user ? :D
2012-08-14 10:53:12	MaxGaudron	you need to query the APi to log in
2012-08-14 10:53:45	alanhollis	true, but that should only be the case for the login request
2012-08-14 10:54:00	alanhollis	in which case I wouldn't even send a username/password
2012-08-14 10:54:08	JohnHamelink	urgh brb sorry guys
2012-08-14 10:54:15		irc: disconnected from server
2012-08-18 14:57:46	-->	JohnHamelink (~JohnHamel@ks393762.kimsufi.com) has joined #symble
2012-08-18 14:57:46	--	Nicks #symble: [alanhollis1252 benjMaugain_AFK JohnHamelink MaxGaudronBNC sylvainreiter211 SymbleJenkins]
2012-08-18 14:57:46	--	Channel #symble: 6 nicks (0 ops, 0 halfops, 0 voices, 6 normals)
2012-08-18 14:57:50	--	Mode #symble [+cnt]
2012-08-18 14:57:50	--	Channel created on Fri, 25 May 2012 16:17:53
2012-08-18 16:12:00		irc: disconnected from server
